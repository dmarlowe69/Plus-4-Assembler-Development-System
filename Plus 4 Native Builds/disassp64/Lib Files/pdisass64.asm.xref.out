PDISASS64.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER64......PAGE 0002

LINE# LOC   CODE        LINE


00003  0000              ;*********************************
00004  0000              *=$1001                ;START OF BASIC
00005  1001              ;*********************************
00006  1001              ; SET BSTUB TO ONE TO ALLOW FOR
00007  1001              ; INSERTION OF BASIC STUB CODE
00008  1001              ;*********************************
00009  1001              BSTUB  = 1
00010  1001              ;*********************************
00011  1001              ;
00012  1001              ;        DISASSEMBLER64
00013  1001              ;    DISASSEMBLER.C64 V080282
00014  1001              ;    SYMBOLIC DISASSEMBLER
00015  1001              ;       BY DENTON MARLOWE
00016  1001              ;
00017  1001              ;  (C)1986 BY DENTON MARLOWE
00018  1001              ;
00019  1001              ; MACRO ASSEMBLER DEVELOPMENT SYSTEM
00020  1001              ;  (C) 1982 BY COMMODORE MACHINES
00021  1001              ;
00022  1001              ;*********************************
00023  1001              ;
00024  1001              ; BASIC FORMAT PROGRAM
00025  1001              ;
00026  1001              ; 10 SYS(4111)
00027  1001              ;
00028  1001              ;*********************************
00030  1001              ;.IF  BSTUB == 1
00031  1001  0D 10              .WORD BASIC     ;NEXT LINE POINTER
00032  1003  0A                 .BYTE $0A,$00   ;LINE NUMBER
00032  1004  00 
00033  1005  9E                 .BYTE $9E       ;SYS COMMAND
00034  1006  28 34              .BYTE '(4111)'  ;ASCII (4111)
00035  100C  00                 .BYTE 0         ;END OF LINE
00036  100D  00          BASIC  .BYTE 0,0       ;END OF BASIC
00036  100E  00 
00038  100F              ;.FI
00039  100F              ;*********************************
00040  100F              .LIB   DIS.ASM
00041  100F              ;*********************************
00042  100F              ; FILE DIS.ASM
00043  100F              ;*********************************
00044  100F              ;
00045  100F              ;        DISASSEMBLER64
00046  100F              ;    SYMBOLIC DISASSEMBLER
00047  100F              ;       BY DENTON MARLOWE
00048  100F              ;
00049  100F              ;  (C)1986 BY DENTON MARLOWE
00050  100F              ;
00051  100F              ;*********************************
00052  100F              ; KERNAL ADDRESS
00053  100F              ;*********************************
00054  100F              VICREG=$D011           ;SCREEN REGISTER
00055  100F              CHROUT=$FFD2           ;OUTPUT CHARACTER
00056  100F              CHKIN  =$FFC6          ;OPEN INPUT FILE
00057  100F              CHRIN  =$FFCF          ;GET KEYBOARD INPUT






DISASSEMBLER64......PAGE 0003

LINE# LOC   CODE        LINE


00058  100F              GETIN  =$FFE4          ;GET KEYBOARD CHAR
00059  100F              CLRCHN=$FFCC           ;RESET I/O CHANNELS
00060  100F              STOP   =$FFE1          ;CHECK FOR STOP
00061  100F              READST=$FFB7           ;READ ST
00062  100F              SETNAM=$FFBD           ;SET FILENAME
00063  100F              SETLFS=$FFBA           ;SET LOGICAL FILE
00064  100F              OPEN   =$FFC0          ;OPEN FILE
00065  100F              CHKOUT=$FFC9           ;OPEN OUTPUT CHANNEL
00066  100F              CLOSE  =$FFC3          ;CLOSE LOGICAL FILE
00067  100F              ;*********************************
00068  100F              ; RETURN TO BASIC (RESTORE)
00069  100F              ;*********************************
00070  100F              ;WREADY=$E391 ;BASIC RETURN
00071  100F              WREADY = $867E         ;BASICW
00072  100F              ;*********************************
00073  100F              ; ZEROPAGE USAGE EQUATES
00074  100F              ;*********************************
00075  100F              ;ZEROUR=$02 ;ZEROPAGE POINTER
00076  100F              MEMSIZ=$37             ;TOP OF FREE RAM+1
00077  100F              ;*********************************
00078  100F              ; ZEROPAGE USAGE EQUATES
00079  100F              ; $00D8-00E8  APPLICATION SOFTWARE
00080  100F              ;*********************************
00081  100F              ZEROUR=$DD             ;$FD    ;ZERO PAGE POINTER

00082  100F              ;*********************************
00083  100F              ;        ENTRY POINT
00084  100F              ;*********************************
00085  100F  4C 21 12    STARTD JMP DISASS
00086  1012              ;*********************************
00087  1012              ;       VARIABLES
00088  1012              ;*********************************
00089  1012  31          PASS   .BYTE '1'       ;PASS INDICATOR
00090  1013  31          IPASS  .BYTE '1'       ;INTERNAL PASS
00091  1014  32          EPASS  .BYTE '2'       ;EXTERNAL PASS
00092  1015  33          CPASS  .BYTE '3'       ;PRINTING PASS
00093  1016  34          SPASS  .BYTE '4'       ;SYMBOL PASS
00094  1017              ;*********************************
00095  1017  AA          XOPT   .BYTE $AA       ;LABEL GENERATION
00096  1018  AA          ROPT   .BYTE $AA       ;REL ADDRESS OPT
00097  1019  AA          DEVICE .BYTE $AA       ;OUTPUT DEVICE
00098  101A  AA          OUTPUT .BYTE $AA       ;OUTPUT FLAG
00099  101B  AA          WINDOW .BYTE $AA       ;WINDOW FLAG
00100  101C  AA          FOROPT .BYTE $AA       ;FORMAT FLAG
00101  101D  AA          COMOPT .BYTE $AA       ;COMMENT FLAG
00102  101E              ;*********************************
00103  101E              ; DISASSEMBLY ADDRESS POINTERS
00104  101E              ;*********************************
00105  101E  AA AA       SA     .WORD $AAAA     ;START ADDRESS
00106  1020  AA AA       EA     .WORD $AAAA     ;END ADDRESS
00107  1022  AA AA       SELECT .WORD $AAAA     ;BYTE POINTER
00108  1024  AA AA       OFFSET .WORD $AAAA     ;ADDRESS OFFSET
00109  1026  AA AA       SAGOL  .WORD $AAAA     ;GOLBAL START
00110  1028  AA AA       EAGOL  .WORD $AAAA     ;GOLBAL END
00111  102A  AA AA       SAOUT  .WORD $AAAA     ;START ADDRESS
00112  102C  AA AA       EAOUT  .WORD $AAAA     ;END ADDRESS






DISASSEMBLER64......PAGE 0004

LINE# LOC   CODE        LINE


00113  102E              ;*********************************
00114  102E              ; INTERNAL ADDRESS TABLE
00115  102E              ;*********************************
00116  102E  AA AA       TABINP .WORD $AAAA     ;TABLE POINTER
00117  1030  AA AA       TABINS .WORD $AAAA     ;TABLE START
00118  1032  AA AA       TABINE .WORD $AAAA     ;TABLE END
00119  1034              ;*********************************
00120  1034              ; SORT TABLE POINTERS
00121  1034              ;*********************************
00122  1034  AA AA       SMALLS .WORD $AAAA     ;TABLE START
00123  1036  AA AA       SMALLP .WORD $AAAA     ;TABLE POINTER
00124  1038              ;*********************************
00125  1038              ; SYMBOL TABLE
00126  1038              ;*********************************
00127  1038  AA          SYMBOL .BYTE $AA       ;SYMBOL OPTION
00128  1039  AA AA       SYMBOP .WORD $AAAA     ;TABLE POINTER
00129  103B  AA AA       SYMBOS .WORD $AAAA     ;TABLE START
00130  103D  AA AA       SYMBOE .WORD $AAAA     ;TABLE END
00131  103F              ;*********************************
00132  103F              ; UNDEFINED SYMBOL TABLE
00133  103F              ;*********************************
00134  103F  AA AA       UYMBOP .WORD $AAAA     ;TABLE POINTER
00135  1041  AA AA       UYMBOS .WORD $AAAA     ;TABLE START
00136  1043  AA AA       UYMBOE .WORD $AAAA     ;TABLE END
00137  1045              ;*********************************
00138  1045              ; TEMP WORKING STORAGE
00139  1045              ;*********************************
00140  1045  AA AA       WORKED .WORD $AAAA     ;TWO BYTE OP
00141  1047  AA AA       WORKER .WORD $AAAA     ;TWO BYTE OP
00142  1049  AA AA       SAVEP  .WORD $AAAA     ;TWO BYTE OP
00143  104B  AA AA       SAVES  .WORD $AAAA     ;TWO BYTE OP
00144  104D  AA AA       SAVEE  .WORD $AAAA     ;TWO BYTE OP
00145  104F              ;*********************************
00146  104F              ; OTHER VARIABLES
00147  104F              ;*********************************
00148  104F  AA AA       ADRS   .WORD $AAAA
00149  1051  AA          TEMP   .BYTE $AA
00150  1052  AA          SAVA   .BYTE $AA
00151  1053  AA          SAVX   .BYTE $AA
00152  1054  AA          SAVY   .BYTE $AA
00153  1055              ;*********************************
00154  1055              ; PRINTER OUTPUT STORAGE
00155  1055              ;*********************************
00156  1055  AA AA       PAGECT .WORD $AAAA     ;PAGE COUNT
00157  1057  AA          LISTCT .BYTE $AA       ;LINE COUNT
00158  1058  AA AA       LINECT .WORD $AAAA     ;LINE COUNT
00159  105A  AA AA       ERRCT  .WORD $AAAA     ;ERROR COUNT
00160  105C              ;*********************************
00161  105C              ; INPUT BUFFER
00162  105C              ;*********************************
00163  105C              BUF    = *
00164  105C  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00164  105D  00 
00164  105E  00 
00164  105F  00 






DISASSEMBLER64......PAGE 0005

LINE# LOC   CODE        LINE


00164  1060  00 
00164  1061  00 
00164  1062  00 
00164  1063  00 
00164  1064  00 
00164  1065  00 
00165  1066  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00165  1067  00 
00165  1068  00 
00165  1069  00 
00165  106A  00 
00165  106B  00 
00165  106C  00 
00165  106D  00 
00165  106E  00 
00165  106F  00 
00166  1070  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00166  1071  00 
00166  1072  00 
00166  1073  00 
00166  1074  00 
00166  1075  00 
00166  1076  00 
00166  1077  00 
00166  1078  00 
00166  1079  00 
00167  107A  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00167  107B  00 
00167  107C  00 
00167  107D  00 
00167  107E  00 
00167  107F  00 
00167  1080  00 
00167  1081  00 
00167  1082  00 
00167  1083  00 
00168  1084  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00168  1085  00 
00168  1086  00 
00168  1087  00 
00168  1088  00 
00168  1089  00 
00168  108A  00 
00168  108B  00 
00168  108C  00 
00168  108D  00 
00169  108E  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00169  108F  00 
00169  1090  00 
00169  1091  00 
00169  1092  00 
00169  1093  00 
00169  1094  00 
00169  1095  00 
00169  1096  00 






DISASSEMBLER64......PAGE 0006

LINE# LOC   CODE        LINE


00169  1097  00 
00170  1098  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00170  1099  00 
00170  109A  00 
00170  109B  00 
00170  109C  00 
00170  109D  00 
00170  109E  00 
00170  109F  00 
00170  10A0  00 
00170  10A1  00 
00171  10A2  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00171  10A3  00 
00171  10A4  00 
00171  10A5  00 
00171  10A6  00 
00171  10A7  00 
00171  10A8  00 
00171  10A9  00 
00171  10AA  00 
00171  10AB  00 
00172  10AC  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00172  10AD  00 
00172  10AE  00 
00172  10AF  00 
00172  10B0  00 
00172  10B1  00 
00172  10B2  00 
00172  10B3  00 
00172  10B4  00 
00172  10B5  00 
00173  10B6  00                 .BYTE 0,0,0,0,0,0,0,0,0,0
00173  10B7  00 
00173  10B8  00 
00173  10B9  00 
00173  10BA  00 
00173  10BB  00 
00173  10BC  00 
00173  10BD  00 
00173  10BE  00 
00173  10BF  00 
00174  10C0              ;*********************************
00175  10C0              ; FILE NAME BUFFER
00176  10C0              ;*********************************
00177  10C0  AA AA       LINEFL .WORD $AAAA
00178  10C2  AA          VERSON .BYTE $AA
00179  10C3  AA          NCHARS .BYTE $AA
00180  10C4              NBUF   = *
00181  10C4  30 3A              .BYTE '0:'
00182  10C6  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00182  10C7  AA 
00182  10C8  AA 
00182  10C9  AA 
00182  10CA  AA 
00182  10CB  AA 






DISASSEMBLER64......PAGE 0007

LINE# LOC   CODE        LINE


00182  10CC  AA 
00182  10CD  AA 
00183  10CE  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
00183  10CF  AA 
00183  10D0  AA 
00183  10D1  AA 
00183  10D2  AA 
00183  10D3  AA 
00183  10D4  AA 
00183  10D5  AA 
00184  10D6  AA                 .BYTE $AA,$AA,$AA,$AA
00184  10D7  AA 
00184  10D8  AA 
00184  10D9  AA 
00185  10DA              ;*********************************
00186  10DA              ; SYMBOL TABLE BUFFER
00187  10DA              ;*********************************
00188  10DA              SYMBUF = *
00189  10DA  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,
$AA
00189  10DB  AA 
00189  10DC  AA 
00189  10DD  AA 
00189  10DE  AA 
00189  10DF  AA 
00189  10E0  AA 
00189  10E1  AA 
00189  10E2  AA 
00189  10E3  AA 
00190  10E4              ;*********************************
00191  10E4              ; DATA TABLE
00192  10E4              ;*********************************
00193  10E4  AA AA       EAS    .WORD $AAAA
00194  10E6  AA          TEXTER .BYTE $AA
00195  10E7  AA AA       CDATA  .WORD $AAAA
00196  10E9  AA AA       NDATA  .WORD $AAAA
00197  10EB  AA AA       DATABP .WORD $AAAA     ;DATA POINT
00198  10ED  AA AA       DATABS .WORD $AAAA     ;DATA START
00199  10EF  AA AA       DATABE .WORD $AAAA     ;DATA END
00200  10F1              ;*********************************
00201  10F1              ; DATA TABLE
00202  10F1              ;*********************************
00203  10F1  AA          TDATA  .BYTE $AA
00204  10F2              ;*********************************
00205  10F2              *=*+$0100
00206  11F2              ;*********************************
00207  11F2  0D          MPASS  .BYTE $0D,'PASS',0
00207  11F3  50 41 
00207  11F7  00 
00208  11F8  0D          PMSG   .BYTE $0D,$12,' PAUSE ',$92,$0D,0
00208  11F9  12 
00208  11FA  20 50 
00208  1201  92 
00208  1202  0D 
00208  1203  00 
00209  1204  45 52       MSGERR .BYTE 'ERRORS = ',0






DISASSEMBLER64......PAGE 0008

LINE# LOC   CODE        LINE


00209  120D  00 
00210  120E  45 4E       MSGDIS .BYTE 'END OF DISASSEMBLY',0
00210  1220  00 
00211  1221              ;*********************************
00212  1221              ; INITIALIZE DISASSEMBLER
00213  1221              ;*********************************
00214  1221  A2 FF       DISASS LDX #$FF
00215  1223  9A                 TXS
00216  1224  D8                 CLD
00217  1225  20 6D 13           JSR DOP         ;GET OPTIONS
00218  1228  20 62 22           JSR INITIN      ;INIT POINTERS
00219  122B  A9 31              LDA #'1'        ;PASS ONE
00220  122D  8D 12 10           STA PASS        ;SET PASS INDICATOR
00221  1230              ;*********************************
00222  1230              ; DISASSEMBLER LOOP
00223  1230              ;*********************************
00224  1230  20 4E 21    DISA   JSR INTSA       ;SET SA
00225  1233  A9 00              LDA #00         ;ZERO BYTE
00226  1235  8D E7 10           STA CDATA       ;SET TABLE NUMBER
00227  1238  A9 F2              LDA #<MPASS     ;PASS MSG
00228  123A  A0 11              LDY #>MPASS     ;
00229  123C  20 BB 1B           JSR STRPNT      ;PRINT IT
00230  123F  AD 12 10           LDA PASS        ;GET PASS
00231  1242  20 11 1C           JSR PCHAR       ;PRINT NUMBER
00232  1245  20 F3 20           JSR CRLF        ;CR
00233  1248              ;*********************************
00234  1248  AD 12 10           LDA PASS        ;GET PASS
00235  124B  CD 15 10           CMP CPASS       ;IS IT LAST
00236  124E  F0 0E              BEQ DISB        ;IF SO PRINT
00237  1250  CD 14 10           CMP EPASS       ;IS IT EXTERNAL
00238  1253  D0 3A              BNE DLOOP       ;IF NOT GO ON
00239  1255  20 81 22           JSR SAVINT      ;SAVE INTERNAL
00240  1258  20 35 2B           JSR EQUINT      ;SET EQUATES
00241  125B  4C 8F 12           JMP DLOOP       ;GO ON
00242  125E              ;*********************************
00243  125E  A9 01       DISB   LDA #$01        ;ONE BYTE
00244  1260  8D 58 10           STA LINECT      ;SET LINE # TO 1
00245  1263  8D 55 10           STA PAGECT      ;SET PAGE TO 1
00246  1266  A9 00              LDA #$00        ;ZERO BYTE
00247  1268  8D 59 10           STA LINECT+1    ;SET LINE # TO 1
00248  126B  8D 56 10           STA PAGECT+1    ;SET PAGE TO 1
00249  126E  8D 57 10           STA LISTCT      ;SET LIST TO 0
00250  1271  8D 5A 10           STA ERRCT       ;SET ERROR TO 0
00251  1274  8D 5B 10           STA ERRCT+1     ;SET ERROR TO 0
00252  1277  8D C0 10           STA LINEFL      ;SET LINE TO 0
00253  127A  8D C1 10           STA LINEFL+1    ;SET LINE TO 0
00254  127D  AD 1A 10           LDA OUTPUT      ;GET OUTPUT
00255  1280  8D 19 10           STA DEVICE      ;SET OUTPUT
00256  1283              ;*********************************
00257  1283  20 7A 1C           JSR HEADER      ;PRINT HEADER
00258  1286  20 96 15           JSR OFILED      ;OPEN DISK FILE
00259  1289  20 3B 20           JSR ORGIN       ;PRINT ORGIN LABEL
00260  128C  20 40 2C           JSR EQUPRT      ;PRINT EQUATE
00261  128F              ;********************************
00262  128F  20 7D 1D    DLOOP  JSR DSLINE      ;DIS ONE LINE






DISASSEMBLER64......PAGE 0009

LINE# LOC   CODE        LINE


00263  1292  B0 2C              BCS NEXTP       ;IF EA STOP
00264  1294  20 85 1A           JSR LINECK      ;LINE COUNT
00265  1297  20 E1 FF           JSR STOP        ;CHECK STOP
00266  129A  F0 57              BEQ QUITS       ;IF SO QUIT
00267  129C  20 E4 FF           JSR GETIN       ;GET KEY
00268  129F  F0 EE              BEQ DLOOP       ;IF NONE NEXT
00269  12A1  C9 20              CMP #' '          ;IS IT A SPACE
00270  12A3  D0 EA              BNE DLOOP       ;IF NOT NEXT
00271  12A5              ;*********************************
00272  12A5              ; PAUSE LISTING
00273  12A5              ;********************************
00274  12A5  AD 19 10           LDA DEVICE
00275  12A8  48                 PHA
00276  12A9  A9 03              LDA #$03
00277  12AB  8D 19 10           STA DEVICE
00278  12AE  A9 F8              LDA #<PMSG
00279  12B0  A0 11              LDY #>PMSG
00280  12B2  20 BB 1B           JSR STRPNT
00281  12B5  68                 PLA
00282  12B6  8D 19 10           STA DEVICE
00283  12B9  20 E4 FF    PAUSE  JSR GETIN       ;PAUSE FOR KEY
00284  12BC  F0 FB              BEQ PAUSE       ;
00285  12BE  D0 CF              BNE DLOOP       ;NEXT LINE
00286  12C0              ;********************************
00287  12C0  EE 12 10    NEXTP  INC PASS        ;INC PASS
00288  12C3  AD 12 10           LDA PASS        ;GET PASS
00289  12C6  CD 15 10           CMP CPASS       ;LAST PASS?
00290  12C9  90 1F              BCC DISFUL      ;IF LESS AGAIN
00291  12CB  D0 20              BNE DISC        ;FINISH
00292  12CD  AD 1B 10           LDA WINDOW      ;WINDOW FLAG
00293  12D0  F0 18              BEQ DISFUL      ;FULL OUTPUT
00294  12D2              ;*********************************
00295  12D2              ; WINDOWED OUTPUT
00296  12D2              ;*********************************
00297  12D2  AD 2A 10           LDA SAOUT       ;
00298  12D5  8D 1E 10           STA SA          ;
00299  12D8  AD 2B 10           LDA SAOUT+1     ;
00300  12DB  8D 1F 10           STA SA+1        ;
00301  12DE  AD 2C 10           LDA EAOUT       ;
00302  12E1  8D 20 10           STA EA          ;
00303  12E4  AD 2D 10           LDA EAOUT+1     ;
00304  12E7  8D 21 10           STA EA+1        ;
00305  12EA              ;*********************************
00306  12EA  4C 30 12    DISFUL JMP DISA        ;LAST PASS
00307  12ED  20 23 21    DISC   JSR INCSL
00308  12F0  20 51 20           JSR EFILE       ;END FILE MSG
00309  12F3              ;*********************************
00310  12F3  AD 19 10    QUITS  LDA DEVICE      ;CHECK DEV
00311  12F6  29 08              AND #$08        ;DISK FILE?
00312  12F8  F0 10              BEQ QUTERR      ;IF NOT BRANCH
00313  12FA  A9 08              LDA #$08        ;DISK
00314  12FC  20 C3 FF           JSR CLOSE       ;CLOSE IT
00315  12FF  AD 1A 10           LDA OUTPUT      ;GET OUTPUT
00316  1302  29 07              AND #07         ;MASK DISK
00317  1304  8D 1A 10           STA OUTPUT      ;RESET OUTPUT






DISASSEMBLER64......PAGE 0010

LINE# LOC   CODE        LINE


00318  1307  8D 19 10           STA DEVICE      ;RESET OUTPUT
00319  130A              ;*********************************
00320  130A              ; PRINT ERRORS
00321  130A              ;*********************************
00322  130A  AD 1A 10    QUTERR LDA OUTPUT
00323  130D  09 03              ORA #$03
00324  130F  8D 1A 10           STA OUTPUT
00325  1312  8D 19 10           STA DEVICE
00326  1315  20 FE 1A           JSR NEWLIN
00327  1318  20 FE 1A           JSR NEWLIN
00328  131B  A9 04              LDA #<MSGERR
00329  131D  A0 12              LDY #>MSGERR
00330  131F  20 BB 1B           JSR STRPNT
00331  1322  AE 5A 10           LDX ERRCT
00332  1325  AD 5B 10           LDA ERRCT+1
00333  1328  20 D7 1B           JSR PRTNUM
00334  132B              ;*********************************
00335  132B  AD 19 10           LDA DEVICE      ;CHECK DEV
00336  132E  29 04              AND #$04        ;PRINTER?
00337  1330  F0 13              BEQ DONED       ;IF NOT DONE
00338  1332  A9 04              LDA #$04        ;DEVICE 4
00339  1334  8D 1A 10           STA OUTPUT      ;SET DEVICE
00340  1337  8D 19 10           STA DEVICE      ;SET DEVICE
00341  133A  20 33 24           JSR INTPRT      ;PRINT INTABLE
00342  133D  A9 07              LDA #$07        ;DEVICE 3 AND 4
00343  133F  8D 19 10           STA DEVICE      ;SET DEVICE
00344  1342  8D 1A 10           STA OUTPUT      ;SET DEVICE
00345  1345  20 FE 1A    DONED  JSR NEWLIN      ;NEWLINE
00346  1348  20 FE 1A           JSR NEWLIN      ;NEWLINE
00347  134B  A9 0E              LDA #<MSGDIS    ;END MSG
00348  134D  A0 12              LDY #>MSGDIS
00349  134F  20 BB 1B           JSR STRPNT      ;PRINT IT
00350  1352  20 FE 1A           JSR NEWLIN      ;NEW LINE
00351  1355  AD 19 10           LDA DEVICE      ;CHECK DEVICE
00352  1358  29 04              AND #$04        ;PRINTER
00353  135A  F0 08              BEQ DONE        ;
00354  135C  20 48 1C           JSR FINISH      ;FINISH PAGE
00355  135F  A9 04              LDA #$04        ;PRINTER
00356  1361  20 C3 FF           JSR CLOSE       ;CLOSE FILE
00357  1364              ;*********************************
00358  1364  20 CC FF    DONE   JSR CLRCHN      ;RESET I/O
00359  1367  20 08 1D           JSR SCRON       ;TURN SCREEN ON
00360  136A  4C 7E 86           JMP WREADY      ;RETURN
00361  136D              ;*********************************
00362  136D              ;.FIL 0:OPTION.ASM
00363  136D              ;*********************************
00364  136D              .END
00365  136D              ;*********************************
00366  136D              .LIB   OPTION.ASM
00367  136D              ;*********************************
00368  136D              ; FILE OPTION.ASM
00369  136D              ;*********************************
00370  136D              ;
00371  136D              ;        DISASSEMBLER64
00372  136D              ;    SYMBOLIC DISASSEMBLER






DISASSEMBLER64......PAGE 0011

LINE# LOC   CODE        LINE


00373  136D              ;       BY DENTON MARLOWE
00374  136D              ;
00375  136D              ;  (C)1986 BY DENTON MARLOWE
00376  136D              ;
00377  136D              ;*********************************
00378  136D              ; DISASSEMBLER OPTIONS
00379  136D              ;*********************************
00380  136D  A9 03       DOP    LDA #$03        ;DEVICE #3 SCREEN
00381  136F  8D 19 10           STA DEVICE      ;CURRENT OUTPUT
00382  1372  A9 00              LDA #$00        ;NO DEVICES
00383  1374  8D 1A 10           STA OUTPUT      ;FINAL OUTPUT
00384  1377  A9 B4              LDA #<MSG       ;START UP MSG
00385  1379  A0 17              LDY #>MSG
00386  137B  20 BB 1B           JSR STRPNT      ;PRINT IT
00387  137E              ;*********************************
00388  137E              ; READ IN DISK FILE ?
00389  137E              ;*********************************
00390  137E  A9 01              LDA #<MSF1
00391  1380  A0 18              LDY #>MSF1
00392  1382  20 BB 1B           JSR STRPNT
00393  1385  20 1C 1B           JSR INSTNG
00394  1388  D0 03              BNE PFILE0
00395  138A  4C C5 14           JMP STARTS
00396  138D  A2 00       PFILE0 LDX #$00
00397  138F  BD 52 18    PFILE1 LDA PROGM,X
00398  1392  99 5C 10           STA BUF,Y
00399  1395  C8                 INY
00400  1396  E8                 INX
00401  1397  E0 04              CPX #$04
00402  1399  D0 F4              BNE PFILE1
00403  139B  8C 52 10           STY SAVA
00404  139E  20 AB 14           JSR INITD
00405  13A1  20 85 14           JSR PRFILE
00406  13A4              ;*********************************
00407  13A4              ; READ IN FILE FOR SA AND EA
00408  13A4              ;*********************************
00409  13A4  A2 08              LDX #$08        ;FILE #8
00410  13A6  20 C6 FF           JSR CHKIN       ;INPUT FILE
00411  13A9  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00412  13AC  8D 1E 10           STA SA          ;SET START
00413  13AF  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00414  13B2  8D 1F 10           STA SA+1        ;SET START
00415  13B5  20 4E 21           JSR INTSA       ;SET END
00416  13B8              ;*********************************
00417  13B8  A9 00              LDA #$00        ;ZERO BYTE
00418  13BA  8D 4F 10           STA ADRS        ;BYTE COUNTER
00419  13BD  8D 50 10           STA ADRS+1      ;BYTE COUNTER
00420  13C0  20 CF FF    PROGRD JSR CHRIN       ;INPUT BYTE
00421  13C3  20 B7 FF           JSR READST      ;READ STATUS
00422  13C6  D0 0D              BNE PROGED      ;IF NOT ZERO END
00423  13C8  20 23 21           JSR INCSL       ;INC END ADDRESS
00424  13CB  EE 4F 10           INC ADRS        ;INC BYTE COUNT
00425  13CE  D0 03              BNE *+5         ;
00426  13D0  EE 50 10           INC ADRS+1      ;
00427  13D3  D0 EB              BNE PROGRD      ;NEXT BYTE






DISASSEMBLER64......PAGE 0012

LINE# LOC   CODE        LINE


00428  13D5  AD 22 10    PROGED LDA SELECT      ;
00429  13D8  8D 20 10           STA EA          ;
00430  13DB  AD 23 10           LDA SELECT+1    ;
00431  13DE  8D 21 10           STA EA+1        ;
00432  13E1              ;*********************************
00433  13E1  A9 08              LDA #$08        ;FILE #8
00434  13E3  20 C3 FF           JSR CLOSE       ;CLOSE IT
00435  13E6  20 CC FF           JSR CLRCHN      ;RESET I/O
00436  13E9              ;*********************************
00437  13E9              ; PRINT PROGRAM LOAD ADDRESS
00438  13E9              ; AND END ADDRESS
00439  13E9              ;*********************************
00440  13E9  A9 1D              LDA #<MSF2
00441  13EB  A0 18              LDY #>MSF2
00442  13ED  20 BB 1B           JSR STRPNT
00443  13F0  AD 1E 10           LDA SA
00444  13F3  8D 45 10           STA WORKED
00445  13F6  AD 1F 10           LDA SA+1
00446  13F9  8D 46 10           STA WORKED+1
00447  13FC  20 C2 20           JSR PWORKD
00448  13FF              ;
00449  13FF  A9 2D              LDA #'-'
00450  1401              ;
00451  1401  20 11 1C           JSR PCHAR
00452  1404  20 D0 20           JSR DOLLAR
00453  1407  20 B6 20           JSR PSELEC
00454  140A  20 F3 20           JSR CRLF
00455  140D              ;*********************************
00456  140D              ; CALCULATE BUFFER ADDRESS
00457  140D              ;*********************************
00458  140D  A9 00              LDA #$00        ;MEMSIZ
00459  140F  8D 22 10           STA SELECT
00460  1412  A9 80              LDA #$80        ;MEMSIZ+1
00461  1414  8D 23 10           STA SELECT+1
00462  1417  20 42 21           JSR DECSL
00463  141A  38                 SEC
00464  141B  AD 22 10           LDA SELECT
00465  141E  ED 4F 10           SBC ADRS
00466  1421  8D 22 10           STA SELECT
00467  1424  AD 23 10           LDA SELECT+1
00468  1427  ED 50 10           SBC ADRS+1
00469  142A  8D 23 10           STA SELECT+1
00470  142D              ;*********************************
00471  142D              ; CALCULATE ADDRESS OFFSET
00472  142D              ;*********************************
00473  142D  38                 SEC
00474  142E  AD 22 10           LDA SELECT
00475  1431  ED 1E 10           SBC SA
00476  1434  8D 24 10           STA OFFSET
00477  1437  8D 45 10           STA WORKED
00478  143A  AD 23 10           LDA SELECT+1
00479  143D  ED 1F 10           SBC SA+1
00480  1440  8D 25 10           STA OFFSET+1
00481  1443  8D 46 10           STA WORKED+1
00482  1446  A9 AD              LDA #<MSD4A






DISASSEMBLER64......PAGE 0013

LINE# LOC   CODE        LINE


00483  1448  A0 18              LDY #>MSD4A
00484  144A  20 BB 1B           JSR STRPNT
00485  144D  20 C2 20           JSR PWORKD
00486  1450  20 F3 20           JSR CRLF
00487  1453              ;*********************************
00488  1453              ; OPEN FILE AND READ PRG INTO BUF
00489  1453              ;*********************************
00490  1453  20 85 14           JSR PRFILE      ;OPEN FILE
00491  1456  A2 08              LDX #$08        ;FILE #8
00492  1458  20 C6 FF           JSR CHKIN       ;INPUT FILE
00493  145B  20 CF FF           JSR CHRIN       ;GET LOW BYTE SA
00494  145E  20 CF FF           JSR CHRIN       ;GET HIGH BYTE SA
00495  1461  20 CF FF    PRO2RD JSR CHRIN       ;INPUT BYTE
00496  1464  AE 22 10           LDX SELECT      ;LOW BYTE POINTER
00497  1467  86 DD              STX ZEROUR      ;ZERO PAGE
00498  1469  AE 23 10           LDX SELECT+1    ;HIH BYTE POINTER
00499  146C  86 DE              STX ZEROUR+1    ;ZERO PAGE
00500  146E  A0 00              LDY #$00        ;OFFSET
00501  1470  91 DD              STA (ZEROUR),Y  ;STORE BYTE
00502  1472  20 23 21           JSR INCSL       ;INC POINTER
00503  1475  20 B7 FF           JSR READST      ;READ STATUS
00504  1478  F0 E7              BEQ PRO2RD      ;NEXT BYTE
00505  147A  A9 08              LDA #$08        ;FILE #8
00506  147C  20 C3 FF           JSR CLOSE       ;CLOSE IT
00507  147F  20 CC FF           JSR CLRCHN      ;RESET I/O
00508  1482  4C 07 15           JMP WINDOP      ;WINDOW OPTION
00509  1485              ;*********************************
00510  1485              ; OPEN PROGRAM FILE
00511  1485              ;*********************************
00512  1485  AD 52 10    PRFILE LDA SAVA
00513  1488  A2 5C              LDX #<BUF
00514  148A  A0 10              LDY #>BUF
00515  148C  20 BD FF           JSR SETNAM
00516  148F  A9 08              LDA #$08
00517  1491  A8                 TAY
00518  1492  AA                 TAX
00519  1493  20 BA FF           JSR SETLFS
00520  1496  20 C0 FF           JSR OPEN
00521  1499  20 C4 1A           JSR DISERR
00522  149C  90 0C              BCC PROGOK
00523  149E  A9 08              LDA #$08
00524  14A0  20 C3 FF           JSR CLOSE
00525  14A3  68                 PLA
00526  14A4  68                 PLA
00527  14A5  68                 PLA
00528  14A6  68                 PLA
00529  14A7  4C 7E 86           JMP WREADY
00530  14AA              ;*********************************
00531  14AA  60          PROGOK RTS
00532  14AB              ;*********************************
00533  14AB              ; INIT DISK
00534  14AB              ;*********************************
00535  14AB  A9 02       INITD  LDA #$02
00536  14AD  A0 18              LDY #>INIT
00537  14AF  A2 56              LDX #<INIT






DISASSEMBLER64......PAGE 0014

LINE# LOC   CODE        LINE


00538  14B1  20 BD FF           JSR SETNAM
00539  14B4  A9 0F              LDA #$0F
00540  14B6  A2 08              LDX #$08
00541  14B8  A0 0F              LDY #$0F
00542  14BA  20 BA FF           JSR SETLFS
00543  14BD  20 C0 FF           JSR OPEN
00544  14C0  A9 0F              LDA #$0F
00545  14C2  4C C3 FF           JMP CLOSE
00546  14C5              ;*********************************
00547  14C5              ; GET START ADDRESS
00548  14C5              ;*********************************
00549  14C5  A9 71       STARTS LDA #<MSD1
00550  14C7  A0 18              LDY #>MSD1
00551  14C9  20 BB 1B           JSR STRPNT
00552  14CC  20 2B 1B           JSR GETWRD
00553  14CF  AD 4F 10           LDA ADRS
00554  14D2  8D 1E 10           STA SA
00555  14D5  AD 50 10           LDA ADRS+1
00556  14D8  8D 1F 10           STA SA+1
00557  14DB              ;*********************************
00558  14DB              ; GET END ADDRESS
00559  14DB              ;*********************************
00560  14DB  A9 83              LDA #<MSD2
00561  14DD  A0 18              LDY #>MSD2
00562  14DF  20 BB 1B           JSR STRPNT
00563  14E2  20 2B 1B           JSR GETWRD
00564  14E5  AD 4F 10           LDA ADRS
00565  14E8  8D 20 10           STA EA
00566  14EB  AD 50 10           LDA ADRS+1
00567  14EE  8D 21 10           STA EA+1
00568  14F1              ;*********************************
00569  14F1              ; ADDRRESS OFFSET
00570  14F1              ;*********************************
00571  14F1  A9 93              LDA #<MSD4
00572  14F3  A0 18              LDY #>MSD4
00573  14F5  20 BB 1B           JSR STRPNT
00574  14F8  20 2B 1B           JSR GETWRD
00575  14FB  AD 4F 10           LDA ADRS
00576  14FE  8D 24 10           STA OFFSET
00577  1501  AD 50 10           LDA ADRS+1
00578  1504  8D 25 10           STA OFFSET+1
00579  1507              ;*********************************
00580  1507              ; OUTPUT WINDOW
00581  1507              ;*********************************
00582  1507  A9 C0       WINDOP LDA #<MSD5
00583  1509  A0 18              LDY #>MSD5
00584  150B  20 BB 1B           JSR STRPNT
00585  150E  20 90 1B           JSR CRNO
00586  1511  B0 30              BCS WIND1
00587  1513  A9 71              LDA #<MSD1
00588  1515  A0 18              LDY #>MSD1
00589  1517  20 BB 1B           JSR STRPNT
00590  151A  20 2B 1B           JSR GETWRD
00591  151D  AD 4F 10           LDA ADRS
00592  1520  8D 2A 10           STA SAOUT






DISASSEMBLER64......PAGE 0015

LINE# LOC   CODE        LINE


00593  1523  AD 50 10           LDA ADRS+1
00594  1526  8D 2B 10           STA SAOUT+1
00595  1529  A9 83              LDA #<MSD2
00596  152B  A0 18              LDY #>MSD2
00597  152D  20 BB 1B           JSR STRPNT
00598  1530  20 2B 1B           JSR GETWRD
00599  1533  AD 4F 10           LDA ADRS
00600  1536  8D 2C 10           STA EAOUT
00601  1539  AD 50 10           LDA ADRS+1
00602  153C  8D 2D 10           STA EAOUT+1
00603  153F  A9 FF              LDA #$FF
00604  1541  30 02              BMI WIND2
00605  1543  A9 00       WIND1  LDA #$00
00606  1545  8D 1B 10    WIND2  STA WINDOW
00607  1548              ;*********************************
00608  1548              ; SETUP GOBAL POINTER
00609  1548              ;*********************************
00610  1548  AD 1E 10           LDA SA
00611  154B  8D 26 10           STA SAGOL
00612  154E  AD 1F 10           LDA SA+1
00613  1551  8D 27 10           STA SAGOL+1
00614  1554  AD 20 10           LDA EA
00615  1557  8D 28 10           STA EAGOL
00616  155A  AD 21 10           LDA EA+1
00617  155D  8D 29 10           STA EAGOL+1
00618  1560              ;*********************************
00619  1560              ; SOURCE FILE OUTPUT?
00620  1560              ;*********************************
00621  1560  A9 31       OUFILE LDA #<MSG1
00622  1562  A0 18              LDY #>MSG1
00623  1564  20 BB 1B           JSR STRPNT
00624  1567              ;*********************************
00625  1567  A9 00              LDA #$00
00626  1569  8D C3 10           STA NCHARS
00627  156C  20 1C 1B           JSR INSTNG
00628  156F  F0 1A              BEQ NOFILE
00629  1571  A9 30              LDA #'0'
00630  1573  8D C2 10           STA VERSON
00631  1576  8C C3 10           STY NCHARS
00632  1579  A2 00              LDX #$00
00633  157B  BD 5C 10    GFILE0 LDA BUF,X
00634  157E  9D C4 10           STA NBUF,X
00635  1581  E8                 INX
00636  1582  EC C3 10           CPX NCHARS
00637  1585  D0 F4              BNE GFILE0
00638  1587              ;*********************************
00639  1587  A9 08       FILEOK LDA #$08
00640  1589  D0 02              BNE FILE
00641  158B  A9 00       NOFILE LDA #$00
00642  158D  0D 1A 10    FILE   ORA OUTPUT
00643  1590  8D 1A 10           STA OUTPUT
00644  1593  4C EC 15           JMP PRTGET
00645  1596              ;*********************************
00646  1596              ;     OPEN SOURCE DISK FILE
00647  1596              ;*********************************






DISASSEMBLER64......PAGE 0016

LINE# LOC   CODE        LINE


00648  1596  AC C3 10    OFILED LDY NCHARS
00649  1599  F0 03              BEQ NOID
00650  159B  20 AB 14           JSR INITD
00651  159E  20 F8 1C    NOID   JSR SCROFF
00652  15A1              ;*********************************
00653  15A1  AC C3 10    OFILE  LDY NCHARS
00654  15A4  F0 45              BEQ OFILE4
00655  15A6  AD C2 10           LDA VERSON
00656  15A9  C9 30              CMP #'0'
00657  15AB  F0 07              BEQ OFILE1
00658  15AD  AD C2 10           LDA VERSON
00659  15B0  99 C4 10           STA NBUF,Y
00660  15B3  C8                 INY
00661  15B4  EE C2 10    OFILE1 INC VERSON
00662  15B7  A2 00              LDX #$00
00663  15B9  BD 4E 18    OFILE2 LDA WRITE,X
00664  15BC  99 C4 10           STA NBUF,Y
00665  15BF  C8                 INY
00666  15C0  E8                 INX
00667  15C1  E0 04              CPX #$04
00668  15C3  D0 F4              BNE OFILE2
00669  15C5  98                 TYA
00670  15C6  A0 10              LDY #>NBUF
00671  15C8  A2 C4              LDX #<NBUF
00672  15CA  20 BD FF           JSR SETNAM
00673  15CD  A9 08              LDA #$08
00674  15CF  AA                 TAX
00675  15D0  A8                 TAY
00676  15D1  20 BA FF           JSR SETLFS
00677  15D4  20 C0 FF           JSR OPEN
00678  15D7  20 C4 1A           JSR DISERR
00679  15DA  90 0F              BCC OFILE4
00680  15DC              ;*********************************
00681  15DC              ;  CLOSE OUT FILE ON ERROR
00682  15DC              ;*********************************
00683  15DC  A9 08       OFILE3 LDA #$08
00684  15DE  20 C3 FF           JSR CLOSE
00685  15E1  20 CC FF           JSR CLRCHN
00686  15E4  68                 PLA
00687  15E5  68                 PLA
00688  15E6  68                 PLA
00689  15E7  68                 PLA
00690  15E8  4C 7E 86           JMP WREADY
00691  15EB  60          OFILE4 RTS
00692  15EC              ;*********************************
00693  15EC              ; GET PRINTER OPTION
00694  15EC              ;*********************************
00695  15EC  A9 58       PRTGET LDA #<MSG2
00696  15EE  A0 18              LDY #>MSG2
00697  15F0  20 BB 1B           JSR STRPNT
00698  15F3  20 83 1B           JSR CRYS
00699  15F6  B0 26              BCS NOPRT
00700  15F8  A9 00              LDA #$00
00701  15FA  20 BD FF           JSR SETNAM
00702  15FD  A9 04              LDA #$04






DISASSEMBLER64......PAGE 0017

LINE# LOC   CODE        LINE


00703  15FF  A2 04              LDX #$04
00704  1601  A0 00              LDY #$00
00705  1603  20 BA FF           JSR SETLFS
00706  1606  20 C0 FF           JSR OPEN
00707  1609  A2 04              LDX #$04
00708  160B  20 C9 FF           JSR CHKOUT
00709  160E  20 B7 FF           JSR READST
00710  1611  29 80              AND #$80
00711  1613  08                 PHP
00712  1614  20 CC FF           JSR CLRCHN
00713  1617  28                 PLP
00714  1618  30 04              BMI NOPRT
00715  161A  A9 04              LDA #$04
00716  161C  D0 02              BNE PRINT
00717  161E  A9 03       NOPRT  LDA #$03
00718  1620  0D 1A 10    PRINT  ORA OUTPUT
00719  1623  8D 1A 10           STA OUTPUT
00720  1626              ;*********************************
00721  1626              ; GO GET SYMBOLIC OPTION
00722  1626              ;*********************************
00723  1626  20 C0 2A           JSR SOP
00724  1629              ;*********************************
00725  1629              ; GET RELATIVE ADDRESS OPTION
00726  1629              ;*********************************
00727  1629  A9 DC              LDA #<MSR1
00728  162B  A0 18              LDY #>MSR1
00729  162D  20 BB 1B           JSR STRPNT
00730  1630  20 83 1B           JSR CRYS
00731  1633  90 04              BCC DOP2
00732  1635  A9 01              LDA #$01
00733  1637  D0 02              BNE DOP3
00734  1639  A9 00       DOP2   LDA #$00
00735  163B  8D 18 10    DOP3   STA ROPT
00736  163E              ;*********************************
00737  163E              ; GET BIT INSTRUCTION CODING OPTION
00738  163E              ;*********************************
00739  163E  20 42 37           JSR BITOPT
00740  1641              ;*********************************
00741  1641              ; DATA TABLE OPTION
00742  1641              ;*********************************
00743  1641  AD 3D 10    AOP    LDA SYMBOE
00744  1644  8D EB 10           STA DATABP
00745  1647  8D ED 10           STA DATABS
00746  164A  8D EF 10           STA DATABE
00747  164D  85 DD              STA ZEROUR
00748  164F  AD 3E 10           LDA SYMBOE+1
00749  1652  8D EC 10           STA DATABP+1
00750  1655  8D EE 10           STA DATABS+1
00751  1658  8D F0 10           STA DATABE+1
00752  165B  85 DE              STA ZEROUR+1
00753  165D              ;*********************************
00754  165D  A9 6A              LDA #<MSAOP
00755  165F  A0 19              LDY #>MSAOP
00756  1661  20 BB 1B           JSR STRPNT
00757  1664  20 1C 1B           JSR INSTNG






DISASSEMBLER64......PAGE 0018

LINE# LOC   CODE        LINE


00758  1667  D0 03              BNE BOP
00759  1669  4C EC 16           JMP NOTABS
00760  166C              ;*********************************
00761  166C  98          BOP    TYA
00762  166D  48                 PHA
00763  166E  20 AB 14           JSR INITD
00764  1671  68                 PLA
00765  1672  A8                 TAY
00766  1673  A2 00              LDX #$00
00767  1675  BD 29 2E    AFILE  LDA NAMS,X
00768  1678  99 5C 10           STA BUF,Y
00769  167B  C8                 INY
00770  167C  E8                 INX
00771  167D  E0 04              CPX #$04
00772  167F  D0 F4              BNE AFILE
00773  1681  98                 TYA
00774  1682  A0 10              LDY #>BUF
00775  1684  A2 5C              LDX #<BUF
00776  1686  20 BD FF           JSR SETNAM
00777  1689  A9 03              LDA #$03
00778  168B  A2 08              LDX #$08
00779  168D  A0 03              LDY #$03
00780  168F  20 BA FF           JSR SETLFS
00781  1692  20 C0 FF           JSR OPEN
00782  1695  20 C4 1A           JSR DISERR
00783  1698  B0 1B              BCS AGET1
00784  169A  A2 03              LDX #$03
00785  169C  20 C6 FF           JSR CHKIN
00786  169F              ;*********************************
00787  169F              ; READ IN DATA TABLE
00788  169F              ;*********************************
00789  169F  A0 00              LDY #$00
00790  16A1  20 CF FF           JSR CHRIN
00791  16A4  8D E9 10           STA NDATA
00792  16A7  F0 0C              BEQ AGET1
00793  16A9  20 CF FF    AGET   JSR CHRIN
00794  16AC  99 F1 10           STA TDATA,Y
00795  16AF  C8                 INY
00796  16B0  20 B7 FF           JSR READST
00797  16B3  F0 F4              BEQ AGET
00798  16B5  A9 03       AGET1  LDA #$03
00799  16B7  20 C3 FF           JSR CLOSE
00800  16BA  20 CC FF           JSR CLRCHN
00801  16BD              ;*********************************
00802  16BD              ; PRINT DATA TABLE
00803  16BD              ;*********************************
00804  16BD  AD E9 10    PRTDAS LDA NDATA
00805  16C0  8D E7 10           STA CDATA
00806  16C3  A0 00              LDY #$00
00807  16C5  8C 54 10           STY SAVY
00808  16C8  20 F3 20    PRTNEX JSR CRLF
00809  16CB  A2 05              LDX #$05
00810  16CD  8E 53 10           STX SAVX
00811  16D0  AC 54 10    PRTDAL LDY SAVY
00812  16D3  B9 F1 10           LDA TDATA,Y






DISASSEMBLER64......PAGE 0019

LINE# LOC   CODE        LINE


00813  16D6  20 A5 1B           JSR PRBYT
00814  16D9  20 05 21           JSR SPACE
00815  16DC  EE 54 10           INC SAVY
00816  16DF  CE 53 10           DEC SAVX
00817  16E2  D0 EC              BNE PRTDAL
00818  16E4  CE E7 10           DEC CDATA
00819  16E7  D0 DF              BNE PRTNEX
00820  16E9              ;*********************************
00821  16E9  4C 89 17           JMP XOP0
00822  16EC              ;*********************************
00823  16EC              ; READ DATA FOR KEYBOARD
00824  16EC              ;*********************************
00825  16EC  A9 89       NOTABS LDA #<MSA1      ;NUMBER OF DATA
00826  16EE  A0 19              LDY #>MSA1
00827  16F0  20 BB 1B           JSR STRPNT
00828  16F3  20 2B 1B           JSR GETWRD      ;INPUT HEX BYTE
00829  16F6  AD 4F 10           LDA ADRS        ;GET BYTE
00830  16F9  8D E9 10           STA NDATA       ;SET NUM TABLES
00831  16FC  D0 03              BNE AOPX        ;0 DATA THEN END
00832  16FE  4C 89 17           JMP XOP0        ;RETURN
00833  1701  A9 00       AOPX   LDA #$00        ;ZERO OFFSET
00834  1703  8D E7 10           STA CDATA       ;FIRST TABLE
00835  1706              ;*********************************
00836  1706              ; CALCULATE TABLE OFFSET
00837  1706              ;*********************************
00838  1706  AD E7 10    AOP1   LDA CDATA       ;GET TABLE NUMBER
00839  1709  0A                 ASL A           ;*2
00840  170A  0A                 ASL A           ;*4
00841  170B  18                 CLC             ;C=0
00842  170C  6D E7 10           ADC CDATA       ;*5
00843  170F  8D 54 10           STA SAVY        ;STORE AS OFFSET
00844  1712              ;*********************************
00845  1712  A9 AB              LDA #<MSA2
00846  1714  A0 19              LDY #>MSA2
00847  1716  20 BB 1B           JSR STRPNT      ;PRINT MSG
00848  1719  20 2B 1B           JSR GETWRD      ;GET ADDRESS
00849  171C  AC 54 10           LDY SAVY        ;GET OFFSET
00850  171F  AD 4F 10           LDA ADRS
00851  1722  99 F1 10           STA TDATA,Y
00852  1725  C8                 INY
00853  1726  AD 50 10           LDA ADRS+1
00854  1729  99 F1 10           STA TDATA,Y
00855  172C  C8                 INY
00856  172D  8C 54 10           STY SAVY
00857  1730              ;*********************************
00858  1730              ; END OF DATA TABLE
00859  1730              ;*********************************
00860  1730  A9 C3       AOP2   LDA #<MSA3
00861  1732  A0 19              LDY #>MSA3
00862  1734  20 BB 1B           JSR STRPNT
00863  1737  20 2B 1B           JSR GETWRD      ;GET ADDRESS
00864  173A  AC 54 10           LDY SAVY
00865  173D  AD 4F 10           LDA ADRS
00866  1740  99 F1 10           STA TDATA,Y
00867  1743  C8                 INY






DISASSEMBLER64......PAGE 0020

LINE# LOC   CODE        LINE


00868  1744  AD 50 10           LDA ADRS+1
00869  1747  99 F1 10           STA TDATA,Y
00870  174A  C8                 INY
00871  174B  8C 54 10           STY SAVY
00872  174E              ;*********************************
00873  174E              ; GET TYPE OF TABLE
00874  174E              ;*********************************
00875  174E  A9 D9              LDA #<MSG5      ;TABLE TYPE
00876  1750  A0 19              LDY #>MSG5
00877  1752  20 BB 1B           JSR STRPNT
00878  1755  20 E4 FF    AOP3   JSR GETIN
00879  1758  F0 FB              BEQ AOP3
00880  175A  C9 30              CMP #'0'
00881  175C  F0 14              BEQ ASC
00882  175E  C9 31              CMP #'1'
00883  1760  F0 10              BEQ ASC
00884  1762  C9 32              CMP #'2'
00885  1764  F0 0C              BEQ ASC
00886  1766  C9 33              CMP #'3'
00887  1768  F0 08              BEQ ASC
00888  176A  C9 34              CMP #'4'
00889  176C  F0 04              BEQ ASC
00890  176E  C9 53              CMP #'S'
00891  1770  D0 E3              BNE AOP3
00892  1772  20 D2 FF    ASC    JSR CHROUT
00893  1775  AC 54 10           LDY SAVY
00894  1778  99 F1 10           STA TDATA,Y
00895  177B              ;*********************************
00896  177B  EE E7 10           INC CDATA       ;INC TABLE COUNT
00897  177E  AD E7 10           LDA CDATA       ;GET TABLE COUNT
00898  1781  CD E9 10           CMP NDATA       ;ALL TABLES?
00899  1784  F0 03              BEQ XOP0        ;IF NOT GET MORE
00900  1786  4C 06 17           JMP AOP1        ;IF NOT GET MORE
00901  1789              ;*********************************
00902  1789              ; GET LABEL GENERATION OPTION
00903  1789              ;*********************************
00904  1789  A9 45       XOP0   LDA #<MSB4
00905  178B  A0 1A              LDY #>MSB4
00906  178D  20 BB 1B           JSR STRPNT
00907  1790  20 83 1B           JSR CRYS
00908  1793  B0 04              BCS XOP1
00909  1795  A9 01              LDA #$01
00910  1797  D0 02              BNE XOP2
00911  1799  A9 00       XOP1   LDA #$00
00912  179B  8D 17 10    XOP2   STA XOPT
00913  179E              ;*********************************
00914  179E              ; OUTPUT FORMAT OPTION
00915  179E              ;*********************************
00916  179E  A9 65              LDA #<MSB5
00917  17A0  A0 1A              LDY #>MSB5
00918  17A2  20 BB 1B           JSR STRPNT
00919  17A5  20 83 1B           JSR CRYS
00920  17A8  B0 04              BCS FOP1
00921  17AA  A9 00              LDA #$00
00922  17AC  F0 02              BEQ FOP2






DISASSEMBLER64......PAGE 0021

LINE# LOC   CODE        LINE


00923  17AE  A9 FF       FOP1   LDA #$FF
00924  17B0  8D 1C 10    FOP2   STA FOROPT
00925  17B3              ;*********************************
00926  17B3  60                 RTS
00927  17B4              ;*********************************
00928  17B4              ;   COMMAND MESSAGES
00929  17B4              ;*********************************
00930  17B4  0D          MSG    .BYTE $0D,$0D
00930  17B5  0D 
00931  17B6  43 42       .BYTE  'CBM RESIDENT DISASSEMBLER'
00932  17CF  20 56       .BYTE  ' V080282'
00933  17D7  0D          .BYTE  $0D
00934  17D8  28 43       .BYTE  '(C) 1982 BY COMMODORE '
00935  17EE  42 55       .BYTE  'BUSINESS MACHINES'
00936  17FF  0D          .BYTE  $0D
00937  1800  00          .BYTE  0
00938  1801              ;*********************************
00939  1801  0D          MSF1   .BYTE $0D
00940  1802  50 52       .BYTE  'PROGRAM FILE (CR OR NAME):'
00941  181C  00          .BYTE  0
00942  181D  0D          MSF2   .BYTE $0D
00943  181E  50 52       .BYTE  'PROGRAM ADDRESS: $'
00944  1830  00          .BYTE  0
00945  1831              ;*********************************
00946  1831  0D          MSG1   .BYTE $0D
00947  1832  45 44       .BYTE  'EDITOR64 FILE (CR OR NAME):'
00948  184D  00          .BYTE  0
00949  184E              ;*********************************
00950  184E  2C 53       WRITE  .BYTE ',S,W'
00951  1852  2C 50       PROGM  .BYTE ',P,R'
00952  1856  49 30       INIT   .BYTE 'I0'
00953  1858              ;*********************************
00954  1858  0D          MSG2   .BYTE $0D
00955  1859  48 41       .BYTE  'HARD COPY (Y/CR OR N)? '
00956  1870  00          .BYTE  0
00957  1871              ;*********************************
00958  1871  0D          MSD1   .BYTE $0D
00959  1872  53 54       .BYTE  'START ADDRESS :$'
00960  1882  00          .BYTE  0
00961  1883              ;*********************************
00962  1883  0D          MSD2   .BYTE $0D
00963  1884  45 4E       .BYTE  'END ADDRESS :$'
00964  1892  00          .BYTE  0
00965  1893              ;*********************************
00966  1893  0D          MSD4   .BYTE $0D
00967  1894  41 44       .BYTE  'ADDRESS OFFSET (OR CR):$'
00968  18AC  00          .BYTE  0
00969  18AD              ;*********************************
00970  18AD  0D          MSD4A  .BYTE $0D
00971  18AE  41 44       .BYTE  'ADDRESS OFFSET :$'
00972  18BF  00          .BYTE  0
00973  18C0              ;*********************************
00974  18C0  0D          MSD5   .BYTE $0D
00975  18C1  57 49       .BYTE  'WINDOW OUTPUT(Y OR N/CR)? '
00976  18DB  00          .BYTE  0






DISASSEMBLER64......PAGE 0022

LINE# LOC   CODE        LINE


00977  18DC              ;*********************************
00978  18DC  0D          MSR1   .BYTE $0D
00979  18DD  52 45       .BYTE  'RELATIVE BRANCH TO LABEL '
00980  18F6  28 59       .BYTE  '(Y/CR OR N)? '
00981  1903  00          .BYTE  0
00982  1904              ;*********************************
00983  1904  0D          MSB1   .BYTE $0D
00984  1905  42 49              .BYTE 'BIT INSTRUCTION CODING'
00985  191B  0D                 .BYTE $0D,$0D
00985  191C  0D 
00986  191D  30 2F              .BYTE '0/CR STANDARD',$0D
00986  192A  0D 
00987  192B  31 20              .BYTE '1     $2C ABS',$0D
00987  1938  0D 
00988  1939  32 20              .BYTE '2     $24 ZP',$0D
00988  1945  0D 
00989  1946  33 20              .BYTE '3     $2C AND $24',$0D
00989  1957  0D 
00990  1958  0D                 .BYTE $0D
00991  1959  45 4E              .BYTE 'ENTER BIT CODE: '
00992  1969  00                 .BYTE 0
00993  196A              ;*********************************
00994  196A  0D          MSAOP  .BYTE $0D
00995  196B  44 41       .BYTE  'DATA TABLE FILE (CR OR NAME):'
00996  1988  00          .BYTE  0
00997  1989  0D          MSA1   .BYTE $0D
00998  198A  4E 55       .BYTE  'NUMBER OF DATA TABLES (OR CR) :$'
00999  19AA  00          .BYTE  0
01000  19AB  0D          MSA2   .BYTE $0D
01001  19AC  54 41       .BYTE  'TABLE START ADDRESS :$'
01002  19C2  00          .BYTE  0
01003  19C3  0D          MSA3   .BYTE $0D
01004  19C4  54 41       .BYTE  'TABLE END ADDRESS :$'
01005  19D8  00          .BYTE  0
01006  19D9  0D          MSG5   .BYTE $0D,$0D
01006  19DA  0D 
01007  19DB  44 49              .BYTE 'DISASSEMBLY OPTIONS'
01008  19EE  0D                 .BYTE $0D,$0D
01008  19EF  0D 
01009  19F0  30 20              .BYTE '0 ASCII',$0D
01009  19F7  0D 
01010  19F8  31 20              .BYTE '1 BYTE',$0D
01010  19FE  0D 
01011  19FF  32 20              .BYTE '2 WORD',$0D
01011  1A05  0D 
01012  1A06  33 20              .BYTE '3 DBYTE',$0D
01012  1A0D  0D 
01013  1A0E  34 20              .BYTE '4 WORD-1',$0D
01013  1A16  0D 
01014  1A17  53 20              .BYTE 'S SKIP ADDRESS RANGE',$0D
01014  1A2B  0D 
01015  1A2C  45 4E              .BYTE 'ENTER DISASSEMBLY CODE: '
01016  1A44  00                 .BYTE 0
01017  1A45              ;*********************************
01018  1A45  0D          MSB4   .BYTE $0D






DISASSEMBLER64......PAGE 0023

LINE# LOC   CODE        LINE


01019  1A46  4C 41       .BYTE  'LABLE GENERATION (Y/CR OR N)? '
01020  1A64  00          .BYTE  0
01021  1A65              ;*********************************
01022  1A65  0D          MSB5   .BYTE $0D
01023  1A66  46 4F       .BYTE  'FORMATED LISTING (Y/CR OR N)? '
01024  1A84  00          .BYTE  0
01025  1A85              ;*********************************
01026  1A85              ;.FIL 0:UTIL.ASM
01027  1A85              ;*********************************
01028  1A85              .END
01029  1A85              ;*********************************
01030  1A85              .LIB   UTIL.ASM
01031  1A85              ;*********************************
01032  1A85              ; FILE UTIL.ASM
01033  1A85              ;*********************************
01034  1A85              ;
01035  1A85              ;        DISASSEMBLER64
01036  1A85              ;    SYMBOLIC DISASSEMBLER
01037  1A85              ;       BY DENTON MARLOWE
01038  1A85              ;
01039  1A85              ;  (C)1986 BY DENTON MARLOWE
01040  1A85              ;
01041  1A85              ;*********************************
01042  1A85              ;      *** UTILITIES ***
01043  1A85              ;*********************************
01044  1A85              ; CHECK LINE COUNT FOR OUTPUT FILE
01045  1A85              ;*********************************
01046  1A85  AD 12 10    LINECK LDA PASS
01047  1A88  CD 15 10           CMP CPASS
01048  1A8B  D0 36              BNE LINECO
01049  1A8D  AD 19 10           LDA DEVICE
01050  1A90  29 08              AND #$08
01051  1A92  F0 2F              BEQ LINECO
01052  1A94              ;*********************************
01053  1A94              ; CLOSE SOURCE FILE AND OPEN NEXT
01054  1A94              ;*********************************
01055  1A94  38                 SEC
01056  1A95  AD C0 10           LDA LINEFL
01057  1A98  E9 20              SBC #$20
01058  1A9A  8D 51 10           STA TEMP
01059  1A9D  AD C1 10           LDA LINEFL+1
01060  1AA0  E9 03              SBC #$03
01061  1AA2  0D 51 10           ORA TEMP
01062  1AA5  90 1C              BCC LINECO
01063  1AA7  EA                 NOP
01064  1AA8  EA                 NOP
01065  1AA9  EA                 NOP
01066  1AAA  20 51 20           JSR EFILE
01067  1AAD  A9 08              LDA #$08
01068  1AAF  20 C3 FF           JSR CLOSE
01069  1AB2  20 A1 15           JSR OFILE
01070  1AB5  A9 00              LDA #$00
01071  1AB7  8D C0 10           STA LINEFL
01072  1ABA  8D C1 10           STA LINEFL+1
01073  1ABD  20 3B 20           JSR ORGIN






DISASSEMBLER64......PAGE 0024

LINE# LOC   CODE        LINE


01074  1AC0  20 61 20           JSR COMENT
01075  1AC3  60          LINECO RTS
01076  1AC4              ;*********************************
01077  1AC4              ;  DISK ERROR CHECK
01078  1AC4              ;*********************************
01079  1AC4  A9 08       DISERR LDA #$08        ;DEV #8
01080  1AC6  85 BA              STA $BA         ;PUT IN DEV TABLE
01081  1AC8  20 B4 FF           JSR $FFB4       ;SEND TALK
01082  1ACB  A9 6F              LDA #$6F        ;SECONDARY ADDRESS
01083  1ACD  85 B9              STA $B9         ;PUT IN TABLE
01084  1ACF  20 96 FF           JSR $FF96       ;SEND SEC
01085  1AD2  20 A5 FF           JSR $FFA5       ;GET FIRST BYTE
01086  1AD5  C9 30              CMP #$30        ;IS IT A ZERO
01087  1AD7  D0 0C              BNE DLOOC       ;IF NOT ZERO ERROR
01088  1AD9  20 A5 FF    DLOOE  JSR $FFA5       ;GET BYTE
01089  1ADC  C9 0D              CMP #$0D        ;IS IT CR?
01090  1ADE  D0 F9              BNE DLOOE       ;GET NEXT BYTE
01091  1AE0  20 AB FF           JSR $FFAB       ;UNTALK
01092  1AE3  18                 CLC             ;NO ERROR FLAG
01093  1AE4  60                 RTS             ;RETURN
01094  1AE5              ;*********************************
01095  1AE5              ; PRINT DISK ERROR
01096  1AE5              ;*********************************
01097  1AE5  48          DLOOC  PHA             ;STACK BYTE
01098  1AE6  A9 0D              LDA #$0D        ;ASCII CR
01099  1AE8  20 D2 FF           JSR CHROUT      ;PRINT IT
01100  1AEB  68                 PLA             ;GET BYTE
01101  1AEC  20 D2 FF           JSR CHROUT      ;PRINT IT
01102  1AEF  20 A5 FF    DLOOA  JSR $FFA5       ;GET NEXT BYTE
01103  1AF2  20 D2 FF           JSR CHROUT      ;PRINT IT
01104  1AF5  C9 0D              CMP #$0D        ;IS IT CR
01105  1AF7  D0 F6              BNE DLOOA       ;GET NEXT BYTE
01106  1AF9  20 AB FF           JSR $FFAB       ;UNTALK
01107  1AFC  38                 SEC             ;SET ERROR FLAG
01108  1AFD  60                 RTS             ;RETURN
01109  1AFE              ;*********************************
01110  1AFE              ; START NEW LINE AND INC COUNT
01111  1AFE              ;*********************************
01112  1AFE  EE 58 10    NEWLIN INC LINECT
01113  1B01  D0 03              BNE *+5
01114  1B03  EE 59 10           INC LINECT+1
01115  1B06  EE C0 10           INC LINEFL
01116  1B09  D0 03              BNE *+5
01117  1B0B  EE C1 10           INC LINEFL+1
01118  1B0E  20 F3 20           JSR CRLF
01119  1B11  AD 19 10           LDA DEVICE
01120  1B14  29 04              AND #$04
01121  1B16  F0 03              BEQ NEWEXT
01122  1B18  20 6D 1C           JSR NEXLIN
01123  1B1B  60          NEWEXT RTS
01124  1B1C              ;*********************************
01125  1B1C              ; INPUT UTILITIES
01126  1B1C              ;*********************************
01127  1B1C              ; INPUT STRING ROUTINE
01128  1B1C              ;*********************************






DISASSEMBLER64......PAGE 0025

LINE# LOC   CODE        LINE


01129  1B1C  A0 00       INSTNG LDY #$00
01130  1B1E  20 CF FF    INSTN1 JSR CHRIN
01131  1B21  99 5C 10           STA BUF,Y
01132  1B24  C8                 INY
01133  1B25  C9 0D              CMP #$0D
01134  1B27  D0 F5              BNE INSTN1
01135  1B29  88                 DEY
01136  1B2A  60                 RTS
01137  1B2B              ;*********************************
01138  1B2B              ; INPUT HEX CHAR STRING
01139  1B2B              ;*********************************
01140  1B2B  A9 00       GETWRD LDA #$00
01141  1B2D  8D 4F 10           STA ADRS
01142  1B30  8D 50 10           STA ADRS+1
01143  1B33  20 1C 1B           JSR INSTNG
01144  1B36  88                 DEY
01145  1B37  30 15              BMI INEND
01146  1B39              ;*********************************
01147  1B39              ; PROCESS INPUT
01148  1B39              ;*********************************
01149  1B39  20 4F 1B           JSR GETBYT
01150  1B3C  AD 51 10           LDA TEMP
01151  1B3F  8D 4F 10           STA ADRS
01152  1B42  88                 DEY
01153  1B43  30 09              BMI INEND
01154  1B45  20 4F 1B           JSR GETBYT
01155  1B48  AD 51 10           LDA TEMP
01156  1B4B  8D 50 10           STA ADRS+1
01157  1B4E  60          INEND  RTS
01158  1B4F              ;*********************************
01159  1B4F              ; COVERT BUFFER INTO BYTES
01160  1B4F              ;*********************************
01161  1B4F  B9 5C 10    GETBYT LDA BUF,Y
01162  1B52  20 6C 1B           JSR BINARY
01163  1B55  8D 51 10           STA TEMP
01164  1B58  88                 DEY
01165  1B59  30 10              BMI INENX
01166  1B5B  B9 5C 10           LDA BUF,Y
01167  1B5E  20 6C 1B           JSR BINARY
01168  1B61  0A                 ASL A
01169  1B62  0A                 ASL A
01170  1B63  0A                 ASL A
01171  1B64  0A                 ASL A
01172  1B65  0D 51 10           ORA TEMP
01173  1B68  8D 51 10           STA TEMP
01174  1B6B  60          INENX  RTS
01175  1B6C              ;*********************************
01176  1B6C              ; CONVERT A INTO HEX NIBBLE
01177  1B6C              ;*********************************
01178  1B6C  38          BINARY SEC
01179  1B6D  E9 30              SBC #'0'
01180  1B6F  90 0E              BCC NOHEX
01181  1B71  C9 0A              CMP #$0A
01182  1B73  90 0C              BCC YSHEX
01183  1B75  E9 07              SBC #$07






DISASSEMBLER64......PAGE 0026

LINE# LOC   CODE        LINE


01184  1B77  C9 10              CMP #$10
01185  1B79  B0 04              BCS NOHEX
01186  1B7B  C9 0A              CMP #$0A
01187  1B7D  B0 02              BCS YSHEX
01188  1B7F  38          NOHEX  SEC
01189  1B80  60                 RTS
01190  1B81  18          YSHEX  CLC
01191  1B82  60                 RTS
01192  1B83              ;*********************************
01193  1B83              ; GET OPTION (CR/Y OR N): Y=C=0
01194  1B83              ;*********************************
01195  1B83  20 CF FF    CRYS   JSR CHRIN
01196  1B86  C9 59              CMP #'Y'
01197  1B88  F0 11              BEQ CRYS1
01198  1B8A  C9 0D              CMP #$0D
01199  1B8C  F0 0D              BEQ CRYS1
01200  1B8E  D0 0D              BNE CRNO1
01201  1B90              ;*********************************
01202  1B90              ; GET OPTION (Y OR CR/N): Y=C=0
01203  1B90              ;*********************************
01204  1B90  20 CF FF    CRNO   JSR CHRIN
01205  1B93  C9 4E              CMP #'N'
01206  1B95  F0 06              BEQ CRNO1
01207  1B97  C9 0D              CMP #$0D
01208  1B99  F0 02              BEQ CRNO1
01209  1B9B  18          CRYS1  CLC
01210  1B9C  60                 RTS
01211  1B9D  38          CRNO1  SEC
01212  1B9E  60                 RTS
01213  1B9F              ;*********************************
01214  1B9F              ; PRINT UTILITES
01215  1B9F              ;*********************************
01216  1B9F              ; PRINT WORD MSB IN Y LSB IN A
01217  1B9F              ;*********************************
01218  1B9F  48          PRBYTS PHA             ;PUT A ON STACK
01219  1BA0  98                 TYA             ;PUT HIH BYTE IN A
01220  1BA1  20 A5 1B           JSR PRBYT       ;PRINT MSB
01221  1BA4  68                 PLA             ;GET LSB
01222  1BA5              ;*********************************
01223  1BA5              ; PRINT BYTE IN A
01224  1BA5              ;*********************************
01225  1BA5  48          PRBYT  PHA             ;PUT BYTE ON STACK
01226  1BA6  4A                 LSR A           ;4 RIGHT SHIFTS
01227  1BA7  4A                 LSR A           ;TO MOVE HIGH
01228  1BA8  4A                 LSR A           ;NIBBLE TO LOW
01229  1BA9  4A                 LSR A           ;NIB WITH HIGH 0'S
01230  1BAA  A8                 TAY             ;USE AS POINTER
01231  1BAB  B9 11 1D           LDA HEXA,Y      ;GET ASCII
01232  1BAE  20 11 1C           JSR PCHAR       ;PRINT
01233  1BB1  68                 PLA             ;PULL BYTE OUT
01234  1BB2  29 0F              AND #$0F        ;MASK HIGH NIBBLE
01235  1BB4  A8                 TAY             ;USE AS POINTER
01236  1BB5  B9 11 1D           LDA HEXA,Y      ;GET ASCII
01237  1BB8  4C 11 1C           JMP PCHAR       ;PRINT
01238  1BBB              ;*********************************






DISASSEMBLER64......PAGE 0027

LINE# LOC   CODE        LINE


01239  1BBB              ; STRING OUTPUT ROUTINE
01240  1BBB              ;*********************************
01241  1BBB  85 DD       STRPNT STA ZEROUR      ;POINTER TO
01242  1BBD  84 DE              STY ZEROUR+1    ;MESSAGE
01243  1BBF  A0 00              LDY #$00        ;OFFSET
01244  1BC1  B1 DD       SOUT   LDA (ZEROUR),Y  ;GET CHAR
01245  1BC3  F0 06              BEQ SEXIT       ;IF ZERO EXIT
01246  1BC5  20 11 1C           JSR PCHAR       ;PRINT
01247  1BC8  C8                 INY             ;INC OFFSET
01248  1BC9  D0 F6              BNE SOUT        ;LOOP
01249  1BCB  60          SEXIT  RTS             ;RETURN
01250  1BCC              ;*********************************
01251  1BCC              ; PRINT DEC NUMBER (0000)
01252  1BCC              ;*********************************
01253  1BCC  86 DD       PRTPAG STX ZEROUR      ;LOW  BYTE NUM
01254  1BCE  85 DE              STA ZEROUR+1    ;HIGH BYTE NUM
01255  1BD0  A2 03              LDX #$03        ;4 CHARS
01256  1BD2  8E 53 10           STX SAVX        ;SAVE COUNT
01257  1BD5  D0 09              BNE PRTNU1      ;BRANCH
01258  1BD7              ;*********************************
01259  1BD7              ; PRINT DEC NUMBER (00000)
01260  1BD7              ;*********************************
01261  1BD7  86 DD       PRTNUM STX ZEROUR      ;LOW  BYTE NUM
01262  1BD9  85 DE              STA ZEROUR+1    ;HIGH BYTE NUM
01263  1BDB  A2 04              LDX #$04        ;5 CHARS
01264  1BDD  8E 53 10           STX SAVX        ;SAVE COUNT
01265  1BE0              ;*********************************
01266  1BE0              ; PRINT DEC NUMBER AND LEADING 0
01267  1BE0              ;*********************************
01268  1BE0  AE 53 10    PRTNU1 LDX SAVX
01269  1BE3  A0 30              LDY #$30
01270  1BE5  D0 01              BNE PRTNU3
01271  1BE7  C8          PRTNU2 INY 
01272  1BE8  38          PRTNU3 SEC 
01273  1BE9  A5 DD              LDA ZEROUR
01274  1BEB  FD 21 1D           SBC CONST0,X
01275  1BEE  85 DD              STA ZEROUR
01276  1BF0  A5 DE              LDA ZEROUR+1
01277  1BF2  FD 26 1D           SBC CONST1,X
01278  1BF5  85 DE              STA ZEROUR+1
01279  1BF7  B0 EE              BCS PRTNU2
01280  1BF9  A5 DD              LDA ZEROUR
01281  1BFB  7D 21 1D           ADC CONST0,X
01282  1BFE  85 DD              STA ZEROUR
01283  1C00  A5 DE              LDA ZEROUR+1
01284  1C02  7D 26 1D           ADC CONST1,X
01285  1C05  85 DE              STA ZEROUR+1
01286  1C07  98                 TYA
01287  1C08  20 11 1C           JSR PCHAR
01288  1C0B  CE 53 10           DEC SAVX
01289  1C0E  10 D0              BPL PRTNU1
01290  1C10  60                 RTS
01291  1C11              ;*********************************
01292  1C11              ;  OUTPUT CHAR TO OPEN CHANNEL
01293  1C11              ;*********************************






DISASSEMBLER64......PAGE 0028

LINE# LOC   CODE        LINE


01294  1C11  48          PCHAR  PHA             ;SAVE CHAR
01295  1C12  AD 19 10           LDA DEVICE      ;GET FILE FLAG
01296  1C15  29 08              AND #$08        ;CHECK FOR DISK
01297  1C17  F0 0D              BEQ PRIN        ;IF NONE BRANCH
01298  1C19  A2 08              LDX #$08        ;DISK FILE #1
01299  1C1B  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01300  1C1E  68                 PLA             ;GET CHAR
01301  1C1F  48                 PHA             ;RESAVE CHAR
01302  1C20  20 D2 FF           JSR CHROUT      ;OUTPUT TO DISK
01303  1C23  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01304  1C26  AD 19 10    PRIN   LDA DEVICE      ;GET DEVICE FLAG
01305  1C29  29 04              AND #$04        ;CHECK FOR PRINTER
01306  1C2B  F0 0D              BEQ SCREN       ;IF NOT BRANCH
01307  1C2D  A2 04              LDX #$04        ;PRINT FILE #4
01308  1C2F  20 C9 FF           JSR CHKOUT      ;FILE IS OUTPUT
01309  1C32  68                 PLA             ;GET CHAR
01310  1C33  48                 PHA             ;RESAVE CHAR
01311  1C34  20 D2 FF           JSR CHROUT      ;OUTPUT TO PRINTER
01312  1C37  20 CC FF           JSR CLRCHN      ;RESET OUTPUT
01313  1C3A  AD 19 10    SCREN  LDA DEVICE      ;GET DEVICE FLAG
01314  1C3D  29 03              AND #$03        ;CHECK FOR SCREEN
01315  1C3F  F0 05              BEQ PEXIT       ;IF NOT BRANCH
01316  1C41  68                 PLA             ;GET CHAR
01317  1C42  48                 PHA             ;RESAVE CHAR
01318  1C43  20 D2 FF           JSR CHROUT      ;OUTPUT TO SCREEN
01319  1C46  68          PEXIT  PLA             ;GET CHAR
01320  1C47  60                 RTS             ;RETURN
01321  1C48              ;*********************************
01322  1C48              ; PRINTER OUTPUT ROUTINES
01323  1C48              ;*********************************
01324  1C48              ; FINISH OUT PAGE WITH CR
01325  1C48              ;*********************************
01326  1C48  20 5B 1C    FINISH JSR CRLFPR      ;PRINT CR
01327  1C4B  EE 57 10           INC LISTCT      ;INC LINE COUNT
01328  1C4E  AD 57 10           LDA LISTCT      ;GET COUNT
01329  1C51  C9 42              CMP #$42        ;66 LINES
01330  1C53  D0 F3              BNE FINISH      ;IF NOT MORE
01331  1C55  A9 00              LDA #$00        ;ZERO BYTE
01332  1C57  8D 57 10           STA LISTCT      ;RESET COUNT
01333  1C5A  60                 RTS             ;RETURN
01334  1C5B              ;*********************************
01335  1C5B              ; PRINT CR TO PRINTER
01336  1C5B              ;*********************************
01337  1C5B  A9 04       CRLFPR LDA #$04        ;DEVICE #4
01338  1C5D  8D 19 10           STA DEVICE      ;SET PRINTER
01339  1C60  20 F3 20           JSR CRLF        ;CR
01340  1C63  AD 1A 10           LDA OUTPUT      ;GET DEVICE
01341  1C66  8D 19 10           STA DEVICE      ;RESET DEVICE
01342  1C69  60                 RTS             ;RETURN
01343  1C6A              ;*********************************
01344  1C6A              ; START NEWLINE AND CHECK COUNT
01345  1C6A              ;*********************************
01346  1C6A  20 5B 1C    NEXPTR JSR CRLFPR      ;PRINT CR
01347  1C6D  EE 57 10    NEXLIN INC LISTCT      ;INC LINE COUNT
01348  1C70  AD 57 10           LDA LISTCT      ;GET COUNT






DISASSEMBLER64......PAGE 0029

LINE# LOC   CODE        LINE


01349  1C73  C9 3C              CMP #$3C        ;48 LINES
01350  1C75  D0 45              BNE LINEOK      ;IF NOT BRANCH
01351  1C77  20 48 1C           JSR FINISH      ;FINISH PAGE
01352  1C7A              ;*********************************
01353  1C7A              ; START NEW PAGE WITH HEADING
01354  1C7A              ;*********************************
01355  1C7A  AD 19 10    HEADER LDA DEVICE      ;CHECK DEVICE
01356  1C7D  29 04              AND #$04        ;PRINTER?
01357  1C7F  F0 3B              BEQ LINEOK      ;IF NOT EXIT
01358  1C81  20 6A 1C           JSR NEXPTR      ;NEXT LINE
01359  1C84  A9 04              LDA #$04        ;DEVICE #4
01360  1C86  8D 19 10           STA DEVICE      ;SET DEVICE
01361  1C89  A9 2B              LDA #<XTITLE    ;HEADER
01362  1C8B  A0 1D              LDY #>XTITLE    ;
01363  1C8D  20 BB 1B           JSR STRPNT      ;PRINT IT
01364  1C90              ;*********************************
01365  1C90              ; PRINT PAGE COUNT AND HEADER
01366  1C90              ;*********************************
01367  1C90  AE 55 10           LDX PAGECT
01368  1C93  AD 56 10           LDA PAGECT+1
01369  1C96  20 CC 1B           JSR PRTPAG
01370  1C99  20 6A 1C           JSR NEXPTR
01371  1C9C  20 6A 1C           JSR NEXPTR
01372  1C9F  A9 04              LDA #$04
01373  1CA1  8D 19 10           STA DEVICE
01374  1CA4  A9 46              LDA #<LTITLE
01375  1CA6  A0 1D              LDY #>LTITLE
01376  1CA8  20 BB 1B           JSR STRPNT
01377  1CAB  20 6A 1C           JSR NEXPTR
01378  1CAE              ;*********************************
01379  1CAE              ; INC PAGE COUNT
01380  1CAE              ;*********************************
01381  1CAE  EE 55 10           INC PAGECT
01382  1CB1  D0 03              BNE PAGER1
01383  1CB3  EE 56 10           INC PAGECT+1
01384  1CB6  20 6A 1C    PAGER1 JSR NEXPTR
01385  1CB9  20 6A 1C           JSR NEXPTR
01386  1CBC  60          LINEOK RTS 
01387  1CBD              ;*********************************
01388  1CBD              ; SYMBOL TABLE ROUTINES
01389  1CBD              ;*********************************
01390  1CBD              ; START NEWLINE AND CHECK COUNT
01391  1CBD              ;*********************************
01392  1CBD  20 5B 1C    NEXPTS JSR CRLFPR      ;PRINT CR
01393  1CC0  EE 57 10           INC LISTCT      ;INC LINE COUNT
01394  1CC3  AD 57 10           LDA LISTCT      ;GET COUNT
01395  1CC6  C9 3C              CMP #$3C        ;48 LINES
01396  1CC8  D0 1D              BNE HEADOK      ;IF NOT BRANCH
01397  1CCA  20 48 1C           JSR FINISH      ;FINISH PAGE
01398  1CCD              ;*********************************
01399  1CCD              ; START NEW PAGE WITH HEADING
01400  1CCD              ;*********************************
01401  1CCD  20 BD 1C    HEADES JSR NEXPTS      ;NEXT LINE
01402  1CD0  A9 63              LDA #<XTITLS    ;HEADER
01403  1CD2  A0 1D              LDY #>XTITLS    ;






DISASSEMBLER64......PAGE 0030

LINE# LOC   CODE        LINE


01404  1CD4  20 BB 1B           JSR STRPNT      ;PRINT IT
01405  1CD7  20 BD 1C           JSR NEXPTS
01406  1CDA  20 BD 1C           JSR NEXPTS
01407  1CDD  A9 70              LDA #<LTITLS
01408  1CDF  A0 1D              LDY #>LTITLS
01409  1CE1  20 BB 1B           JSR STRPNT
01410  1CE4  20 BD 1C           JSR NEXPTS
01411  1CE7  60          HEADOK RTS
01412  1CE8              ;*********************************
01413  1CE8              ; CHECK FOR NEW PAGE FOR SYMBOL
01414  1CE8              ;*********************************
01415  1CE8  AD 57 10    HEADSY LDA LISTCT
01416  1CEB  C9 35              CMP #$35
01417  1CED  B0 06              BCS HEADFX
01418  1CEF  20 BD 1C           JSR NEXPTS
01419  1CF2  4C BD 1C           JMP NEXPTS
01420  1CF5  4C 48 1C    HEADFX JMP FINISH
01421  1CF8              ;*********************************
01422  1CF8              ; SCREEN UTILITES
01423  1CF8              ;*********************************
01424  1CF8  AD 19 10    SCROFF LDA DEVICE
01425  1CFB  29 04              AND #$04
01426  1CFD  F0 08              BEQ SCRNO1
01427  1CFF  AD 11 D0           LDA VICREG
01428  1D02  29 EF              AND #$EF
01429  1D04  8D 11 D0           STA VICREG
01430  1D07  60          SCRNO1 RTS
01431  1D08              ;*********************************
01432  1D08  AD 11 D0    SCRON  LDA VICREG
01433  1D0B  09 10              ORA #$10
01434  1D0D  8D 11 D0           STA VICREG
01435  1D10  60                 RTS
01436  1D11              ;*********************************
01437  1D11              ; HEX-TO-ASCII TABLE
01438  1D11              ;*********************************
01439  1D11  30 31       HEXA   .BYTE '0123456789ABCDEF'
01440  1D21              ;*********************************
01441  1D21              ; CONSTANTS FOR PRTNUM ROUTINE
01442  1D21              ;*********************************
01443  1D21  01          CONST0 .BYTE $01,$0A,$64,$E8,$10
01443  1D22  0A 
01443  1D23  64 
01443  1D24  E8 
01443  1D25  10 
01444  1D26  00          CONST1 .BYTE $00,$00,$00,$03,$27
01444  1D27  00 
01444  1D28  00 
01444  1D29  03 
01444  1D2A  27 
01445  1D2B              ;*********************************
01446  1D2B              ; PAGE TITLE
01447  1D2B              ;*********************************
01448  1D2B  44 49       XTITLE .BYTE 'DISASSEMBLER64.......PAGE '
01449  1D45  00                 .BYTE $00
01450  1D46  4C 49       LTITLE .BYTE 'LINE# LOC   CODE        LINE'






DISASSEMBLER64......PAGE 0031

LINE# LOC   CODE        LINE


01451  1D62  00                 .BYTE $00
01452  1D63              ;********************************
01453  1D63              ; SYMBOL PAGE TITLE
01454  1D63              ;********************************
01455  1D63  53 59       XTITLS .BYTE 'SYMBOL TABLE',0
01455  1D6F  00 
01456  1D70  53 59       LTITLS .BYTE 'SYMBOL VALUE',0
01456  1D7C  00 
01457  1D7D              ;*********************************
01458  1D7D              ;.FIL 0:MODE.ASM
01459  1D7D              ;*********************************
01460  1D7D              .END
01461  1D7D              ;*********************************
01462  1D7D              .LIB   MODE.ASM
01463  1D7D              ;*********************************
01464  1D7D              ; FILE MODE.ASM
01465  1D7D              ;*********************************
01466  1D7D              ;
01467  1D7D              ;        DISASSEMBLER64
01468  1D7D              ;    SYMBOLIC DISASSEMBLER
01469  1D7D              ;       BY DENTON MARLOWE
01470  1D7D              ;
01471  1D7D              ;  (C)1986 BY DENTON MARLOWE
01472  1D7D              ;
01473  1D7D              ;*********************************
01474  1D7D              ; ADDRESSING MODE UTILITIES
01475  1D7D              ;*********************************
01476  1D7D              ;      DISASSEMBLE ONE LINE
01477  1D7D              ;*********************************
01478  1D7D  20 A9 24    DSLINE JSR DATAOP      ;CHECK FOR DATA
01479  1D80  30 3D              BMI BYTT        ;N=1 THEN FOUND
01480  1D82              ;*********************************
01481  1D82              ; CHECK BIT ZP DECODING OPTIONS
01482  1D82              ;*********************************
01483  1D82  AD 6F 37           LDA BITFLG      ;CHECK BIT FLAG
01484  1D85  F0 0D              BEQ DISL        ;IF ZERO NO BIT
01485  1D87                     
01486  1D87  20 2C 21           JSR GETSL       ;GET BYTE
01487  1D8A  C9 24              CMP #$24        ;ZEROPAGE BIT
01488  1D8C  F0 34              BEQ BYZBIT      ;
01489  1D8E  C9 2C              CMP #$2C        ;ZEROPAGE BIT
01490  1D90  F0 55              BEQ BYABIT      ;
01491  1D92  D0 00              BNE DISL        ;
01492  1D94              ;*********************************
01493  1D94              ; CHECK BIT ABS DECODING OPTIONS
01494  1D94              ;*********************************
01495  1D94              
01496  1D94              ;********************************
01497  1D94              ; PROCESS LINE OF CODE
01498  1D94              ;********************************
01499  1D94              DISL   = *
01500  1D94  20 2C 21           JSR GETSL       ;GET BYTE
01501  1D97  AE 12 10           LDX PASS        ;GET PASS COUNT
01502  1D9A  EC 15 10           CPX CPASS       ;LAST
01503  1D9D  F0 06              BEQ DISL1       ;IF LAST BRANCH






DISASSEMBLER64......PAGE 0032

LINE# LOC   CODE        LINE


01504  1D9F  20 71 27           JSR OPERN1      ;IF LAST BRANCH
01505  1DA2  4C BF 1D           JMP BYTT        ;NEXT INSTRUCTION
01506  1DA5              ;********************************
01507  1DA5              ; PRINT DISASSEMBLY ADDRESS
01508  1DA5              ;********************************
01509  1DA5  20 64 27    DISL1  JSR PRTASS      ;PRINT LINE DATA
01510  1DA8  20 8A 20           JSR PRAD        ;PRINT ADDRESS
01511  1DAB  20 05 21           JSR SPACE       ;SPACE OVER
01512  1DAE              ;********************************
01513  1DAE              ; PRINT INSTRUCTION
01514  1DAE              ;********************************
01515  1DAE  20 2C 21           JSR GETSL       ;GET BYTE
01516  1DB1  48                 PHA             ;STORE
01517  1DB2  20 45 27           JSR MNEMON      ;PRINT MNEMONIC
01518  1DB5  20 05 21           JSR SPACE       ;SPACE OVER
01519  1DB8  68                 PLA             ;GET BYTE
01520  1DB9  20 79 27           JSR OPERND      ;PRINT OPERAND
01521  1DBC  20 FE 1A    FINAL  JSR NEWLIN      ;START NEW LINE
01522  1DBF  4C 0A 21    BYTT   JMP NEXTSL      ;NEXT INSTRUCTION
01523  1DC2              ;********************************
01524  1DC2              ;      BIT ZP SKIP TRICK
01525  1DC2              ;
01526  1DC2              ; THE SKIP WILL ALWAYS INVOLVE
01527  1DC2              ; A FOLLWING OPCODE THAT IS EITHER
01528  1DC2              ; AN OPCODE WITH NO OPERAND OR
01529  1DC2              ; OR ONE BYTE OPERAND LIKE A BRANCH
01530  1DC2              ; OR ZERO PAGE INSTRUCTION
01531  1DC2              ;*********************************
01532  1DC2              BYZBIT = *
01533  1DC2  AD 6F 37           LDA BITFLG
01534  1DC5  29 02              AND #$02
01535  1DC7  F0 CB              BEQ DISL
01536  1DC9              ;********************************
01537  1DC9              ;      TO SKIP OR NOT
01538  1DC9              ;*********************************
01539  1DC9  20 23 21           JSR INCSL       ;INC TO OPERAND
01540  1DCC  20 2C 21           JSR GETSL       ;GET OPERAND
01541  1DCF  48                 PHA
01542  1DD0  20 42 21           JSR DECSL
01543  1DD3  68                 PLA
01544  1DD4                                     ;CHECK FOR SKIP
01545  1DD4  C9 10              CMP #$10        ;BPL SKIP
01546  1DD6  F0 40              BEQ B0000
01547  1DD8  C9 18              CMP #$18        ;CLC SKIP
01548  1DDA  F0 3C              BEQ B0000
01549  1DDC  C9 30              CMP #$30        ;BMI
01550  1DDE  F0 38              BEQ B0000
01551  1DE0  C9 38              CMP #$38        ;SEC
01552  1DE2  F0 34              BEQ B0000
01553  1DE4              ;
01554  1DE4  4C 94 1D           JMP DISL
01555  1DE7              ;********************************
01556  1DE7              ;      BIT ABS SKIP TRICK
01557  1DE7              ;*********************************
01558  1DE7              BYABIT = *






DISASSEMBLER64......PAGE 0033

LINE# LOC   CODE        LINE


01559  1DE7  AD 6F 37           LDA BITFLG
01560  1DEA  29 01              AND #$01
01561  1DEC  F0 A6              BEQ DISL
01562  1DEE              ;********************************
01563  1DEE              ;      TO SKIP OR NOT
01564  1DEE              ;*********************************
01565  1DEE  20 23 21           JSR INCSL       ;INC TO OPERAND
01566  1DF1  20 2C 21           JSR GETSL       ;GET OPERAND
01567  1DF4  48                 PHA
01568  1DF5  20 42 21           JSR DECSL
01569  1DF8  68                 PLA
01570  1DF9                                     ;CHECK FOR SKIP
01571  1DF9  C9 A1              CMP #$A1        ;LDY A IMMEDIATE SKIP
01572  1DFB  F0 1B              BEQ B0000
01573  1DFD  C9 A2              CMP #$A2        ;LDA A IMMEDIATE SKIP
01574  1DFF  F0 17              BEQ B0000
01575  1E01  C9 A9              CMP #$A9        ;LDX A IMMEDIATE SKIP
01576  1E03  F0 13              BEQ B0000
01577  1E05                     
01578  1E05  C9 65              CMP #$65        ;ADC ZP
01579  1E07  F0 0F              BEQ B0000
01580  1E09                     
01581  1E09  C9 85              CMP #$85        ;STA ZP
01582  1E0B  F0 0B              BEQ B0000
01583  1E0D                     
01584  1E0D  C9 B1              CMP #$B1        ;LDA (ZP),Y
01585  1E0F  F0 07              BEQ B0000
01586  1E11                     
01587  1E11  C9 E6              CMP #$E6        ;INC
01588  1E13  F0 03              BEQ B0000
01589  1E15              ;
01590  1E15  4C 94 1D           JMP DISL
01591  1E18              ;********************************
01592  1E18              ;      PRINTING PASS?
01593  1E18              ;*********************************
01594  1E18              B0000  = *
01595  1E18  AD 12 10           LDA PASS        ;GET PASS COUNT
01596  1E1B  CD 15 10           CMP CPASS       ;LAST
01597  1E1E  D0 9F              BNE BYTT        ;IF NOT NEXT BYTE
01598  1E20              ;*********************************
01599  1E20              ;  PRINT LINE DATA FOR .BYTE
01600  1E20              ;*********************************
01601  1E20  20 61 20           JSR COMENT      ;COMENT LINE
01602  1E23              ;
01603  1E23  20 05 22           JSR PRTDAT      ;PRINT LINE DATA
01604  1E26  20 92 21           JSR PRTONE      ;ONE BYTE
01605  1E29  20 8A 20           JSR PRAD        ;PRINT ADDRESS
01606  1E2C  20 05 21           JSR SPACE       ;SPACE OVER
01607  1E2F  A9 5B              LDA #<MSGBIT    ;.BYTE $
01608  1E31  A0 21              LDY #>MSGBIT    ;
01609  1E33  20 BB 1B           JSR STRPNT      ;PRINT IT
01610  1E36              ;
01611  1E36  20 2C 21           JSR GETSL       ;GET BYTE
01612  1E39  20 A5 1B           JSR PRBYT       ;PRINT BYTE
01613  1E3C              ;






DISASSEMBLER64......PAGE 0034

LINE# LOC   CODE        LINE


01614  1E3C  A9 63              LDA #<MSGBZP    ;BIT COMMENT
01615  1E3E  A0 21              LDY #>MSGBZP    ;
01616  1E40  20 BB 1B           JSR STRPNT      ;PRINT IT
01617  1E43              ;
01618  1E43  20 FE 1A           JSR NEWLIN      ;PRINT BYTE
01619  1E46                                     ;JSR INCSL    ;INC SELECT
01620  1E46  20 67 20           JSR COMET       ;COMENT LINE
01621  1E49                                     ;JSR DECSL    ;REASET SELE
CT
01622  1E49  4C BC 1D           JMP FINAL       ;CR AND NEXT BYTE
01623  1E4C              ;*********************************
01624  1E4C              ;BYTEXT JMP DISL1
01625  1E4C              ;*********************************
01626  1E4C              ; ADDRESSING MODE UTILITIES
01627  1E4C              ;*********************************
01628  1E4C              ;
01629  1E4C              ;*********************************
01630  1E4C              ; ANALYSIS OPERAND ROUTINES
01631  1E4C              ;*********************************
01632  1E4C              ;    BIT ZP ONE-BYTE OPERAND
01633  1E4C              ; ZERO PAGE BIT IS ALMOST ALWAYS
01634  1E4C              ;   A BIT TRICK TO SKIP THE NEXT
01635  1E4C              ;          OPCODE
01636  1E4C              ;********************************
01637  1E4C  EA          ONEBIT NOP
01638  1E4D              ;*********************************
01639  1E4D              ;      ONE-BYTE OPERAND
01640  1E4D              ;********************************
01641  1E4D  20 23 21    ONEBYT JSR INCSL       ;INC TO BYTE
01642  1E50  20 2C 21           JSR GETSL       ;GET BYTE
01643  1E53  8D 45 10           STA WORKED      ;STORE OPERAND
01644  1E56  A9 00              LDA #$00        ;ZERO BYTE
01645  1E58  8D 46 10           STA WORKED+1    ;ZERO HIGH BYTE
01646  1E5B  AD 12 10           LDA PASS        ;GET PASS COUNT
01647  1E5E  CD 13 10           CMP IPASS       ;INTERNAL
01648  1E61  F0 54              BEQ OPCPUT      ;TABLE OPERAND
01649  1E63  CD 14 10           CMP EPASS       ;EXTERNAL
01650  1E66  F0 52              BEQ OPCSYM      ;EXTERNAL EQUATE
01651  1E68              ;*********************************
01652  1E68              ; OUTPUT OPERAND
01653  1E68              ;*********************************
01654  1E68  20 5C 2B           JSR SYMOP       ;CHECK FOR SYMBOL
01655  1E6B  B0 50              BCS TWOB        ;SYMBOL FOUND
01656  1E6D  20 3C 22           JSR RANGE       ;IS IT INTERNAL
01657  1E70  90 06              BCC ONEBY       ;GENERATE LABEL
01658  1E72  20 D0 20           JSR DOLLAR      ;EXTERNAL
01659  1E75  4C 7B 1E           JMP ONEBX       ;PRINT ADDRESS
01660  1E78  20 80 20    ONEBY  JSR PRLA        ;PRINT XX
01661  1E7B  AD 45 10    ONEBX  LDA WORKED      ;GET OPERAND
01662  1E7E  4C A5 1B           JMP PRBYT       ;PRINT BYTE
01663  1E81              ;********************************
01664  1E81              ;      BIT ABS TWO-BYTE OPERAND
01665  1E81              ;********************************
01666  1E81  EA          TWOBIT NOP
01667  1E82              ;********************************
01668  1E82              ;      TWO-BYTE OPERAND






DISASSEMBLER64......PAGE 0035

LINE# LOC   CODE        LINE


01669  1E82              ;********************************
01670  1E82  20 23 21    TWOBYT JSR INCSL       ;INC TO BYTE
01671  1E85  20 2C 21           JSR GETSL       ;GET BYTE
01672  1E88  8D 45 10           STA WORKED      ;STORE LOW BYTE
01673  1E8B  20 23 21           JSR INCSL       ;INC TO BYTE
01674  1E8E  20 2C 21           JSR GETSL       ;GET BYTE
01675  1E91  8D 46 10           STA WORKED+1    ;STORE HIGH BYTE
01676  1E94  AD 12 10           LDA PASS        ;GET PASS COUNT
01677  1E97  CD 13 10           CMP IPASS       ;INTERNAL
01678  1E9A  F0 1B              BEQ OPCPUT      ;TABLE OPERNAD
01679  1E9C  CD 14 10           CMP EPASS       ;EXTERNAL
01680  1E9F  F0 19              BEQ OPCSYM      ;EXTERNAL EQUATE
01681  1EA1              ;********************************
01682  1EA1              ;  OUTPUT OPERAND
01683  1EA1              ;********************************
01684  1EA1  20 5C 2B           JSR SYMOP       ;CHECK SYMBOL
01685  1EA4  B0 17              BCS TWOB        ;C=1 FOUND ONE
01686  1EA6  20 3C 22           JSR RANGE       ;IS IT INTERNAL
01687  1EA9  90 06              BCC TWOBY       ;GERNERATE LABEL
01688  1EAB  20 D0 20           JSR DOLLAR      ;EXTERNAL
01689  1EAE  4C B4 1E           JMP TWOBX       ;
01690  1EB1              ;********************************
01691  1EB1              ;  OUTPUT OPERAND
01692  1EB1              ;********************************
01693  1EB1              TWOBY  =*
01694  1EB1  20 80 20           JSR PRLA        ;PRINT XX
01695  1EB4              TWOBX  = *
01696  1EB4  4C C2 20           JMP PWORKD      ;PRINT ADDRESS
01697  1EB7              OPCPUT = *
01698  1EB7  4C B3 22           JMP PUTI        ;PUT IN TABLE
01699  1EBA              OPCSYM = *
01700  1EBA  4C 5C 2B           JMP SYMOP       ;CHECK EXT EQUATE
01701  1EBD              TWOB   = *
01702  1EBD  60                 RTS             ;RETURN
01703  1EBE              ;*********************************
01704  1EBE              ; ILLEGAL MODES, UNUSED OPCODES
01705  1EBE              ;
01706  1EBE              ; ZZZZ XX .BYTE $XX ;'Y' ;??? ILLEGAL OPCODE
01707  1EBE              ;
01708  1EBE              ;*********************************
01709  1EBE  EE 5A 10    ILLEGL INC ERRCT       ;INC ERROR COUNT
01710  1EC1  D0 03              BNE *+5         ;SKIP NEXT LINE
01711  1EC3  EE 5B 10           INC ERRCT+1     ;INC ERROR COUNT
01712  1EC6  A0 27              LDY #>MBYTE     ;.BYTE
01713  1EC8  A9 2C              LDA #<MBYTE     ;
01714  1ECA  20 BB 1B           JSR STRPNT      ;PRINT STRING
01715  1ECD  20 D0 20           JSR DOLLAR      ;PRINT $
01716  1ED0  20 2C 21           JSR GETSL       ;GET ILLEGAL BYTE
01717  1ED3                     
01718  1ED3              ;BEGIN REV 2017-3
01719  1ED3  48                 PHA             ;PUT BYTE ON STACK
01720  1ED4              ;
01721  1ED4  20 A5 1B           JSR PRBYT       ;PRINT IT
01722  1ED7  20 05 21           JSR SPACE       ;SPACE OVER
01723  1EDA              ;






DISASSEMBLER64......PAGE 0036

LINE# LOC   CODE        LINE


01724  1EDA  68                 PLA             ;POP BYTE OFF STACK
01725  1EDB  20 34 26           JSR CASCII      ;IS IT PRINTABLE ASCII
01726  1EDE  B0 18              BCS ISKIP       ;IF NOT EXIT
01727  1EE0  48                 PHA             ;STACK IT
01728  1EE1  20 05 21           JSR SPACE       ;SPACE OVER
01729  1EE4  20 CB 20           JSR SEMIC       ;COMMENT
01730  1EE7  A9 27              LDA #'''        ;QUOTE
01731  1EE9  20 11 1C           JSR PCHAR       ;PRINT IT
01732  1EEC  68                 PLA             ;POP IT
01733  1EED  20 11 1C           JSR PCHAR       ;PRINT IT
01734  1EF0  A9 27              LDA #'''        ;QUOTE
01735  1EF2  20 11 1C           JSR PCHAR       ;PRINT IT
01736  1EF5  20 05 21           JSR SPACE       ;SPACE OVER
01737  1EF8              ;
01738  1EF8              ISKIP  = *
01739  1EF8              ;END REV 2017-3
01740  1EF8  A0 21              LDY #>ILLMSG
01741  1EFA  A9 7E              LDA #<ILLMSG
01742  1EFC  4C BB 1B           JMP STRPNT
01743  1EFF              ;********************************
01744  1EFF              ;      ACCUMULATOR MODE
01745  1EFF              ;********************************
01746  1EFF  A9 41       ACC    LDA #'A'        ;ASCII A
01747  1F01  4C 11 1C           JMP PCHAR       ;PRINT IT
01748  1F04              ;********************************
01749  1F04              ;       IMMEDIATE MODE
01750  1F04              ;********************************
01751  1F04  20 23 21    IMMEDT JSR INCSL       ;INC TO DATA BYTE
01752  1F07  AE 12 10           LDX PASS        ;GET PASS
01753  1F0A  EC 15 10           CPX CPASS       ;LAST PASS
01754  1F0D  D0 2A              BNE IMEXIT      ;EXIT
01755  1F0F  A9 23              LDA #'#'        ;ASCII #
01756  1F11  20 11 1C           JSR PCHAR       ;PRINT IT
01757  1F14  20 D0 20           JSR DOLLAR      ;PRINT $
01758  1F17  20 2C 21           JSR GETSL       ;GET BYTE
01759  1F1A  48                 PHA             ;STACK IT
01760  1F1B  20 A5 1B           JSR PRBYT       ;PRINT IT
01761  1F1E  68                 PLA             ;POP IT
01762  1F1F  20 34 26           JSR CASCII      ;PRINTABLE ASCII
01763  1F22  B0 15              BCS IMEXIT      ;IF NOT EXIT
01764  1F24  48                 PHA             ;STACK IT
01765  1F25  20 F8 20           JSR SPAC6       ;SPACE OVER
01766  1F28  20 CB 20           JSR SEMIC       ;COMMENT
01767  1F2B  A9 27              LDA #'''        ;QUOTE
01768  1F2D  20 11 1C           JSR PCHAR       ;PRINT IT
01769  1F30  68                 PLA             ;POP IT
01770  1F31  20 11 1C           JSR PCHAR       ;PRINT IT
01771  1F34  A9 27              LDA #'''        ;QUOTE
01772  1F36  20 11 1C           JSR PCHAR       ;PRINT IT
01773  1F39  60          IMEXIT RTS             ;EXIT
01774  1F3A              ;*********************************
01775  1F3A              ;      BIT ZERO PAGE MODE
01776  1F3A              ;*********************************
01777  1F3A  EA          ZERBIT NOP
01778  1F3B              ;*********************************






DISASSEMBLER64......PAGE 0037

LINE# LOC   CODE        LINE


01779  1F3B              ;      ZERO PAGE MODE
01780  1F3B              ;*********************************
01781  1F3B  4C 4D 1E    ZEROPG JMP ONEBYT      ;PRINT ONE BYTE
01782  1F3E              ;*********************************
01783  1F3E              ;      ZERO PAGE,X MODE
01784  1F3E              ;********************************
01785  1F3E  20 4D 1E    ZEROX  JSR ONEBYT      ;PRINT ONE BYTE
01786  1F41  4C DF 20           JMP XINDEX      ;PRINT ,X
01787  1F44              ;********************************
01788  1F44              ;       ZERO PAGE,Y MODE
01789  1F44              ;********************************
01790  1F44  20 4D 1E    ZEROY  JSR ONEBYT      ;PRINT ONE BYTE
01791  1F47  4C E9 20           JMP YINDEX      ;PRINT ,Y
01792  1F4A              ;*********************************
01793  1F4A              ;         BIT ABSOLUTE MODE
01794  1F4A              ;*********************************
01795  1F4A  EA          ABSBIT NOP
01796  1F4B              ;*********************************
01797  1F4B              ;         ABSOLUTE MODE
01798  1F4B              ;*********************************
01799  1F4B  20 82 1E    ABSLUT JSR TWOBYT      ;PRINT TWO BYTE
01800  1F4E  20 42 21           JSR DECSL       ;DEC TO SECOND
01801  1F51  20 42 21           JSR DECSL       ;DEC TO OPCODE
01802  1F54  20 2C 21           JSR GETSL       ;GET BYTE
01803  1F57  48                 PHA
01804  1F58  20 23 21           JSR INCSL
01805  1F5B  20 23 21           JSR INCSL
01806  1F5E  68                 PLA
01807  1F5F  C9 4C              CMP #$4C        ;IS IT JMP
01808  1F61  D0 0C              BNE ABSEXT      ;IF NOT EXIT
01809  1F63  20 FE 1A           JSR NEWLIN      ;NEXT LINE
01810  1F66  20 23 21           JSR INCSL
01811  1F69  20 67 20           JSR COMET       ;COMMENT LINE
01812  1F6C  20 42 21           JSR DECSL
01813  1F6F  60          ABSEXT RTS             ;RETURN
01814  1F70              ;*********************************
01815  1F70              ;       ABSOLUTE,X MODE
01816  1F70              ;********************************
01817  1F70  20 82 1E    ABSX   JSR TWOBYT      ;PRINT TWO BYTE
01818  1F73  4C DF 20           JMP XINDEX      ;PRINT ,X
01819  1F76              ;********************************
01820  1F76              ;       ABSOLUTE,Y MODE
01821  1F76              ;********************************
01822  1F76  20 82 1E    ABSY   JSR TWOBYT      ;PRINT TWO BYTE
01823  1F79  4C E9 20           JMP YINDEX      ;PRINT ,Y
01824  1F7C              ;********************************
01825  1F7C              ;       IMPLIED MODE
01826  1F7C              ;********************************
01827  1F7C  20 2C 21    IMPLID JSR GETSL       ;GET BYTE
01828  1F7F  F0 09              BEQ IMPLI1      ;BRK
01829  1F81  C9 60              CMP #$60        ;CHECK CODE
01830  1F83  F0 05              BEQ IMPLI1      ;RTS
01831  1F85  C9 40              CMP #$40        ;CHECK CODE
01832  1F87  F0 01              BEQ IMPLI1      ;RTI
01833  1F89  60          IMPONE RTS             ;RETURN






DISASSEMBLER64......PAGE 0038

LINE# LOC   CODE        LINE


01834  1F8A  20 FE 1A    IMPLI1 JSR NEWLIN      ;PRINT NEW LINE
01835  1F8D  20 23 21           JSR INCSL
01836  1F90  20 67 20           JSR COMET       ;COMMENT LINE
01837  1F93  4C 42 21           JMP DECSL
01838  1F96              ;********************************
01839  1F96              ;       INDIRECT MODE
01840  1F96              ;********************************
01841  1F96  20 D5 20    INDRCT JSR LPAREN      ;PRINT (
01842  1F99  20 82 1E           JSR TWOBYT      ;PRINT TWO BYTE
01843  1F9C  20 DA 20           JSR RPAREN      ;PRINT )
01844  1F9F  20 FE 1A           JSR NEWLIN      ;NEXT LINE
01845  1FA2  20 23 21           JSR INCSL
01846  1FA5  20 67 20           JSR COMET       ;COMMENT LINE
01847  1FA8  4C 42 21           JMP DECSL
01848  1FAB              ;********************************
01849  1FAB              ;     INDIRECT,X MODE
01850  1FAB              ;********************************
01851  1FAB  20 D5 20    INDX   JSR LPAREN      ;PRINT (
01852  1FAE  20 3E 1F           JSR ZEROX       ;PRINT $HH,X
01853  1FB1  4C DA 20           JMP RPAREN      ;PRINT )
01854  1FB4              ;********************************
01855  1FB4              ;     INDIRECT,Y MODE
01856  1FB4              ;********************************
01857  1FB4  20 D5 20    INDY   JSR LPAREN      ;PRINT (
01858  1FB7  20 4D 1E           JSR ONEBYT      ;PRINT ONE BYTE
01859  1FBA  20 DA 20           JSR RPAREN      ;PRINT )
01860  1FBD  4C E9 20           JMP YINDEX      ;PRINT ,Y
01861  1FC0              ;*********************************
01862  1FC0              ;      RELATIVE MODE
01863  1FC0              ;*********************************
01864  1FC0  20 23 21    RELATV JSR INCSL       ;INC BYTE POINTER
01865  1FC3  AD 12 10           LDA PASS        ;GET PASS COUNT
01866  1FC6  CD 14 10           CMP EPASS       ;EXTERNAL
01867  1FC9  F0 44              BEQ RELSYM      ;EXIT ON EXTERNAL
01868  1FCB              ;
01869  1FCB  AD 22 10           LDA SELECT      ;GET LOW POINTER
01870  1FCE  8D 45 10           STA WORKED      ;STORE TEMP
01871  1FD1  AD 23 10           LDA SELECT+1    ;GET HIGH POINTER
01872  1FD4  8D 46 10           STA WORKED+1    ;STORE TEMP
01873  1FD7  EE 45 10           INC WORKED      ;ADD 1 TO ADDRESS
01874  1FDA  D0 03              BNE *+5         ;ZERO MEANS CARRY
01875  1FDC  EE 46 10           INC WORKED+1    ;INC HIGH ADDRESS
01876  1FDF              ;
01877  1FDF  20 2C 21           JSR GETSL       ;GET BYTE BRANCH OFFSET
01878  1FE2  C9 00              CMP #$00        ;IS IT ZERO
01879  1FE4  10 03              BPL FORWRD      ;IF SO BRANCH
01880  1FE6  CE 46 10           DEC WORKED+1    ;DEC HIGH POINTER
01881  1FE9  18          FORWRD CLC             ;CLEAR CARRY FLAG
01882  1FEA  6D 45 10           ADC WORKED      ;ADD IN OPERAND
01883  1FED  90 03              BCC RELND       ;TO SELECT ADDRES
01884  1FEF  EE 46 10           INC WORKED+1    ;AND NOW POINTS
01885  1FF2  8D 45 10    RELND  STA WORKED      ;TARGET ADDRESS
01886  1FF5              ;
01887  1FF5  AD 12 10           LDA PASS        ;GET PASS COUNT
01888  1FF8  CD 13 10           CMP IPASS       ;INTERNAL






DISASSEMBLER64......PAGE 0039

LINE# LOC   CODE        LINE


01889  1FFB  F0 0F              BEQ RELPUT      ;ADDRESS TABLE
01890  1FFD              ;
01891  1FFD  20 5C 2B           JSR SYMOP       ;CHECK FOR SYMBOL
01892  2000  B0 0D              BCS RELSYM      ;C=1 SYMBOL
01893  2002              ;
01894  2002  AD 18 10           LDA ROPT        ;CHECK OPTION
01895  2005  C9 01              CMP #$01        ;REL TO * ?
01896  2007  F0 07              BEQ RELPC       ;IF SO DO IT
01897  2009              ;
01898  2009  4C BF 20           JMP PWORK       ;PRINT ADDRESS
01899  200C              ;
01900  200C              RELPUT = *
01901  200C  4C B3 22           JMP PUTI        ;PUT IN TABLE
01902  200F              ;
01903  200F  60          RELSYM RTS             ;RETURN
01904  2010              ;*********************************
01905  2010              ; PRINT RELATIVE TO PC
01906  2010              ;*********************************
01907  2010  20 2C 21    RELPC  JSR GETSL       ;GET BRANCH DATA
01908  2013  48                 PHA             ;SAVE ON STACK
01909  2014  30 07              BMI RELNEG      ;BACKWARD ?
01910  2016  A9 71              LDA #<POSREL
01911  2018  A0 21              LDY #>POSREL
01912  201A  4C 21 20           JMP RELPM
01913  201D  A9 75       RELNEG LDA #<NEGREL
01914  201F  A0 21              LDY #>NEGREL
01915  2021  20 BB 1B    RELPM  JSR STRPNT
01916  2024  68                 PLA             ;GET BRANCH DATA
01917  2025  18                 CLC             ;CLEAR CARRY
01918  2026  69 02              ADC #$02        ;ADD 2 FOR BRANCH
01919  2028  10 05              BPL RELP        ;FORWARD ?
01920  202A  18                 CLC             ;CLEAR CARRY
01921  202B  49 FF              EOR #$FF        ;COMPLMENT
01922  202D  69 01              ADC #$01        ;ADD 1 FOR 2'S
01923  202F  20 A5 1B    RELP   JSR PRBYT       ;PRINT BRANCH
01924  2032  20 F8 20           JSR SPAC6       ;SPACE
01925  2035  20 CB 20           JSR SEMIC       ;COMMENT CHAR
01926  2038  4C BF 20           JMP PWORK       ;PRINT ADDRESS
01927  203B              ;*********************************
01928  203B              ;  ORGIN LABEL
01929  203B              ;*********************************
01930  203B  20 29 22    ORGIN  JSR PRTOTH      ;PRINT LINE DATA
01931  203E  A9 2A              LDA #'*'        ;PC
01932  2040  20 11 1C           JSR PCHAR       ;PRINT IT
01933  2043  A9 3D              LDA #'='        ;EQUALS
01934  2045  20 11 1C           JSR PCHAR       ;PRINT IT
01935  2048  20 D0 20           JSR DOLLAR      ;ASCII $
01936  204B  20 B6 20           JSR PSELEC      ;PRINT ADDRESS
01937  204E  4C FE 1A           JMP NEWLIN      ;START NEWLINE
01938  2051              ;*********************************
01939  2051              ; END OF FILE LABLE
01940  2051              ;*********************************
01941  2051  20 61 20    EFILE  JSR COMENT      ;COMMENT LINE
01942  2054  20 29 22           JSR PRTOTH      ;PRINT LINE DATA
01943  2057  A9 79              LDA #<MSGEND    ;END MESSAGE






DISASSEMBLER64......PAGE 0040

LINE# LOC   CODE        LINE


01944  2059  A0 21              LDY #>MSGEND
01945  205B  20 BB 1B           JSR STRPNT      ;PRINT IT
01946  205E  4C FE 1A           JMP NEWLIN      ;NEW LINE
01947  2061              ;*********************************
01948  2061              ; PRINT COMMENT LINE
01949  2061              ;*********************************
01950  2061  20 67 20    COMENT JSR COMET       ;PRINT COMMENT
01951  2064  4C FE 1A           JMP NEWLIN      ;NEXT LINE
01952  2067              ;*********************************
01953  2067  20 29 22    COMET  JSR PRTOTH      ;PRINT LINE DATA
01954  206A  20 CB 20           JSR SEMIC       ;PRINT COMMENT
01955  206D  AD 1C 10           LDA FOROPT
01956  2070  D0 03              BNE CSHORT
01957  2072  A0 20              LDY #$20        ;COUNTER
01958  2074  2C                 .BYTE $2C
01959  2075  A0 10       CSHORT LDY #$10
01960  2077  A9 2A       COMPT  LDA #'*'        ;STAR
01961  2079  20 11 1C           JSR PCHAR       ;PRINT CHAR
01962  207C  88                 DEY             ;DEC COUNTER
01963  207D  D0 F8              BNE COMPT       ;20 OR 10 STARS
01964  207F  60                 RTS             ;RETURN
01965  2080              ;*********************************
01966  2080              ;     PRINT SELECTED ADDRESS
01967  2080              ;*********************************
01968  2080  A9 58       PRLA   LDA #'X'        ;XX LABEL
01969  2082  20 11 1C           JSR PCHAR       ;
01970  2085  A9 58              LDA #'X'        ;
01971  2087  4C 11 1C           JMP PCHAR       ;
01972  208A              ;*********************************
01973  208A              ; PRINT CODE ADDRESS
01974  208A              ;*********************************
01975  208A  20 48 2B    PRAD   JSR SYM         ;CHECK FOR SYMBOLIC
01976  208D  B0 1F              BCS NPRAD1      ;C=1 SYMBOLIC LABEL
01977  208F  AD 17 10           LDA XOPT        ;CHECK GENERATION
01978  2092  F0 10              BEQ P1          ;NO LABELS
01979  2094  20 12 23           JSR INTCHA      ;IS ADDRESS IN TAB
01980  2097  B0 0B              BCS P1          ;C=1 YES
01981  2099  AD 1C 10           LDA FOROPT      ;CHECK FORMAT
01982  209C  F0 03              BEQ POVER       ;STD FORMAT
01983  209E  4C 05 21           JMP SPACE       ;ONE SPACE
01984  20A1  4C F8 20    POVER  JMP SPAC6       ;SPACE OVER
01985  20A4              ;*********************************
01986  20A4              ; PRINT ADDRESS AS LABEL
01987  20A4              ;*********************************
01988  20A4  20 80 20    P1     JSR PRLA        ;PRINT XX
01989  20A7  20 B6 20           JSR PSELEC      ;PRINT ADDRESS
01990  20AA  EA                 NOP
01991  20AB  EA                 NOP
01992  20AC  EA                 NOP
01993  20AD  60          NPRAD  RTS             ;RETURN
01994  20AE              ;*********************************
01995  20AE  AD 1C 10    NPRAD1 LDA FOROPT
01996  20B1  D0 FA              BNE NPRAD
01997  20B3  4C F9 2B           JMP FIXSYM
01998  20B6              ;*********************************






DISASSEMBLER64......PAGE 0041

LINE# LOC   CODE        LINE


01999  20B6              ; PRINT SELECT ADDRESS
02000  20B6              ;*********************************
02001  20B6  AD 22 10    PSELEC LDA SELECT      ;LOW BYTE
02002  20B9  AC 23 10           LDY SELECT+1    ;HIGH BYTE
02003  20BC  4C 9F 1B           JMP PRBYTS      ;PRINT THEM
02004  20BF              ;*********************************
02005  20BF              ; PRINT WORKED ADDRESS WITH XX
02006  20BF              ;*********************************
02007  20BF  20 80 20    PWORK  JSR PRLA        ;PRINT XX
02008  20C2              ;*********************************
02009  20C2              ; PRINT WORKED ADDRESS
02010  20C2              ;*********************************
02011  20C2  AD 45 10    PWORKD LDA WORKED      ;LOW BYTE
02012  20C5  AC 46 10           LDY WORKED+1    ;HIGH BYTE
02013  20C8  4C 9F 1B           JMP PRBYTS      ;PRINT THEM
02014  20CB              ;********************************
02015  20CB              ; PRINT SEMICOLON FOR COMMENT
02016  20CB              ;********************************
02017  20CB  A9 3B       SEMIC  LDA #';'
02018  20CD  4C 11 1C           JMP PCHAR
02019  20D0              ;********************************
02020  20D0              ; PRINT DOLLAR SIGN FOR HEX
02021  20D0              ;********************************
02022  20D0  A9 24       DOLLAR LDA #'$'
02023  20D2  4C 11 1C           JMP PCHAR
02024  20D5              ;********************************
02025  20D5              ; PRINT LEFT PARENTTHESES
02026  20D5              ;********************************
02027  20D5  A9 28       LPAREN LDA #'('
02028  20D7  4C 11 1C           JMP PCHAR
02029  20DA              ;********************************
02030  20DA              ; PRINT RIGHT PARENTTHESES
02031  20DA              ;********************************
02032  20DA  A9 29       RPAREN LDA #')'
02033  20DC  4C 11 1C           JMP PCHAR
02034  20DF              ;********************************
02035  20DF              ; PRINT A COMMA AND AN "X"
02036  20DF              ;********************************
02037  20DF  A9 2C       XINDEX LDA #','
02038  20E1  20 11 1C           JSR PCHAR
02039  20E4  A9 58              LDA #'X'
02040  20E6  4C 11 1C           JMP PCHAR
02041  20E9              ;********************************
02042  20E9              ; PRINT A COMMA AND A "Y"
02043  20E9              ;********************************
02044  20E9  A9 2C       YINDEX LDA #','
02045  20EB  20 11 1C           JSR PCHAR
02046  20EE  A9 59              LDA #'Y'
02047  20F0  4C 11 1C           JMP PCHAR
02048  20F3              ;********************************
02049  20F3              ; PRINT CARRAIGE RETURN
02050  20F3              ;*********************************
02051  20F3  A9 0D       CRLF   LDA #$0D        ;ASCII CR
02052  20F5  4C 11 1C           JMP PCHAR       ;PRINT
02053  20F8              ;*********************************






DISASSEMBLER64......PAGE 0042

LINE# LOC   CODE        LINE


02054  20F8              ; PRINT SIX SPACES
02055  20F8              ;*********************************
02056  20F8  A9 05       SPAC6  LDA #$05
02057  20FA  8D 51 10    SPACM  STA TEMP
02058  20FD  20 05 21    SPAC   JSR SPACE
02059  2100  CE 51 10           DEC TEMP
02060  2103  D0 F8              BNE SPAC
02061  2105              ;*********************************
02062  2105              ; PRINT SPACE
02063  2105              ;*********************************
02064  2105  A9 20       SPACE  LDA #$20        ;ASCII SPACE
02065  2107  4C 11 1C           JMP PCHAR       ;PRINT
02066  210A              ;*********************************
02067  210A              ; SELECT NEXT BYTE
02068  210A              ;*********************************
02069  210A  AD 23 10    NEXTSL LDA SELECT+1
02070  210D  CD 21 10           CMP EA+1
02071  2110  90 0A              BCC SLOK
02072  2112  D0 0D              BNE NOINC
02073  2114  AD 22 10           LDA SELECT
02074  2117  CD 20 10           CMP EA
02075  211A  B0 05              BCS NOINC
02076  211C  20 23 21    SLOK   JSR INCSL
02077  211F  18                 CLC
02078  2120  60                 RTS
02079  2121  38          NOINC  SEC
02080  2122  60                 RTS
02081  2123              ;*********************************
02082  2123              ; INC SELECTED BYTE
02083  2123              ;*********************************
02084  2123  EE 22 10    INCSL  INC SELECT
02085  2126  D0 03              BNE *+5
02086  2128  EE 23 10           INC SELECT+1
02087  212B  60                 RTS
02088  212C              ;*********************************
02089  212C              ; GET SELECTED BYTE
02090  212C              ;*********************************
02091  212C  18          GETSL  CLC
02092  212D  AD 22 10           LDA SELECT
02093  2130  6D 24 10           ADC OFFSET
02094  2133  85 DD              STA ZEROUR
02095  2135  AD 23 10           LDA SELECT+1
02096  2138  6D 25 10           ADC OFFSET+1
02097  213B  85 DE              STA ZEROUR+1
02098  213D  A0 00              LDY #$00
02099  213F  B1 DD              LDA (ZEROUR),Y
02100  2141  60                 RTS
02101  2142              ;*********************************
02102  2142              ; DEC SLECTED BYTE
02103  2142              ;*********************************
02104  2142  AD 22 10    DECSL  LDA SELECT
02105  2145  D0 03              BNE *+5
02106  2147  CE 23 10           DEC SELECT+1
02107  214A  CE 22 10           DEC SELECT
02108  214D  60                 RTS






DISASSEMBLER64......PAGE 0043

LINE# LOC   CODE        LINE


02109  214E              ;*********************************
02110  214E              ; INITIALIZE SELECT
02111  214E              ;*********************************
02112  214E  AD 1E 10    INTSA  LDA SA
02113  2151  8D 22 10           STA SELECT
02114  2154  AD 1F 10           LDA SA+1
02115  2157  8D 23 10           STA SELECT+1
02116  215A  60                 RTS
02117  215B              ;*********************************
02118  215B              ; ASCII STRING DATA
02119  215B              ;*********************************
02120  215B  2E 42       MSGBIT .BYTE '.BYTE $',0
02120  2162  00 
02121  2163  20 3B       MSGBZP .BYTE '         ;BIT ZP SKIP',0
02121  2170  00 
02122  2171  2A 2B 24    POSREL .BYTE '*+$',0
02122  2174  00 
02123  2175  2A 2D 24    NEGREL .BYTE '*-$',0
02123  2178  00 
02124  2179  2E 45       MSGEND .BYTE '.END',0
02124  217D  00 
02125  217E  3B 3F       ILLMSG .BYTE ';??? ILLEGAL OPCODE',0
02125  2191  00 
02126  2192              ;*********************************
02127  2192              ; PRINT ONE BYTE OPCODE DATA
02128  2192              ;*********************************
02129  2192  20 2C 21    PRTONE JSR GETSL       ;GET BYTE
02130  2195  20 A5 1B           JSR PRBYT       ;PRINT BYTE
02131  2198  AD 1C 10           LDA FOROPT
02132  219B  F0 03              BEQ PRTON1
02133  219D  A9 07              LDA #$07
02134  219F  2C                 .BYTE $2C
02135  21A0  A9 09       PRTON1 LDA #$09        ;10 SPACES
02136  21A2  20 FA 20           JSR SPACM       ;
02137  21A5  4C FE 21           JMP PRTEST      ;RESET I/O DEVICE
02138  21A8              ;*********************************
02139  21A8              ; PRINT TWO BYTE OPCODE DATA
02140  21A8              ;*********************************
02141  21A8  20 2C 21    PRTTWO JSR GETSL       ;GET BYTE
02142  21AB  20 A5 1B           JSR PRBYT       ;PRINT BYTE
02143  21AE  20 05 21           JSR SPACE       ;
02144  21B1  20 23 21           JSR INCSL       ;INC TO OPERAND
02145  21B4  20 2C 21           JSR GETSL       ;GET BYTE
02146  21B7  20 A5 1B           JSR PRBYT       ;PRINT IT
02147  21BA  AD 1C 10           LDA FOROPT
02148  21BD  F0 03              BEQ PRTTW1
02149  21BF  A9 04              LDA #$04
02150  21C1  2C                 .BYTE $2C
02151  21C2  A9 06       PRTTW1 LDA #$06        ;7 SPACES
02152  21C4  20 FA 20           JSR SPACM       ;
02153  21C7  20 42 21           JSR DECSL       ;RESET POINTER
02154  21CA  4C FE 21           JMP PRTEST      ;RESET I/O DEVICE
02155  21CD              ;*********************************
02156  21CD              ; PRINT THREE BYTE OPCODE DATA
02157  21CD              ;*********************************






DISASSEMBLER64......PAGE 0044

LINE# LOC   CODE        LINE


02158  21CD  20 2C 21    PRTTHE JSR GETSL       ;GET BYTE
02159  21D0  20 A5 1B           JSR PRBYT       ;PRINT BYTE
02160  21D3  20 05 21           JSR SPACE       ;
02161  21D6  20 23 21           JSR INCSL       ;INC TO OPERAND
02162  21D9  20 2C 21           JSR GETSL       ;GET BYTE
02163  21DC  20 A5 1B           JSR PRBYT       ;PRINT IT
02164  21DF  20 05 21           JSR SPACE       ;
02165  21E2  20 23 21           JSR INCSL       ;INC TO LAST BYTE
02166  21E5  20 2C 21           JSR GETSL       ;GET BYTE
02167  21E8  20 A5 1B           JSR PRBYT       ;PRINT IT
02168  21EB  AD 1C 10           LDA FOROPT
02169  21EE  F0 03              BEQ PRTTH1
02170  21F0  A9 01              LDA #$01
02171  21F2  2C                 .BYTE $2C
02172  21F3  A9 03       PRTTH1 LDA #$03        ;4 SPACES
02173  21F5  20 FA 20           JSR SPACM       ;
02174  21F8  20 42 21           JSR DECSL       ;DEC POINTER
02175  21FB  20 42 21           JSR DECSL       ;DEC POINTER
02176  21FE              ;*********************************
02177  21FE              ; RESET I/O DEVICE (DISK IF USED)
02178  21FE              ;*********************************
02179  21FE  AD 1A 10    PRTEST LDA OUTPUT      ;GET I/O DEVICE
02180  2201  8D 19 10           STA DEVICE      ;RESET I/O
02181  2204  60                 RTS             ;RETURN
02182  2205              ;*********************************
02183  2205              ; PRINT LINE DATA FOR OPCODE
02184  2205              ;*********************************
02185  2205  AD 19 10    PRTDAT LDA DEVICE      ;OUTPUT DEVICE
02186  2208  29 07              AND #$07        ;MASK DISK
02187  220A  8D 19 10           STA DEVICE      ;RESET
02188  220D  AD 1C 10           LDA FOROPT      ;CHECK FORMAT
02189  2210  D0 0F              BNE PRTDAF      ;SKIP LINE #
02190  2212  AD 59 10           LDA LINECT+1    ;HIH BYTE LINE
02191  2215  AE 58 10           LDX LINECT      ;LOW BYTE LINE
02192  2218  20 D7 1B           JSR PRTNUM      ;PRINT NUMBER
02193  221B  20 05 21           JSR SPACE       ;
02194  221E  20 05 21           JSR SPACE       ;
02195  2221  20 B6 20    PRTDAF JSR PSELEC      ;PRINT ADDRESS
02196  2224  A9 01              LDA #$01        ;2 SPACES
02197  2226  4C FA 20           JMP SPACM       ;
02198  2229              ;*********************************
02199  2229              ; PRINT LINE DATA FOR OTHER LINES
02200  2229              ;*********************************
02201  2229  20 05 22    PRTOTH JSR PRTDAT      ;PRINT LINE
02202  222C  AD 1C 10           LDA FOROPT
02203  222F  F0 03              BEQ PRTOT1
02204  2231  A9 09              LDA #$09
02205  2233  2C                 .BYTE $2C
02206  2234  A9 0B       PRTOT1 LDA #$0B        ;12 SPACES
02207  2236  20 FA 20           JSR SPACM       ;
02208  2239  4C FE 21           JMP PRTEST      ;RESET I/O
02209  223C              ;********************************
02210  223C              ;.FIL 0:INTERNAL.ASM
02211  223C              ;********************************
02212  223C              .END






DISASSEMBLER64......PAGE 0045

LINE# LOC   CODE        LINE


02213  223C              ;*********************************
02214  223C              .LIB   INTERNAL.ASM
02215  223C              ;*********************************
02216  223C              ; FILE INTERNAL.ASM
02217  223C              ;*********************************
02218  223C              ;
02219  223C              ;        DISASSEMBLER64
02220  223C              ;    SYMBOLIC DISASSEMBLER
02221  223C              ;       BY DENTON MARLOWE
02222  223C              ;
02223  223C              ;  (C)1986 BY DENTON MARLOWE
02224  223C              ;
02225  223C              ;*********************************
02226  223C              ; INTERNAL ADDRESS TABLE ROUTINES
02227  223C              ;*********************************
02228  223C              ; CHECK FOR OUT OF RANGE ADDRESS
02229  223C              ;*********************************
02230  223C  AD 46 10    RANGE  LDA WORKED+1    ;GET HIGH
02231  223F  CD 29 10           CMP EAGOL+1     ;COMPARE
02232  2242  90 0A              BCC RANG        ;< CHECK START
02233  2244  D0 1A              BNE ROUT        ;> OUT OF RANGE
02234  2246  AD 45 10           LDA WORKED      ;GET LOW
02235  2249  CD 28 10           CMP EAGOL       ;COMPARE
02236  224C  B0 12              BCS ROUT        ;> OUT OF RANGE
02237  224E              ;*********************************
02238  224E  AD 46 10    RANG   LDA WORKED+1    ;GET HIGH
02239  2251  CD 27 10           CMP SAGOL+1     ;COMPARE
02240  2254  90 0A              BCC ROUT        ;< OUT OF RANGE
02241  2256  AD 45 10           LDA WORKED      ;GET LOW
02242  2259  CD 26 10           CMP SAGOL       ;COMPARE
02243  225C  90 02              BCC ROUT        ;< OUT OF RANGE
02244  225E              ;*********************************
02245  225E  18                 CLC             ;C=0 IN RANGE
02246  225F  60                 RTS
02247  2260  38          ROUT   SEC             ;C=1 OUT RANGE
02248  2261  60                 RTS
02249  2262              ;*********************************
02250  2262              ; INITIALIZE INTERNAL TABLE
02251  2262              ;*********************************
02252  2262  AD EF 10    INITIN LDA DATABE
02253  2265  8D 30 10           STA TABINS
02254  2268  8D 32 10           STA TABINE
02255  226B  AD F0 10           LDA DATABE+1
02256  226E  8D 31 10           STA TABINS+1
02257  2271  8D 33 10           STA TABINE+1
02258  2274              ;*********************************
02259  2274              ; INITIALIZE INTERNAL TABLE POINT
02260  2274              ;*********************************
02261  2274  AD 30 10    INTSET LDA TABINS
02262  2277  8D 2E 10           STA TABINP
02263  227A  AD 31 10           LDA TABINS+1
02264  227D  8D 2F 10           STA TABINP+1
02265  2280  60                 RTS
02266  2281              ;*********************************
02267  2281              ; SAVE INTERNAL TABLE POINTERS






DISASSEMBLER64......PAGE 0046

LINE# LOC   CODE        LINE


02268  2281              ;*********************************
02269  2281  AD 30 10    SAVINT LDA TABINS
02270  2284  8D 4B 10           STA SAVES
02271  2287  AD 31 10           LDA TABINS+1
02272  228A  8D 4C 10           STA SAVES+1
02273  228D  AD 32 10           LDA TABINE
02274  2290  8D 4D 10           STA SAVEE
02275  2293  AD 33 10           LDA TABINE+1
02276  2296  8D 4E 10           STA SAVEE+1
02277  2299  60                 RTS
02278  229A              ;*********************************
02279  229A              ; RESTORE INTERNAL TABLE POINTERS
02280  229A              ;*********************************
02281  229A  AD 4B 10    RESINT LDA SAVES
02282  229D  8D 30 10           STA TABINS
02283  22A0  AD 4C 10           LDA SAVES+1
02284  22A3  8D 31 10           STA TABINS+1
02285  22A6  AD 4D 10           LDA SAVEE
02286  22A9  8D 32 10           STA TABINE
02287  22AC  AD 4E 10           LDA SAVEE+1
02288  22AF  8D 33 10           STA TABINE+1
02289  22B2  60                 RTS
02290  22B3              ;*********************************
02291  22B3              ; PUT ADDRESS IN INTERNAL TABLE
02292  22B3              ;*********************************
02293  22B3  38          PUTI   SEC
02294  22B4  AD 30 10           LDA TABINS
02295  22B7  ED 32 10           SBC TABINE
02296  22BA  8D 51 10           STA TEMP
02297  22BD  AD 31 10           LDA TABINS+1
02298  22C0  ED 33 10           SBC TABINE+1
02299  22C3  0D 51 10           ORA TEMP
02300  22C6  F0 05              BEQ PUIT
02301  22C8              ;
02302  22C8  20 1E 23           JSR INTCHK      ;IS ADDRESS IN TAB
02303  22CB  B0 23              BCS INTEXT      ;IF SO EXIT
02304  22CD              ;
02305  22CD  AD 32 10    PUIT   LDA TABINE      ;GET LOW END
02306  22D0  85 DD              STA ZEROUR      ;STORE
02307  22D2  AD 33 10           LDA TABINE+1    ;GET HIGH END
02308  22D5  85 DE              STA ZEROUR+1    ;STORE
02309  22D7  A0 00              LDY #$00        ;OFFSET
02310  22D9  AD 45 10           LDA WORKED      ;GET LOW ADDRESS
02311  22DC  91 DD              STA (ZEROUR),Y  ;PUT IN TABLE
02312  22DE  C8                 INY             ;OFFSET TO HIGH
02313  22DF  AD 46 10           LDA WORKED+1    ;GET HIGH ADDRESS
02314  22E2  91 DD              STA (ZEROUR),Y  ;PUT IN TABLE
02315  22E4              ;
02316  22E4  20 CB 20           JSR SEMIC       ;PRINT ;
02317  22E7  20 C2 20           JSR PWORKD      ;PRINT ADDRESS
02318  22EA              ;*********************************
02319  22EA  20 F2 22           JSR INCIE       ;INC TO HIGH & LOW
02320  22ED  4C F2 22           JMP INCIE       ;INC TO HIGH & LOW
02321  22F0              ;
02322  22F0              INTEXT = *






DISASSEMBLER64......PAGE 0047

LINE# LOC   CODE        LINE


02323  22F0  18                 CLC             ;C=0 FOR NO MATCH
02324  22F1  60                 RTS             ;RETURN
02325  22F2              ;*********************************
02326  22F2              ; INC INTERNAL END TABLE POINTER
02327  22F2              ;*********************************
02328  22F2  EE 32 10    INCIE  INC TABINE
02329  22F5  D0 03              BNE *+5
02330  22F7  EE 33 10           INC TABINE+1
02331  22FA              ;*********************************
02332  22FA              ; INC INTERNAL ADDRESS POINTER
02333  22FA              ;*********************************
02334  22FA  EE 2E 10    INCI   INC TABINP
02335  22FD  D0 03              BNE *+5
02336  22FF  EE 2F 10           INC TABINP+1
02337  2302  60                 RTS
02338  2303              ;*********************************
02339  2303              ; GET BYTE FROM INTERNAL TABLE
02340  2303              ;*********************************
02341  2303  AD 2E 10    GETI   LDA TABINP
02342  2306  85 DD              STA ZEROUR
02343  2308  AD 2F 10           LDA TABINP+1
02344  230B  85 DE              STA ZEROUR+1
02345  230D  A0 00              LDY #$00
02346  230F  B1 DD              LDA (ZEROUR),Y
02347  2311  60                 RTS
02348  2312              ;*********************************
02349  2312              ; CHECK IF ADDRESS IN TABLE
02350  2312              ;*********************************
02351  2312  AD 22 10    INTCHA LDA SELECT
02352  2315  8D 45 10           STA WORKED
02353  2318  AD 23 10           LDA SELECT+1
02354  231B  8D 46 10           STA WORKED+1
02355  231E              ;*********************************
02356  231E  20 74 22    INTCHK JSR INTSET
02357  2321  20 03 23    INTCH  JSR GETI
02358  2324  8D 47 10           STA WORKER
02359  2327  20 FA 22           JSR INCI
02360  232A  20 03 23           JSR GETI
02361  232D  8D 48 10           STA WORKER+1
02362  2330  38                 SEC
02363  2331  AD 46 10           LDA WORKED+1
02364  2334  ED 48 10           SBC WORKER+1
02365  2337  8D 51 10           STA TEMP
02366  233A  AD 45 10           LDA WORKED
02367  233D  ED 47 10           SBC WORKER
02368  2340  0D 51 10           ORA TEMP
02369  2343  F0 17              BEQ INTMAT
02370  2345              ;*********************************
02371  2345  20 FA 22           JSR INCI
02372  2348  AD 2F 10           LDA TABINP+1
02373  234B  CD 33 10           CMP TABINE+1
02374  234E  90 D1              BCC INTCH
02375  2350  D0 08              BNE INTEND
02376  2352  AD 2E 10           LDA TABINP
02377  2355  CD 32 10           CMP TABINE






DISASSEMBLER64......PAGE 0048

LINE# LOC   CODE        LINE


02378  2358  90 C7              BCC INTCH
02379  235A              ;*********************************
02380  235A  18          INTEND CLC
02381  235B  60                 RTS
02382  235C  38          INTMAT SEC
02383  235D  60                 RTS
02384  235E              ;*********************************
02385  235E              ; 2 BYTE TABLE SORT ROUTINE
02386  235E              ;*********************************
02387  235E  20 74 22    SORT   JSR INTSET      ;SET POINTERS
02388  2361  AD 30 10           LDA TABINS
02389  2364  8D 34 10           STA SMALLS
02390  2367  8D 36 10           STA SMALLP
02391  236A  AD 31 10           LDA TABINS+1
02392  236D  8D 35 10           STA SMALLS+1
02393  2370  8D 37 10           STA SMALLP+1
02394  2373              ;*********************************
02395  2373              ; PUT FIRST WORD INTO TEMP
02396  2373              ;*********************************
02397  2373  20 03 23    SORT1  JSR GETI
02398  2376  8D 51 10           STA TEMP
02399  2379  20 FA 22           JSR INCI
02400  237C  20 03 23           JSR GETI
02401  237F  8D 52 10           STA TEMP+1
02402  2382              ;*********************************
02403  2382              ; INC TO NEXT WORD AND COMPARE
02404  2382              ; SMALLP POINTS TO LOW BYTE
02405  2382              ;*********************************
02406  2382  20 FA 22    SORT2  JSR INCI
02407  2385  AD 2E 10           LDA TABINP
02408  2388  8D 36 10           STA SMALLP
02409  238B  AD 2F 10           LDA TABINP+1
02410  238E  8D 37 10           STA SMALLP+1
02411  2391  20 03 23           JSR GETI
02412  2394  8D 45 10           STA WORKED
02413  2397  20 FA 22           JSR INCI
02414  239A  AD 2F 10           LDA TABINP+1
02415  239D  CD 33 10           CMP TABINE+1
02416  23A0  90 0D              BCC T2
02417  23A2  D0 08              BNE S3
02418  23A4  AD 2E 10           LDA TABINP
02419  23A7  CD 32 10           CMP TABINE
02420  23AA  90 03              BCC T2
02421  23AC  4C 04 24    S3     JMP SORT3
02422  23AF  20 03 23    T2     JSR GETI
02423  23B2  8D 46 10           STA WORKED+1
02424  23B5  CD 52 10           CMP TEMP+1
02425  23B8  90 0D              BCC SMALL
02426  23BA  D0 08              BNE LARGE
02427  23BC  AD 45 10           LDA WORKED
02428  23BF  CD 51 10           CMP TEMP
02429  23C2  90 03              BCC SMALL
02430  23C4  4C 82 23    LARGE  JMP SORT2
02431  23C7              ;*********************************
02432  23C7              ; WORD IS SMALL THAN TEMP PUT IT






DISASSEMBLER64......PAGE 0049

LINE# LOC   CODE        LINE


02433  23C7              ; WHERE TEMP CAME FROM (SMALLS)
02434  23C7              ;*********************************
02435  23C7  AD 34 10    SMALL  LDA SMALLS
02436  23CA  85 DD              STA ZEROUR
02437  23CC  AD 35 10           LDA SMALLS+1
02438  23CF  85 DE              STA ZEROUR+1
02439  23D1  A0 00              LDY #$00
02440  23D3  AD 45 10           LDA WORKED
02441  23D6  91 DD              STA (ZEROUR),Y
02442  23D8  C8                 INY
02443  23D9  AD 46 10           LDA WORKED+1
02444  23DC  91 DD              STA (ZEROUR),Y
02445  23DE              ;*********************************
02446  23DE              ; PUT TEMP IN PLACE OF WORD
02447  23DE              ; SMALLP POINTS TO LO ADDRESS
02448  23DE              ;*********************************
02449  23DE  AD 36 10           LDA SMALLP
02450  23E1  85 DD              STA ZEROUR
02451  23E3  AD 37 10           LDA SMALLP+1
02452  23E6  85 DE              STA ZEROUR+1
02453  23E8  A0 00              LDY #$00
02454  23EA  AD 51 10           LDA TEMP
02455  23ED  91 DD              STA (ZEROUR),Y
02456  23EF  C8                 INY
02457  23F0  AD 52 10           LDA TEMP+1
02458  23F3  91 DD              STA (ZEROUR),Y
02459  23F5              ;*********************************
02460  23F5  AD 34 10           LDA SMALLS
02461  23F8  8D 2E 10           STA TABINP
02462  23FB  AD 35 10           LDA SMALLS+1
02463  23FE  8D 2F 10           STA TABINP+1
02464  2401  4C 73 23           JMP SORT1
02465  2404              ;*********************************
02466  2404              ; IF AFTER SCAN TO TABLE GOTO NEXT
02467  2404              ; WORD IN TABLE FOR CHECK
02468  2404              ;*********************************
02469  2404  18          SORT3  CLC
02470  2405  AD 34 10           LDA SMALLS
02471  2408  69 02              ADC #$02
02472  240A  8D 34 10           STA SMALLS
02473  240D  8D 2E 10           STA TABINP
02474  2410  AD 35 10           LDA SMALLS+1
02475  2413  69 00              ADC #$00
02476  2415  8D 35 10           STA SMALLS+1
02477  2418  8D 2F 10           STA TABINP+1
02478  241B  AD 35 10           LDA SMALLS+1
02479  241E  CD 33 10           CMP TABINE+1
02480  2421  90 0A              BCC SORTOK
02481  2423  D0 0B              BNE SORT4
02482  2425  AD 34 10           LDA SMALLS
02483  2428  CD 32 10           CMP TABINE
02484  242B  B0 03              BCS SORT4
02485  242D  4C 73 23    SORTOK JMP SORT1
02486  2430              ;*********************************
02487  2430  4C 74 22    SORT4  JMP INTSET






DISASSEMBLER64......PAGE 0050

LINE# LOC   CODE        LINE


02488  2433              ;*********************************
02489  2433              ; PRINT INTERNAL ADDRESS TABLE
02490  2433              ;*********************************
02491  2433  38          INTPRT SEC
02492  2434  AD 30 10           LDA TABINS
02493  2437  ED 32 10           SBC TABINE
02494  243A  8D 51 10           STA TEMP
02495  243D  AD 31 10           LDA TABINS+1
02496  2440  ED 33 10           SBC TABINE+1
02497  2443  0D 51 10           ORA TEMP
02498  2446  D0 01              BNE INTOUT
02499  2448  60                 RTS
02500  2449              ;*********************************
02501  2449  20 E8 1C    INTOUT JSR HEADSY
02502  244C  20 5E 23           JSR SORT
02503  244F              ;*********************************
02504  244F  A9 03       LOOP1  LDA #$03
02505  2451  8D 52 10           STA SAVA
02506  2454  20 03 23    INTPR  JSR GETI
02507  2457  8D 45 10           STA WORKED
02508  245A  20 FA 22           JSR INCI
02509  245D  20 03 23           JSR GETI
02510  2460  8D 46 10           STA WORKED+1
02511  2463  20 05 21           JSR SPACE
02512  2466  20 5C 2B           JSR SYMOP
02513  2469  90 0B              BCC INTPRS
02514  246B  20 F9 2B           JSR FIXSYM
02515  246E  A9 02              LDA #$02
02516  2470  20 FA 20           JSR SPACM
02517  2473  4C 7B 24           JMP INTPRM
02518  2476  A9 08       INTPRS LDA #$08
02519  2478  20 FA 20           JSR SPACM
02520  247B  20 C2 20    INTPRM JSR PWORKD
02521  247E  20 FA 22           JSR INCI
02522  2481  AD 2F 10           LDA TABINP+1
02523  2484  CD 33 10           CMP TABINE+1
02524  2487  90 0A              BCC PRTOK
02525  2489  D0 15              BNE PREND
02526  248B  AD 2E 10           LDA TABINP
02527  248E  CD 32 10           CMP TABINE
02528  2491  B0 0D              BCS PREND
02529  2493  CE 52 10    PRTOK  DEC SAVA
02530  2496  30 0B              BMI LOOP2
02531  2498  A9 02              LDA #$02
02532  249A  20 FA 20           JSR SPACM
02533  249D  4C 54 24           JMP INTPR
02534  24A0  4C BD 1C    PREND  JMP NEXPTS
02535  24A3  20 BD 1C    LOOP2  JSR NEXPTS
02536  24A6  4C 4F 24           JMP LOOP1
02537  24A9              ;*********************************
02538  24A9              ;.FIL 0:ASC.ASM
02539  24A9              ;*********************************
02540  24A9              .END
02541  24A9              ;*********************************
02542  24A9              .LIB   ASC.ASM






DISASSEMBLER64......PAGE 0051

LINE# LOC   CODE        LINE


02543  24A9              ;*********************************
02544  24A9              ; FILE ASC.ASM
02545  24A9              ;*********************************
02546  24A9              ;
02547  24A9              ;        DISASSEMBLER64
02548  24A9              ;    SYMBOLIC DISASSEMBLER
02549  24A9              ;       BY DENTON MARLOWE
02550  24A9              ;
02551  24A9              ;  (C)1986 BY DENTON MARLOWE
02552  24A9              ;
02553  24A9              ;*********************************
02554  24A9              ; DATA TABLE HANDLER
02555  24A9              ;*********************************
02556  24A9  AD E9 10    DATAOP LDA NDATA       ;GET NUM TABLES
02557  24AC  F0 07              BEQ ENDAX       ;IF ZERO EXIT
02558  24AE  A9 00              LDA #$00        ;ZERO BYTE
02559  24B0  8D E7 10           STA CDATA       ;SET FIRST TABLE
02560  24B3  F0 03              BEQ DATAO1      ;
02561  24B5  4C 99 25    ENDAX  JMP ENDDAT      ;
02562  24B8              ;*********************************
02563  24B8  AD E7 10    DATAO1 LDA CDATA       ;CURRENT TABLE
02564  24BB  CD E9 10           CMP NDATA       ;LAST TABLE DONE
02565  24BE  F0 F5              BEQ ENDAX       ;IF SO EXIT
02566  24C0  0A                 ASL A           ;CDATA*2
02567  24C1  0A                 ASL A           ;CDATA*4
02568  24C2  18                 CLC
02569  24C3  6D E7 10           ADC CDATA       ;CDATA*5
02570  24C6  A8                 TAY             ;PUT INTO INDEX
02571  24C7  B9 F1 10           LDA TDATA,Y     ;START LOW
02572  24CA  8D 47 10           STA WORKER      ;STORE
02573  24CD  C8                 INY             ;INC OFFSET
02574  24CE  B9 F1 10           LDA TDATA,Y     ;START HIGH
02575  24D1  8D 48 10           STA WORKER+1    ;STORE
02576  24D4  38                 SEC             ;C=1
02577  24D5  AD 47 10           LDA WORKER      ;
02578  24D8  ED 22 10           SBC SELECT      ;
02579  24DB  8D 51 10           STA TEMP        ;
02580  24DE  AD 48 10           LDA WORKER+1    ;
02581  24E1  ED 23 10           SBC SELECT+1    ;
02582  24E4  0D 51 10           ORA TEMP        ;
02583  24E7  F0 05              BEQ DATAO2      ;MATCH
02584  24E9  EE E7 10           INC CDATA       ;NEXT TABLE
02585  24EC  D0 CA              BNE DATAO1      ;CHECK FOR MATCH
02586  24EE              ;*********************************
02587  24EE              ; GET TABLE DATA
02588  24EE              ;*********************************
02589  24EE  C8          DATAO2 INY             ;INC OFFSET
02590  24EF  B9 F1 10           LDA TDATA,Y     ;END LOW
02591  24F2  8D E4 10           STA EAS         ;STORE
02592  24F5  C8                 INY             ;INC OFFSET
02593  24F6  B9 F1 10           LDA TDATA,Y     ;END HIGH
02594  24F9  8D E5 10           STA EAS+1       ;STORE
02595  24FC  C8                 INY             ;INC OFFSET
02596  24FD  B9 F1 10           LDA TDATA,Y     ;DATA TYPE
02597  2500  8D E6 10           STA TEXTER      ;STORE






DISASSEMBLER64......PAGE 0052

LINE# LOC   CODE        LINE


02598  2503  C9 53              CMP #'S'        ;IS IT SKIPPER
02599  2505  D0 23              BNE ASCCCC      ;
02600  2507              ;*********************************
02601  2507              ; SKIP RANGE OF ADDRESSES
02602  2507              ;*********************************
02603  2507  AD 12 10           LDA PASS
02604  250A  CD 15 10           CMP CPASS
02605  250D  D0 1B              BNE ASCCCC
02606  250F  AD E4 10           LDA EAS
02607  2512  8D 22 10           STA SELECT
02608  2515  AD E5 10           LDA EAS+1
02609  2518  8D 23 10           STA SELECT+1
02610  251B  20 23 21           JSR INCSL
02611  251E  20 3B 20           JSR ORGIN
02612  2521  20 42 21           JSR DECSL
02613  2524  20 61 20           JSR COMENT
02614  2527  4C 96 25           JMP DATUT
02615  252A              ;*********************************
02616  252A              ; CHECK PASS
02617  252A              ;*********************************
02618  252A  AD 12 10    ASCCCC LDA PASS
02619  252D  CD 14 10           CMP EPASS       ;EXTERNAL
02620  2530  D0 0F              BNE ASCKK
02621  2532  AD E4 10    SKIPER LDA EAS
02622  2535  8D 22 10           STA SELECT
02623  2538  AD E5 10           LDA EAS+1
02624  253B  8D 23 10           STA SELECT+1
02625  253E  4C 96 25           JMP DATUT
02626  2541              ;*********************************
02627  2541              ; DISASSEMBLER LOOP FOR DATA
02628  2541              ;*********************************
02629  2541  AD 12 10    ASCKK  LDA PASS        ;GET PASS
02630  2544  CD 15 10           CMP CPASS       ;IS IT LAST
02631  2547  D0 0E              BNE ASCI1       ;NO PRINT
02632  2549  20 61 20           JSR COMENT      ;COMMENT LINE
02633  254C  AD 12 10    ASCII  LDA PASS        ;GET PASS
02634  254F  CD 15 10           CMP CPASS       ;IS IT LAST
02635  2552  D0 03              BNE ASCI1       ;NO PRINT
02636  2554  20 05 22           JSR PRTDAT      ;PRINT LINE
02637  2557  20 9C 25    ASCI1  JSR ACHECK      ;DIS ONE LINE
02638  255A  B0 29              BCS ASCIIQ      ;IF EA STOP
02639  255C              ;*********************************
02640  255C  20 E1 FF           JSR STOP
02641  255F  F0 24              BEQ ASCIIQ
02642  2561  20 E4 FF           JSR GETIN
02643  2564  F0 E6              BEQ ASCII
02644  2566  C9 20              CMP #' '
02645  2568  D0 E2              BNE ASCII
02646  256A  AD 19 10           LDA DEVICE
02647  256D  48                 PHA
02648  256E  A9 03              LDA #$03
02649  2570  8D 19 10           STA DEVICE
02650  2573  A9 F8              LDA #<PMSG
02651  2575  A0 11              LDY #>PMSG
02652  2577  20 BB 1B           JSR STRPNT






DISASSEMBLER64......PAGE 0053

LINE# LOC   CODE        LINE


02653  257A  68                 PLA
02654  257B  8D 19 10           STA DEVICE
02655  257E  20 E4 FF    PAUS1  JSR GETIN
02656  2581  F0 FB              BEQ PAUS1
02657  2583  D0 C7              BNE ASCII
02658  2585              ;*********************************
02659  2585  AD 12 10    ASCIIQ LDA PASS        ;GET PASS
02660  2588  CD 15 10           CMP CPASS       ;IS IT LAST
02661  258B  D0 09              BNE DATUT       ;EXIT
02662  258D  20 23 21           JSR INCSL
02663  2590  20 61 20           JSR COMENT      ;COMMENT LINE
02664  2593  20 42 21           JSR DECSL
02665  2596              ;*********************************
02666  2596              ; EXIT TO NEXTSL
02667  2596              ;*********************************
02668  2596  A9 FF       DATUT  LDA #$FF        ;SET N=1
02669  2598  60                 RTS             ;RETURN
02670  2599  A9 00       ENDDAT LDA #$00        ;SET N=0
02671  259B  60                 RTS             ;RETURN
02672  259C              ;*********************************
02673  259C              ; CHECK OPTIONS
02674  259C              ;*********************************
02675  259C  AD E6 10    ACHECK LDA TEXTER      ;GET DATA TYPE
02676  259F  C9 34              CMP #'4'         ;WORD-1
02677  25A1  F0 0B              BEQ AC0
02678  25A3  C9 33              CMP #'3'         ;DBYTE
02679  25A5  F0 0A              BEQ AC1
02680  25A7  C9 32              CMP #'2'         ;WORD
02681  25A9  F0 03              BEQ AC0
02682  25AB  4C B4 25           JMP BYTES       ;BYTE OR ASCII
02683  25AE  4C 70 26    AC0    JMP WORDS       ;WORD OR WORD-1
02684  25B1  4C 40 26    AC1    JMP DBYTES      ;DBYTES
02685  25B4              ;*********************************
02686  25B4              ; .BYTE DIRECTIVE
02687  25B4              ;*********************************
02688  25B4  AD 12 10    BYTES  LDA PASS        ;GET PASS
02689  25B7  CD 15 10           CMP CPASS       ;IS IT LAST
02690  25BA  D0 20              BNE BYTESX      ;IF NOT EXIT
02691  25BC  20 92 21           JSR PRTONE      ;PRINT BYTE
02692  25BF  20 8A 20           JSR PRAD        ;PRINT ADDRESS
02693  25C2  A0 27              LDY #>MBYTE     ;.BYTE
02694  25C4  A9 2C              LDA #<MBYTE     ;
02695  25C6  20 BB 1B           JSR STRPNT      ;PRINT IT
02696  25C9  AD E6 10           LDA TEXTER      ;GET TYPE
02697  25CC  C9 30              CMP #'0'          ;ASCII
02698  25CE  F0 0F              BEQ ALINE       ;ASCII BYTES
02699  25D0  20 D0 20           JSR DOLLAR      ;PRINT $
02700  25D3  20 2C 21           JSR GETSL       ;GET BYTE
02701  25D6  20 A5 1B           JSR PRBYT       ;PRINT BYTE
02702  25D9  20 FE 1A           JSR NEWLIN      ;NEXT LINE
02703  25DC  4C 13 27    BYTESX JMP NEXTBY      ;NEXT BYTE
02704  25DF              ;*********************************
02705  25DF              ; ASCII TEXT
02706  25DF              ;*********************************
02707  25DF  A9 00       ALINE  LDA #$00        ;ZERO BYTE






DISASSEMBLER64......PAGE 0054

LINE# LOC   CODE        LINE


02708  25E1  8D 51 10           STA TEMP        ;STORE IN COUNT
02709  25E4              ;*********************************
02710  25E4              ; CHECK FIRST BYTE OF LINE
02711  25E4              ;*********************************
02712  25E4  20 2C 21           JSR GETSL       ;GET BYTE
02713  25E7  20 34 26           JSR CASCII      ;CHECK FOR ASCII
02714  25EA  B0 39              BCS NASCII      ;IF NOT BRANCH
02715  25EC  A9 27              LDA #'''        ;PRINT ONE QUOTE
02716  25EE  20 11 1C           JSR PCHAR       ;PRINT IT
02717  25F1              ;*********************************
02718  25F1  20 2C 21    ALOP   JSR GETSL       ;GET BYTE
02719  25F4  20 34 26           JSR CASCII      ;IS IT ASCII
02720  25F7  B0 24              BCS EASCII      ;IF NOT END LINE
02721  25F9  20 11 1C           JSR PCHAR       ;PRINT ASCII
02722  25FC              ; REV 2-12-2018 START
02723  25FC              ; IF CHAR = ' THEN PRINT SECOND '
02724  25FC  20 2C 21           JSR GETSL       ; GET BYTE AGAIN
02725  25FF  C9 27              CMP #$27        ;'''
02726  2601  D0 03              BNE Q00000
02727  2603  20 11 1C           JSR PCHAR       ;PRINT ASCII
02728  2606              Q00000 = *
02729  2606              ; REV 2-12-2018 END
02730  2606  20 13 27           JSR NEXTBY      ;INC SELECT
02731  2609  B0 0D              BCS EASCI1      ;C=1 IF END
02732  260B  EE 51 10           INC TEMP        ;INC COUNT
02733  260E  AD 51 10           LDA TEMP        ;LOAD COUNT
02734  2611  C9 28              CMP #$28        ;40 CHAR
02735  2613  F0 08              BEQ EASCII      ;IF SO END
02736  2615  4C F1 25           JMP ALOP        ;NEXT
02737  2618              ;*********************************
02738  2618  20 1D 26    EASCI1 JSR EASCII
02739  261B  38                 SEC
02740  261C  60                 RTS
02741  261D              ;*********************************
02742  261D  A9 27       EASCII LDA #'''        ;PRINT ONE QUOTE
02743  261F  20 11 1C           JSR PCHAR       ;
02744  2622  4C FE 1A           JMP NEWLIN      ;PRINT CR
02745  2625              ;*********************************
02746  2625  20 D0 20    NASCII JSR DOLLAR      ;PRINT $
02747  2628  20 2C 21           JSR GETSL       ;GET BYTE
02748  262B  20 A5 1B           JSR PRBYT       ;PRINT IT
02749  262E  20 FE 1A           JSR NEWLIN      ;PRINT CR
02750  2631  4C 13 27           JMP NEXTBY      ;NEXT SL
02751  2634              ;*********************************
02752  2634              ; CHECK ACCUM FOR PRINTABLE ASCII
02753  2634              ;*********************************
02754  2634  C9 20       CASCII CMP #$20        ;< SPACE
02755  2636  30 06              BMI NOASC       ;IF LESS NOASCII
02756  2638  C9 60              CMP #$60        ;> _
02757  263A  B0 02              BCS NOASC       ;IF GREATER NO
02758  263C  18                 CLC             ;CLEAR CARRY OK
02759  263D  60                 RTS             ;RETURN
02760  263E  38          NOASC  SEC             ;SET CARRY BAD
02761  263F  60                 RTS             ;RETURN
02762  2640              ;*********************************






DISASSEMBLER64......PAGE 0055

LINE# LOC   CODE        LINE


02763  2640              ; .DBYTE DIRECTIVE
02764  2640              ;*********************************
02765  2640  AD 12 10    DBYTES LDA PASS        ;CHECK PASS
02766  2643  CD 15 10           CMP CPASS       ;LAST PASS
02767  2646  D0 25              BNE DBYTEX      ;EXIT
02768  2648  20 A8 21           JSR PRTTWO      ;PRINT 2 BYTES
02769  264B  20 8A 20           JSR PRAD        ;PRINT ADDRESS
02770  264E  A0 27              LDY #>MDBYTE    ;.DBYTE
02771  2650  A9 3C              LDA #<MDBYTE    ;
02772  2652  20 BB 1B           JSR STRPNT      ;PRINT IT
02773  2655  20 2C 21           JSR GETSL       ;GET BYTE
02774  2658  8D 46 10           STA WORKED+1    ;STORE
02775  265B  20 23 21           JSR INCSL       ;GET BYTE
02776  265E  20 2C 21           JSR GETSL       ;GET BYTE
02777  2661  8D 45 10           STA WORKED      ;STORE
02778  2664  20 D0 20           JSR DOLLAR      ;PRINT $
02779  2667  20 C2 20           JSR PWORKD      ;PRINT WORD
02780  266A  20 FE 1A           JSR NEWLIN      ;PRINT CR
02781  266D  4C 13 27    DBYTEX JMP NEXTBY      ;NEXT SL
02782  2670              ;*********************************
02783  2670              ; .WORD DIRECTIVE
02784  2670              ;*********************************
02785  2670  AD 12 10    WORDS  LDA PASS        ;GET PASS
02786  2673  CD 15 10           CMP CPASS         ;LAST
02787  2676  D0 0D              BNE WORD1       ;IF NOT BRANCH
02788  2678  20 A8 21           JSR PRTTWO      ;PRINT 2 BYTES
02789  267B  20 8A 20           JSR PRAD        ;PRINT ADDRESS
02790  267E  A0 27              LDY #>MWORD     ;.WORD
02791  2680  A9 34              LDA #<MWORD     ;
02792  2682  20 BB 1B           JSR STRPNT      ;PRINT IT
02793  2685              ;*********************************
02794  2685              ; GET WORD INTO WORKED
02795  2685              ;*********************************
02796  2685  20 2C 21    WORD1  JSR GETSL       ;GET BYTE
02797  2688  8D 45 10           STA WORKED      ;STORE BYTE
02798  268B  8D 36 10           STA SMALLP      ;STORE BYTE
02799  268E  20 23 21           JSR INCSL       ;GET BYTE
02800  2691  20 2C 21           JSR GETSL       ;GET BYTE
02801  2694  8D 46 10           STA WORKED+1    ;STORE BYTE
02802  2697  8D 37 10           STA SMALLP+1    ;STORE BYTE
02803  269A  AD E6 10           LDA TEXTER      ;GET OPTION
02804  269D  C9 34              CMP #'4'          ;.WORD ADRS-1
02805  269F  F0 2A              BEQ WORDM       ;BRANCH
02806  26A1              ;*********************************
02807  26A1              ; CHECK PASS
02808  26A1              ;*********************************
02809  26A1  AD 12 10           LDA PASS        ;CHECK PASS
02810  26A4  CD 13 10           CMP IPASS       ;INTERNAL
02811  26A7  F0 16              BEQ WORDPT      ;TABLE WORD
02812  26A9  CD 14 10           CMP EPASS
02813  26AC  F0 17              BEQ WORDSY
02814  26AE              ;*********************************
02815  26AE              ; PRINT WORD
02816  26AE              ;*********************************
02817  26AE  20 5C 2B           JSR SYMOP       ;CHECK SYMBOL






DISASSEMBLER64......PAGE 0056

LINE# LOC   CODE        LINE


02818  26B1  B0 5A              BCS WORDS3      ;C=1 SYMBOL
02819  26B3  20 D0 20           JSR DOLLAR      ;PRINT $
02820  26B6  20 C2 20           JSR PWORKD      ;PRINT WORD
02821  26B9  20 FE 1A           JSR NEWLIN      ;PRINT CR
02822  26BC  4C 13 27    WORDSX JMP NEXTBY      ;NEXT SL
02823  26BF  20 B3 22    WORDPT JSR PUTI        ;PUT IN TABLE
02824  26C2  4C 13 27           JMP NEXTBY      ;NEXT SL
02825  26C5  20 5C 2B    WORDSY JSR SYMOP
02826  26C8  4C 13 27           JMP NEXTBY
02827  26CB              ;*********************************
02828  26CB              ; .WORD ADDRESS-1
02829  26CB              ;*********************************
02830  26CB  18          WORDM  CLC
02831  26CC  AD 45 10           LDA WORKED
02832  26CF  69 01              ADC #$01
02833  26D1  8D 45 10           STA WORKED
02834  26D4  AD 46 10           LDA WORKED+1
02835  26D7  69 00              ADC #$00
02836  26D9  8D 46 10           STA WORKED+1
02837  26DC              ;*********************************
02838  26DC              ; CHECK PASS
02839  26DC              ;*********************************
02840  26DC  AD 12 10           LDA PASS        ;CHECK PASS
02841  26DF  CD 13 10           CMP IPASS       ;INTERNAL
02842  26E2  F0 DB              BEQ WORDPT      ;TABLE WORD
02843  26E4  CD 14 10           CMP EPASS       ;EXTERNAL
02844  26E7  F0 DC              BEQ WORDSY      ;TABLE WORD
02845  26E9              ;*********************************
02846  26E9              ; PRINT WORD
02847  26E9              ;*********************************
02848  26E9  20 5C 2B           JSR SYMOP       ;CHECK SYMBOL
02849  26EC  90 0D              BCC WORDS2      ;C=0 NO SYMBOL
02850  26EE  A9 2D              LDA #'-'
02851  26F0  20 11 1C           JSR PCHAR
02852  26F3  A9 31              LDA #'1'
02853  26F5  20 11 1C           JSR PCHAR
02854  26F8  4C 0D 27           JMP WORDS3
02855  26FB              ;*********************************
02856  26FB  20 D0 20    WORDS2 JSR DOLLAR      ;PRINT $
02857  26FE  AD 36 10           LDA SMALLP
02858  2701  8D 45 10           STA WORKED
02859  2704  AD 37 10           LDA SMALLP+1
02860  2707  8D 46 10           STA WORKED+1
02861  270A  20 C2 20           JSR PWORKD      ;PRINT WORD
02862  270D  20 FE 1A    WORDS3 JSR NEWLIN      ;PRINT CR
02863  2710  4C 13 27    WORDXX JMP NEXTBY      ;NEXT SL
02864  2713              ;*********************************
02865  2713              ; SELECT NEXT BYTE OF DATA
02866  2713              ;*********************************
02867  2713  AD 23 10    NEXTBY LDA SELECT+1
02868  2716  CD E5 10           CMP EAS+1
02869  2719  90 0A              BCC SBLOK
02870  271B  D0 0D              BNE NOBINC
02871  271D  AD 22 10           LDA SELECT
02872  2720  CD E4 10           CMP EAS






DISASSEMBLER64......PAGE 0057

LINE# LOC   CODE        LINE


02873  2723  B0 05              BCS NOBINC
02874  2725  20 23 21    SBLOK  JSR INCSL
02875  2728  18                 CLC
02876  2729  60                 RTS
02877  272A  38          NOBINC SEC
02878  272B  60                 RTS
02879  272C              ;*********************************
02880  272C  20 2E       MBYTE  .BYTE ' .BYTE ',0
02880  2733  00 
02881  2734  20 2E       MWORD  .BYTE ' .WORD ',0
02881  273B  00 
02882  273C  20 2E       MDBYTE .BYTE ' .DBYTE ',0
02882  2744  00 
02883  2745              ;*********************************
02884  2745              ;.FIL 0:TABLE.ASM
02885  2745              ;*********************************
02886  2745              .END
02887  2745              ;*********************************
02888  2745              .LIB   TABLE.ASM
02889  2745              ;*********************************
02890  2745              ; FILE TABLE.ASM
02891  2745              ;*********************************
02892  2745              ;
02893  2745              ;        DISASSEMBLER64
02894  2745              ;    SYMBOLIC DISASSEMBLER
02895  2745              ;       BY DENTON MARLOWE
02896  2745              ;
02897  2745              ;  (C)1986 BY DENTON MARLOWE
02898  2745              ;
02899  2745              ;*********************************
02900  2745              ;       PRINT MNEMONIC
02901  2745              ;
02902  2745              ; OPCODE IN A
02903  2745              ;
02904  2745              ; BUG ILLEGAL OPCODE WOULD PRINT OUT AS
02905  2745              ;
02906  2745              ; ZZZZ XX                 ...  .BYTE $XX ;??? ILL
EGAL OPCODE
02907  2745              ; WHERE THE "..." WERE THREE NULLS
02908  2745              ; BECAUSE ILLEGAL OPCODE MNEMONIC IS CODES AS 0,0
,0
02909  2745              ;
02910  2745              ;*********************************
02911  2745  A2 03       MNEMON LDX #3          ;3 CHARACTERS
02912  2747  8E 51 10           STX TEMP        ;COUNTER
02913  274A  AA                 TAX             ;CODE IS INDEX
02914  274B  BD C0 28           LDA MCODES,X    ;GET OFFSET
02915  274E  AA                 TAX             ;INDEX OFFSET
02916  274F  BD E8 27    MNLOOP LDA MNAMES,X    ;GET CHARACTER
02917  2752              ;BEGIN REV 2017-0
02918  2752  F0 09              BEQ ILLOP       ;ILLEGAL OPCODE MNEMONIC C
HAR IS A NULL
02919  2754              ;END REV 2017-0
02920  2754  8E 53 10           STX SAVX        ;SAVE INDEX
02921  2757  20 11 1C           JSR PCHAR       ;PRINT CHAR
02922  275A  AE 53 10           LDX SAVX        ;GET INDEX
02923  275D              ;BEGIN REV 2017-1
02924  275D              ILLOP  = *






DISASSEMBLER64......PAGE 0058

LINE# LOC   CODE        LINE


02925  275D              ;END REV 2017-0
02926  275D  E8                 INX             ;NEXT CHAR
02927  275E  CE 51 10           DEC TEMP        ;DEC COUNT
02928  2761  D0 EC              BNE MNLOOP      ;LOOP TILL 0
02929  2763  60                 RTS             ;RETURN
02930  2764              ;*********************************
02931  2764              ;        PRINT OPERAND
02932  2764              ;*********************************
02933  2764  48          PRTASS PHA             ;STACK INDEX
02934  2765  20 05 22           JSR PRTDAT      ;PRINT LINE DATA
02935  2768  68                 PLA             ;PULL INDEX
02936  2769  A8                 TAY             ;SAVE INDEX
02937  276A  A9 94              LDA #<SUBP
02938  276C  A2 27              LDX #>SUBP
02939  276E  4C 7E 27           JMP GETOPE      ;LOOK UP ROUTINE
02940  2771              ;*********************************
02941  2771  A8          OPERN1 TAY             ;SAVE INDEX
02942  2772  A9 B0              LDA #<SUBS1
02943  2774  A2 27              LDX #>SUBS1
02944  2776  4C 7E 27           JMP GETOPE      ;LOOK UP ROUTINE
02945  2779              ;*********************************
02946  2779  A8          OPERND TAY             ;SAVE INDEX
02947  277A  A9 CC              LDA #<SUBS
02948  277C  A2 27              LDX #>SUBS
02949  277E              ;*********************************
02950  277E              ; LOOK UP AND JMP TO ROUTINE
02951  277E              ;*********************************
02952  277E  85 DD       GETOPE STA ZEROUR      ;LOW TABLE
02953  2780  86 DE              STX ZEROUR+1    ;HIGH TABLE
02954  2782  B9 C0 29           LDA MODES,Y     ;GET OFFSET
02955  2785  A8                 TAY             ;INDEX OFFSET
02956  2786  B1 DD              LDA (ZEROUR),Y  ;GET LOW BYTE
02957  2788  8D 4F 10           STA ADRS        ;STORE
02958  278B  C8                 INY             ;INC INDEX
02959  278C  B1 DD              LDA (ZEROUR),Y  ;GET HIGH BYTE
02960  278E  8D 50 10           STA ADRS+1      ;STORE
02961  2791  6C 4F 10           JMP (ADRS)      ;INDIRECT JMP
02962  2794              ;*********************************
02963  2794              ; TABLE OF ADDRESSING MODE SUBS
02964  2794              ;*********************************
02965  2794              ; MACHINE LANGUAGE ROUTINES
02966  2794              ;*********************************
02967  2794              SUBP   = *             ; MODES
02968  2794  92 21       .WORD  PRTONE          ; 0  $00
02969  2796  92 21       .WORD  PRTONE          ; 2  $02
02970  2798  A8 21       .WORD  PRTTWO          ; 4  $04
02971  279A  A8 21       .WORD  PRTTWO          ; 6  $06
02972  279C  A8 21       .WORD  PRTTWO          ; 8  $08
02973  279E  A8 21       .WORD  PRTTWO          ; 10 $0A
02974  27A0  CD 21       .WORD  PRTTHE          ; 12 $0C
02975  27A2  CD 21       .WORD  PRTTHE          ; 14 $0E
02976  27A4  CD 21       .WORD  PRTTHE          ; 16 $10
02977  27A6  92 21       .WORD  PRTONE          ; 18 $12
02978  27A8  A8 21       .WORD  PRTTWO          ; 20 $14
02979  27AA  A8 21       .WORD  PRTTWO          ; 22 $16






DISASSEMBLER64......PAGE 0059

LINE# LOC   CODE        LINE


02980  27AC  A8 21       .WORD  PRTTWO          ; 24 $18
02981  27AE  CD 21       .WORD  PRTTHE          ; 26 $1A
02982  27B0              ;*********************************
02983  27B0              ; CODE ANALYSIS ROUTINES
02984  27B0              ;*********************************
02985  27B0              SUBS1  = *             ; MODES
02986  27B0  89 1F       .WORD  IMPONE          ; 0  $00
02987  27B2  89 1F       .WORD  IMPONE          ; 2  $02
02988  27B4  04 1F       .WORD  IMMEDT          ; 4  $04
02989  27B6  4D 1E       .WORD  ONEBYT          ; 6  $06
02990  27B8  4D 1E       .WORD  ONEBYT          ; 8  $08
02991  27BA  4D 1E       .WORD  ONEBYT          ; 10 $0A
02992  27BC  82 1E       .WORD  TWOBYT          ; 12 $0C
02993  27BE  82 1E       .WORD  TWOBYT          ; 14 $0E
02994  27C0  82 1E       .WORD  TWOBYT          ; 16 $10
02995  27C2  89 1F       .WORD  IMPONE          ; 18 $12
02996  27C4  C0 1F       .WORD  RELATV          ; 20 $14
02997  27C6  4D 1E       .WORD  ONEBYT          ; 22 $16
02998  27C8  4D 1E       .WORD  ONEBYT          ; 24 $18
02999  27CA  82 1E       .WORD  TWOBYT          ; 26 $1A
03000  27CC              ;*********************************
03001  27CC              ; FINAL PASS ADDRESSING MODES
03002  27CC              ;*********************************
03003  27CC              SUBS   = *             ; MODES
03004  27CC  BE 1E       .WORD  ILLEGL          ; 0  $00
03005  27CE  FF 1E       .WORD  ACC             ; 2  $02
03006  27D0  04 1F       .WORD  IMMEDT          ; 4  $04
03007  27D2  3B 1F       .WORD  ZEROPG          ; 6  $06
03008  27D4  3E 1F       .WORD  ZEROX           ; 8  $08
03009  27D6  44 1F       .WORD  ZEROY           ; 10 $0A
03010  27D8  4B 1F       .WORD  ABSLUT          ; 12 $0C
03011  27DA  70 1F       .WORD  ABSX            ; 14 $0E
03012  27DC  76 1F       .WORD  ABSY            ; 16 $10
03013  27DE  7C 1F       .WORD  IMPLID          ; 18 $12
03014  27E0  C0 1F       .WORD  RELATV          ; 20 $14
03015  27E2  AB 1F       .WORD  INDX            ; 22 $16
03016  27E4  B4 1F       .WORD  INDY            ; 24 $18
03017  27E6  96 1F       .WORD  INDRCT          ; 26 $1A
03018  27E8              ;*********************************
03019  27E8              ; LIST OF MNEMONICS
03020  27E8              ;*********************************
03021  27E8              MNAMES = *             ; MCODES
03022  27E8  00          .BYTE  0,0,0           ; 0   $00
03022  27E9  00 
03022  27EA  00 
03023  27EB  41 44 43    .BYTE  'ADC'           ; 3   $03
03024  27EE  41 4E 44    .BYTE  'AND'           ; 6   $06
03025  27F1  41 53 4C    .BYTE  'ASL'           ; 9   $09
03026  27F4  42 43 43    .BYTE  'BCC'           ; 12  $0C
03027  27F7  42 43 53    .BYTE  'BCS'           ; 15  $0F
03028  27FA  42 45 51    .BYTE  'BEQ'           ; 18  $12
03029  27FD  42 49 54    .BYTE  'BIT'           ; 21  $15
03030  2800  42 4D 49    .BYTE  'BMI'           ; 24  $18
03031  2803  42 4E 45    .BYTE  'BNE'           ; 27  $1B
03032  2806  42 50 4C    .BYTE  'BPL'           ; 30  $1E






DISASSEMBLER64......PAGE 0060

LINE# LOC   CODE        LINE


03033  2809  42 52 4B    .BYTE  'BRK'           ; 33  $21
03034  280C  42 56 43    .BYTE  'BVC'           ; 36  $24
03035  280F  42 56 53    .BYTE  'BVS'           ; 39  $27
03036  2812  43 4C 43    .BYTE  'CLC'           ; 42  $2A
03037  2815  43 4C 44    .BYTE  'CLD'           ; 45  $2D
03038  2818  43 4C 49    .BYTE  'CLI'           ; 48  $30
03039  281B  43 4C 56    .BYTE  'CLV'           ; 51  $33
03040  281E  43 4D 50    .BYTE  'CMP'           ; 54  $36
03041  2821  43 50 58    .BYTE  'CPX'           ; 57  $39
03042  2824  43 50 59    .BYTE  'CPY'           ; 60  $3C
03043  2827  44 45 43    .BYTE  'DEC'           ; 63  $3F
03044  282A  44 45 58    .BYTE  'DEX'           ; 66  $42
03045  282D  44 45 59    .BYTE  'DEY'           ; 69  $45
03046  2830  45 4F 52    .BYTE  'EOR'           ; 72  $48
03047  2833  49 4E 43    .BYTE  'INC'           ; 75  $4B
03048  2836  49 4E 58    .BYTE  'INX'           ; 78  $4E
03049  2839  49 4E 59    .BYTE  'INY'           ; 81  $51
03050  283C  4A 4D 50    .BYTE  'JMP'           ; 84  $54
03051  283F  4A 53 52    .BYTE  'JSR'           ; 87  $57
03052  2842  4C 44 41    .BYTE  'LDA'           ; 90  $5A
03053  2845  4C 44 58    .BYTE  'LDX'           ; 93  $5D
03054  2848  4C 44 59    .BYTE  'LDY'           ; 96  $60
03055  284B  4C 53 52    .BYTE  'LSR'           ; 99  $63
03056  284E  4E 4F 50    .BYTE  'NOP'           ; 102 $66
03057  2851  4F 52 41    .BYTE  'ORA'           ; 105 $69
03058  2854  50 48 41    .BYTE  'PHA'           ; 108 $6C
03059  2857  50 48 50    .BYTE  'PHP'           ; 111 $6F
03060  285A  50 4C 41    .BYTE  'PLA'           ; 114 $72
03061  285D  50 4C 50    .BYTE  'PLP'           ; 117 $75
03062  2860  52 4F 4C    .BYTE  'ROL'           ; 120 $78
03063  2863  52 4F 52    .BYTE  'ROR'           ; 123 $7B
03064  2866  52 54 49    .BYTE  'RTI'           ; 126 $7E
03065  2869  52 54 53    .BYTE  'RTS'           ; 129 $81
03066  286C  53 42 43    .BYTE  'SBC'           ; 132 $84
03067  286F  53 45 43    .BYTE  'SEC'           ; 135 $87
03068  2872  53 45 44    .BYTE  'SED'           ; 138 $8A
03069  2875  53 45 49    .BYTE  'SEI'           ; 141 $8D
03070  2878  53 54 41    .BYTE  'STA'           ; 144 $90
03071  287B  53 54 58    .BYTE  'STX'           ; 147 $93
03072  287E  53 54 59    .BYTE  'STY'           ; 150 $96
03073  2881  54 41 58    .BYTE  'TAX'           ; 153 $99
03074  2884  54 41 59    .BYTE  'TAY'           ; 156 $9C
03075  2887  54 53 58    .BYTE  'TSX'           ; 159 $9F
03076  288A  54 58 41    .BYTE  'TXA'           ; 162 $A2
03077  288D  54 58 53    .BYTE  'TXS'           ; 165 $A5
03078  2890  54 59 41    .BYTE  'TYA'           ; 168 $A8
03079  2893              ;*********************************
03080  2893              ; QUASI-OPCODES
03081  2893              ;*********************************
03082  2893  41 53 4F    .BYTE  'ASO'           ; 171 $AB
03083  2896  52 4C 41    .BYTE  'RLA'           ; 174 $AE
03084  2899  4C 53 45    .BYTE  'LSE'           ; 177 $B1
03085  289C  52 52 41    .BYTE  'RRA'           ; 180 $B4
03086  289F  41 58 53    .BYTE  'AXS'           ; 183 $B7
03087  28A2  4C 41 58    .BYTE  'LAX'           ; 186 $BA






DISASSEMBLER64......PAGE 0061

LINE# LOC   CODE        LINE


03088  28A5  44 43 4D    .BYTE  'DCM'           ; 189 $BD
03089  28A8  49 4E 53    .BYTE  'INS'           ; 192 $C0
03090  28AB  41 4C 52    .BYTE  'ALR'           ; 195 $C3
03091  28AE  41 52 52    .BYTE  'ARR'           ; 198 $C6
03092  28B1  4F 41 4C    .BYTE  'OAL'           ; 201 $C9
03093  28B4  53 41 58    .BYTE  'SAX'           ; 204 $CC
03094  28B7  4E 4F 50    .BYTE  'NOP'           ; 207 $CF
03095  28BA  53 4B 42    .BYTE  'SKB'           ; 210 $D2
03096  28BD  53 4B 57    .BYTE  'SKW'           ; 213 $D5
03097  28C0              ;*********************************
03098  28C0              ; TABLE OF MNEMONIC CODES
03099  28C0              ;*********************************
03100  28C0              ;
03101  28C0              ;A MNEMONIC'S CODE IS ITS OFFSET
03102  28C0              ;    INTO MNAMES, THE LIST OF
03103  28C0              ;         MNEONIC NAMES.
03104  28C0              ;
03105  28C0              ;*********************************
03106  28C0              MCODES = *
03107  28C0              ;     0X  1X  2X  3X  4X  5X  6X  7X
03108  28C0              ; 0X  BRK ORA KIL SLO NOP ORA ASL SLO
03109  28C0  21          .BYTE  $21,$69,$00,$00,$00,$69,$09,$00
03109  28C1  69 
03109  28C2  00 
03109  28C3  00 
03109  28C4  00 
03109  28C5  69 
03109  28C6  09 
03109  28C7  00 
03110  28C8              ;     8X  9X  AX  BX  CX  DX  EX  FX
03111  28C8                                     ;PHP ORA ASL ANC NOP ORA A
SL SLO
03112  28C8  6F          .BYTE  $6F,$69,$09,$00,$00,$69,$09,$00
03112  28C9  69 
03112  28CA  09 
03112  28CB  00 
03112  28CC  00 
03112  28CD  69 
03112  28CE  09 
03112  28CF  00 
03113  28D0              ; 1X  BPL ORA KIL SLO NOP ORA ASL SLO
03114  28D0  1E          .BYTE  $1E,$69,$00,$00,$00,$69,$09,$00
03114  28D1  69 
03114  28D2  00 
03114  28D3  00 
03114  28D4  00 
03114  28D5  69 
03114  28D6  09 
03114  28D7  00 
03115  28D8                                     ;CLC ORA NOP SLO NOP ORA A
SL SLO
03116  28D8  2A          .BYTE  $2A,$69,$00,$00,$00,$69,$09,$00
03116  28D9  69 
03116  28DA  00 
03116  28DB  00 
03116  28DC  00 
03116  28DD  69 






DISASSEMBLER64......PAGE 0062

LINE# LOC   CODE        LINE


03116  28DE  09 
03116  28DF  00 
03117  28E0              ; 2X  JSR AND KIL RLA BIT AND ROL RLA
03118  28E0  57          .BYTE  $57,$06,$00,$00,$15,$06,$78,$00
03118  28E1  06 
03118  28E2  00 
03118  28E3  00 
03118  28E4  15 
03118  28E5  06 
03118  28E6  78 
03118  28E7  00 
03119  28E8                                     ;PLP ABD ROL ANC BIT AND R
OL RLA
03120  28E8  75          .BYTE  $75,$06,$78,$00,$15,$06,$78,$00
03120  28E9  06 
03120  28EA  78 
03120  28EB  00 
03120  28EC  15 
03120  28ED  06 
03120  28EE  78 
03120  28EF  00 
03121  28F0              ; 3X  BMI AND KIL RLA NOP AND ROL RLA
03122  28F0  18          .BYTE  $18,$06,$00,$00,$00,$06,$78,$00
03122  28F1  06 
03122  28F2  00 
03122  28F3  00 
03122  28F4  00 
03122  28F5  06 
03122  28F6  78 
03122  28F7  00 
03123  28F8              ;     SEC AND NOP RLA NOP AND ROL RLA
03124  28F8  87          .BYTE  $87,$06,$00,$00,$00,$06,$78,$00
03124  28F9  06 
03124  28FA  00 
03124  28FB  00 
03124  28FC  00 
03124  28FD  06 
03124  28FE  78 
03124  28FF  00 
03125  2900              ; 4X  RTI EOR KIL SRE NOP EOR LSR SRE
03126  2900  7E          .BYTE  $7E,$48,$00,$00,$00,$48,$63,$00
03126  2901  48 
03126  2902  00 
03126  2903  00 
03126  2904  00 
03126  2905  48 
03126  2906  63 
03126  2907  00 
03127  2908              ;     PHA EOR LSR ALR JMP EOR LSR SRE
03128  2908  6C          .BYTE  $6C,$48,$63,$00,$54,$48,$63,$00
03128  2909  48 
03128  290A  63 
03128  290B  00 
03128  290C  54 
03128  290D  48 
03128  290E  63 






DISASSEMBLER64......PAGE 0063

LINE# LOC   CODE        LINE


03128  290F  00 
03129  2910              ; 5X  BVC EOR KIL SRE NOP EOR LSR SRE
03130  2910  24          .BYTE  $24,$48,$00,$00,$00,$48,$63,$00
03130  2911  48 
03130  2912  00 
03130  2913  00 
03130  2914  00 
03130  2915  48 
03130  2916  63 
03130  2917  00 
03131  2918              ;     CLI EOR NOP SRE NOP EOR LSR SRE
03132  2918  30          .BYTE  $30,$48,$00,$00,$00,$48,$63,$00
03132  2919  48 
03132  291A  00 
03132  291B  00 
03132  291C  00 
03132  291D  48 
03132  291E  63 
03132  291F  00 
03133  2920              ; 6X  RTS ADC KIL RRA NOP ADC ROR RRA
03134  2920  81          .BYTE  $81,$03,$00,$00,$00,$03,$7B,$00
03134  2921  03 
03134  2922  00 
03134  2923  00 
03134  2924  00 
03134  2925  03 
03134  2926  7B 
03134  2927  00 
03135  2928              ;     PLA ADC ROR ARR JMP ADC ROR RRA
03136  2928  72          .BYTE  $72,$03,$7B,$00,$54,$03,$7B,$00
03136  2929  03 
03136  292A  7B 
03136  292B  00 
03136  292C  54 
03136  292D  03 
03136  292E  7B 
03136  292F  00 
03137  2930              ; 7X  BVS ADC KIL RRA NOP ADC ROR RRA
03138  2930  27          .BYTE  $27,$03,$00,$00,$00,$03,$7B,$00
03138  2931  03 
03138  2932  00 
03138  2933  00 
03138  2934  00 
03138  2935  03 
03138  2936  7B 
03138  2937  00 
03139  2938              ;     SEI ADC NOP RRA NOP ADC ROR RRA
03140  2938  8D          .BYTE  $8D,$03,$00,$00,$00,$03,$7B,$00
03140  2939  03 
03140  293A  00 
03140  293B  00 
03140  293C  00 
03140  293D  03 
03140  293E  7B 
03140  293F  00 






DISASSEMBLER64......PAGE 0064

LINE# LOC   CODE        LINE


03141  2940              ; 8X  NOP STA NOP SAX STY STA STX SAX
03142  2940  00          .BYTE  $00,$90,$00,$00,$96,$90,$93,$00
03142  2941  90 
03142  2942  00 
03142  2943  00 
03142  2944  96 
03142  2945  90 
03142  2946  93 
03142  2947  00 
03143  2948              ;     DEY NOP TXA XXA STY STA STX SAX
03144  2948  45          .BYTE  $45,$00,$A2,$00,$96,$90,$93,$00
03144  2949  00 
03144  294A  A2 
03144  294B  00 
03144  294C  96 
03144  294D  90 
03144  294E  93 
03144  294F  00 
03145  2950              ; 9X  BCC STA KIL AHX STY STA STX SAX 
03146  2950  0C          .BYTE  $0C,$90,$00,$00,$96,$90,$93,$00
03146  2951  90 
03146  2952  00 
03146  2953  00 
03146  2954  96 
03146  2955  90 
03146  2956  93 
03146  2957  00 
03147  2958              ;     TYA STA TXS TAS SHY STA SHX AHX
03148  2958  A8          .BYTE  $A8,$90,$A5,$00,$00,$90,$00,$00
03148  2959  90 
03148  295A  A5 
03148  295B  00 
03148  295C  00 
03148  295D  90 
03148  295E  00 
03148  295F  00 
03149  2960              ; AX  LDY LDA LDX LAX LDY LDA LDX LAX
03150  2960  60          .BYTE  $60,$5A,$5D,$00,$60,$5A,$5D,$00
03150  2961  5A 
03150  2962  5D 
03150  2963  00 
03150  2964  60 
03150  2965  5A 
03150  2966  5D 
03150  2967  00 
03151  2968              ;     TAY LDA TAX LAX LDY LDA LDX LAX
03152  2968  9C          .BYTE  $9C,$5A,$99,$00,$60,$5A,$5D,$00
03152  2969  5A 
03152  296A  99 
03152  296B  00 
03152  296C  60 
03152  296D  5A 
03152  296E  5D 
03152  296F  00 
03153  2970              ; BX  BCS LDA KIL LAX LDY LDA LDX LAX






DISASSEMBLER64......PAGE 0065

LINE# LOC   CODE        LINE


03154  2970  0F          .BYTE  $0F,$5A,$00,$00,$60,$5A,$5D,$00
03154  2971  5A 
03154  2972  00 
03154  2973  00 
03154  2974  60 
03154  2975  5A 
03154  2976  5D 
03154  2977  00 
03155  2978              ;     CLV LDA TSX LAS LDY LDA LDX LAX
03156  2978  33          .BYTE  $33,$5A,$9F,$00,$60,$5A,$5D,$00
03156  2979  5A 
03156  297A  9F 
03156  297B  00 
03156  297C  60 
03156  297D  5A 
03156  297E  5D 
03156  297F  00 
03157  2980              ; CX  CPY CMP NOP DCP CPY CMP DEC DCP
03158  2980  3C          .BYTE  $3C,$36,$00,$00,$3C,$36,$3F,$00
03158  2981  36 
03158  2982  00 
03158  2983  00 
03158  2984  3C 
03158  2985  36 
03158  2986  3F 
03158  2987  00 
03159  2988              ;     INY CMP DEX AXS CPY CMP DEC DCP
03160  2988  51          .BYTE  $51,$36,$42,$00,$3C,$36,$3F,$00
03160  2989  36 
03160  298A  42 
03160  298B  00 
03160  298C  3C 
03160  298D  36 
03160  298E  3F 
03160  298F  00 
03161  2990              ; DX  BNE CMP KIL DCP NOP CMP DEC DCP
03162  2990  1B          .BYTE  $1B,$36,$00,$00,$00,$36,$3F,$00
03162  2991  36 
03162  2992  00 
03162  2993  00 
03162  2994  00 
03162  2995  36 
03162  2996  3F 
03162  2997  00 
03163  2998              ;     CLD CMP NOP DCP NOP CMP DEC DCP
03164  2998  2D          .BYTE  $2D,$36,$00,$00,$00,$36,$3F,$00
03164  2999  36 
03164  299A  00 
03164  299B  00 
03164  299C  00 
03164  299D  36 
03164  299E  3F 
03164  299F  00 
03165  29A0              ; EX  CPX SBC NOP ISC CPX SBC INC ISC
03166  29A0  39          .BYTE  $39,$84,$00,$00,$39,$84,$4B,$00






DISASSEMBLER64......PAGE 0066

LINE# LOC   CODE        LINE


03166  29A1  84 
03166  29A2  00 
03166  29A3  00 
03166  29A4  39 
03166  29A5  84 
03166  29A6  4B 
03166  29A7  00 
03167  29A8              ;     INX SBC NOP SBC CPX SBC INC ISC
03168  29A8  4E          .BYTE  $4E,$84,$66,$00,$39,$84,$4B,$00
03168  29A9  84 
03168  29AA  66 
03168  29AB  00 
03168  29AC  39 
03168  29AD  84 
03168  29AE  4B 
03168  29AF  00 
03169  29B0              ; FX  BEQ SBC KIL ISC NOP SBC INC ISC
03170  29B0  12          .BYTE  $12,$84,$00,$00,$00,$84,$4B,$00
03170  29B1  84 
03170  29B2  00 
03170  29B3  00 
03170  29B4  00 
03170  29B5  84 
03170  29B6  4B 
03170  29B7  00 
03171  29B8              ;     SED SBC NOP ISC NOP SBC INC ISC
03172  29B8  8A          .BYTE  $8A,$84,$00,$00,$00,$84,$4B,$00
03172  29B9  84 
03172  29BA  00 
03172  29BB  00 
03172  29BC  00 
03172  29BD  84 
03172  29BE  4B 
03172  29BF  00 
03173  29C0              ;*********************************
03174  29C0              ; TABLE OF ADDRESSING MODE CODES
03175  29C0              ;*********************************
03176  29C0              ;
03177  29C0              ; AN ADDRESSING MODE'S CODE IS
03178  29C0              ; ITS OFFSET INTO SUBS, THE TABLE
03179  29C0              ; OF ADDRESSING MODE SUBROUTINES
03180  29C0              ;
03181  29C0              ; ILLEGL ; 0  $00
03182  29C0              ; ACC    ; 2  $02
03183  29C0              ; IMMEDT ; 4  $04
03184  29C0              ; ZEROPG ; 6  $06
03185  29C0              ; ZEROX  ; 8  $08
03186  29C0              ; ZEROY  ; 10 $0A
03187  29C0              ; ABSLUT ; 12 $0C
03188  29C0              ; ABSX   ; 14 $0E
03189  29C0              ; ABSY   ; 16 $10
03190  29C0              ; IMPLID ; 18 $12
03191  29C0              ; RELATV ; 20 $14
03192  29C0              ; INDX   ; 22 $16
03193  29C0              ; INDY   ; 24 $18






DISASSEMBLER64......PAGE 0067

LINE# LOC   CODE        LINE


03194  29C0              ; INDRCT ; 26 $1A
03195  29C0              ;*********************************
03196  29C0              MODES  = * 
03197  29C0              ; 0X   0  1 2 3 4 5 6 7
03198  29C0  12          .BYTE  18,22,0,0,0,6,6,0
03198  29C1  16 
03198  29C2  00 
03198  29C3  00 
03198  29C4  00 
03198  29C5  06 
03198  29C6  06 
03198  29C7  00 
03199  29C8              ;      8  9 A B C D E F
03200  29C8  12          .BYTE  18,4,2,0,0,12,12,0
03200  29C9  04 
03200  29CA  02 
03200  29CB  00 
03200  29CC  00 
03200  29CD  0C 
03200  29CE  0C 
03200  29CF  00 
03201  29D0              ; 1X   0  1 2 3 4 5 6 7
03202  29D0  14          .BYTE  20,24,0,0,0,8,8,0
03202  29D1  18 
03202  29D2  00 
03202  29D3  00 
03202  29D4  00 
03202  29D5  08 
03202  29D6  08 
03202  29D7  00 
03203  29D8              ;      8  9 A B C D E F
03204  29D8  12          .BYTE  18,16,0,0,0,14,14,0
03204  29D9  10 
03204  29DA  00 
03204  29DB  00 
03204  29DC  00 
03204  29DD  0E 
03204  29DE  0E 
03204  29DF  00 
03205  29E0              ; 2X   0  1 2 3 4 5 6 7
03206  29E0  0C          .BYTE  12,22,0,0,6,6,6,0
03206  29E1  16 
03206  29E2  00 
03206  29E3  00 
03206  29E4  06 
03206  29E5  06 
03206  29E6  06 
03206  29E7  00 
03207  29E8              ;.BYTE 12,22,0,0,28,6,6,0
03208  29E8              ;      8  9 A B C D E F
03209  29E8  12          .BYTE  18,4,2,0,12,12,12,0
03209  29E9  04 
03209  29EA  02 
03209  29EB  00 
03209  29EC  0C 






DISASSEMBLER64......PAGE 0068

LINE# LOC   CODE        LINE


03209  29ED  0C 
03209  29EE  0C 
03209  29EF  00 
03210  29F0              ;.BYTE 18,4,2,0,30,12,12,0
03211  29F0              ; 3X   0  1 2 3 4 5 6 7
03212  29F0  14          .BYTE  20,24,0,0,0,8,8,0
03212  29F1  18 
03212  29F2  00 
03212  29F3  00 
03212  29F4  00 
03212  29F5  08 
03212  29F6  08 
03212  29F7  00 
03213  29F8              ;      8  9 A B C D E F
03214  29F8  12          .BYTE  18,16,0,0,0,14,14,0
03214  29F9  10 
03214  29FA  00 
03214  29FB  00 
03214  29FC  00 
03214  29FD  0E 
03214  29FE  0E 
03214  29FF  00 
03215  2A00              ; 4X   0  1 2 3 4 5 6 7
03216  2A00  12          .BYTE  18,22,0,0,0,6,6,0
03216  2A01  16 
03216  2A02  00 
03216  2A03  00 
03216  2A04  00 
03216  2A05  06 
03216  2A06  06 
03216  2A07  00 
03217  2A08              ;      8  9 A B C D E F
03218  2A08  12          .BYTE  18,4,2,0,12,12,12,0
03218  2A09  04 
03218  2A0A  02 
03218  2A0B  00 
03218  2A0C  0C 
03218  2A0D  0C 
03218  2A0E  0C 
03218  2A0F  00 
03219  2A10              ; 5X   0  1 2 3 4 5 6 7
03220  2A10  14          .BYTE  20,24,0,0,0,8,8,0
03220  2A11  18 
03220  2A12  00 
03220  2A13  00 
03220  2A14  00 
03220  2A15  08 
03220  2A16  08 
03220  2A17  00 
03221  2A18              ;      8  9 A B C D E F
03222  2A18  12          .BYTE  18,16,0,0,0,14,14,0
03222  2A19  10 
03222  2A1A  00 
03222  2A1B  00 
03222  2A1C  00 






DISASSEMBLER64......PAGE 0069

LINE# LOC   CODE        LINE


03222  2A1D  0E 
03222  2A1E  0E 
03222  2A1F  00 
03223  2A20              ; 6X   0  1 2 3 4 5 6 7
03224  2A20  12          .BYTE  18,22,0,0,0,6,6,0
03224  2A21  16 
03224  2A22  00 
03224  2A23  00 
03224  2A24  00 
03224  2A25  06 
03224  2A26  06 
03224  2A27  00 
03225  2A28              ;      8  9 A B C D E F
03226  2A28  12          .BYTE  18,4,2,0,26,12,12,0
03226  2A29  04 
03226  2A2A  02 
03226  2A2B  00 
03226  2A2C  1A 
03226  2A2D  0C 
03226  2A2E  0C 
03226  2A2F  00 
03227  2A30              ; 7X   0  1 2 3 4 5 6 7
03228  2A30  14          .BYTE  20,24,0,0,0,8,8,0
03228  2A31  18 
03228  2A32  00 
03228  2A33  00 
03228  2A34  00 
03228  2A35  08 
03228  2A36  08 
03228  2A37  00 
03229  2A38              ;      8  9 A B C D E F
03230  2A38  12          .BYTE  18,16,0,0,0,14,14,0
03230  2A39  10 
03230  2A3A  00 
03230  2A3B  00 
03230  2A3C  00 
03230  2A3D  0E 
03230  2A3E  0E 
03230  2A3F  00 
03231  2A40              ; 8X   0  1 2 3 4 5 6 7
03232  2A40  00          .BYTE  0,22,0,0,6,6,6,0
03232  2A41  16 
03232  2A42  00 
03232  2A43  00 
03232  2A44  06 
03232  2A45  06 
03232  2A46  06 
03232  2A47  00 
03233  2A48              ;      8  9 A B C D E F
03234  2A48  12          .BYTE  18,0,18,0,12,12,12,0
03234  2A49  00 
03234  2A4A  12 
03234  2A4B  00 
03234  2A4C  0C 
03234  2A4D  0C 






DISASSEMBLER64......PAGE 0070

LINE# LOC   CODE        LINE


03234  2A4E  0C 
03234  2A4F  00 
03235  2A50              ; 9X   0  1 2 3 4 5 6 7
03236  2A50  14          .BYTE  20,24,0,0,8,8,10,0
03236  2A51  18 
03236  2A52  00 
03236  2A53  00 
03236  2A54  08 
03236  2A55  08 
03236  2A56  0A 
03236  2A57  00 
03237  2A58              ;      8  9 A B C D E F
03238  2A58  12          .BYTE  18,16,18,0,0,14,0,0
03238  2A59  10 
03238  2A5A  12 
03238  2A5B  00 
03238  2A5C  00 
03238  2A5D  0E 
03238  2A5E  00 
03238  2A5F  00 
03239  2A60              ; AX   0  1 2 3 4 5 6 7
03240  2A60  04          .BYTE  4,22,4,0,6,6,6,0
03240  2A61  16 
03240  2A62  04 
03240  2A63  00 
03240  2A64  06 
03240  2A65  06 
03240  2A66  06 
03240  2A67  00 
03241  2A68              ;      8  9 A B C D E F
03242  2A68  12          .BYTE  18,4,18,0,12,12,12,0
03242  2A69  04 
03242  2A6A  12 
03242  2A6B  00 
03242  2A6C  0C 
03242  2A6D  0C 
03242  2A6E  0C 
03242  2A6F  00 
03243  2A70              ; BX   0  1 2 3 4 5 6 7
03244  2A70  14          .BYTE  20,24,0,0,8,8,10,0
03244  2A71  18 
03244  2A72  00 
03244  2A73  00 
03244  2A74  08 
03244  2A75  08 
03244  2A76  0A 
03244  2A77  00 
03245  2A78              ;      8  9 A B C D E F
03246  2A78  12          .BYTE  18,16,18,0,14,14,16,0
03246  2A79  10 
03246  2A7A  12 
03246  2A7B  00 
03246  2A7C  0E 
03246  2A7D  0E 
03246  2A7E  10 






DISASSEMBLER64......PAGE 0071

LINE# LOC   CODE        LINE


03246  2A7F  00 
03247  2A80              ; CX   0  1 2 3 4 5 6 7
03248  2A80  04          .BYTE  4,22,0,0,6,6,6,0
03248  2A81  16 
03248  2A82  00 
03248  2A83  00 
03248  2A84  06 
03248  2A85  06 
03248  2A86  06 
03248  2A87  00 
03249  2A88              ;      8  9 A B C D E F
03250  2A88  12          .BYTE  18,4,18,0,12,12,12,0
03250  2A89  04 
03250  2A8A  12 
03250  2A8B  00 
03250  2A8C  0C 
03250  2A8D  0C 
03250  2A8E  0C 
03250  2A8F  00 
03251  2A90              ; DX   0  1 2 3 4 5 6 7
03252  2A90  14          .BYTE  20,24,0,0,0,8,8,0
03252  2A91  18 
03252  2A92  00 
03252  2A93  00 
03252  2A94  00 
03252  2A95  08 
03252  2A96  08 
03252  2A97  00 
03253  2A98              ;      8  9 A B C D E F
03254  2A98  12          .BYTE  18,16,0,0,0,14,14,0
03254  2A99  10 
03254  2A9A  00 
03254  2A9B  00 
03254  2A9C  00 
03254  2A9D  0E 
03254  2A9E  0E 
03254  2A9F  00 
03255  2AA0              ; EX   0  1 2 3 4 5 6 7
03256  2AA0  04          .BYTE  4,22,0,0,6,6,6,0
03256  2AA1  16 
03256  2AA2  00 
03256  2AA3  00 
03256  2AA4  06 
03256  2AA5  06 
03256  2AA6  06 
03256  2AA7  00 
03257  2AA8              ;      8  9 A B C D E F
03258  2AA8  12          .BYTE  18,4,18,0,12,12,12,0
03258  2AA9  04 
03258  2AAA  12 
03258  2AAB  00 
03258  2AAC  0C 
03258  2AAD  0C 
03258  2AAE  0C 
03258  2AAF  00 






DISASSEMBLER64......PAGE 0072

LINE# LOC   CODE        LINE


03259  2AB0              ; FX   0  1 2 3 4 5 6 7
03260  2AB0  14          .BYTE  20,24,0,0,0,8,8,0
03260  2AB1  18 
03260  2AB2  00 
03260  2AB3  00 
03260  2AB4  00 
03260  2AB5  08 
03260  2AB6  08 
03260  2AB7  00 
03261  2AB8              ;      8  9 A B C D E F
03262  2AB8  12          .BYTE  18,16,0,0,0,14,14,0
03262  2AB9  10 
03262  2ABA  00 
03262  2ABB  00 
03262  2ABC  00 
03262  2ABD  0E 
03262  2ABE  0E 
03262  2ABF  00 
03263  2AC0              ;*********************************
03264  2AC0              ;.FIL 0:SYM.ASM
03265  2AC0              ;*********************************
03266  2AC0              .END
03267  2AC0              ;*********************************
03268  2AC0              .LIB   SYM.ASM
03269  2AC0              ;*********************************
03270  2AC0              ; FILE SYMBOL.ASM
03271  2AC0              ;*********************************
03272  2AC0              ;
03273  2AC0              ;        DISASSEMBLER64
03274  2AC0              ;    SYMBOLIC DISASSEMBLER
03275  2AC0              ;       BY DENTON MARLOWE
03276  2AC0              ;
03277  2AC0              ;  (C)1986 BY DENTON MARLOWE
03278  2AC0              ;
03279  2AC0              ;*********************************
03280  2AC0              ; SYMBOLIC ROUTINES
03281  2AC0              ;*********************************
03282  2AC0              ; SYMBOLIC DISASSEMBLY OPTION
03283  2AC0              ;*********************************
03284  2AC0  A9 2D       SOP    LDA #<MSS1      ;LOW BYTE MESSAGE
03285  2AC2  A0 2E              LDY #>MSS1      ;HIGH BYTE MESSAGE
03286  2AC4  20 BB 1B           JSR STRPNT      ;OUTPUT MESSAGE
03287  2AC7              ;      JSR CRNO    ;GET KEY PRESS
03288  2AC7  20 83 1B           JSR CRYS
03289  2ACA  90 08              BCC SOP1        ;C=0 YES
03290  2ACC              ;*********************************
03291  2ACC              ; ABSOLUTE DISASSEMBLY SELECTED
03292  2ACC              ;*********************************
03293  2ACC  A9 00              LDA #$00        ;SET SYMBLOIC FLAG
03294  2ACE  8D 38 10           STA SYMBOL      ;STORE FLAG
03295  2AD1  4C 1D 2B           JMP SY          ;FOR INTERNAL
03296  2AD4              ;*********************************
03297  2AD4              ; SYMBOLIC DISASSEMBLY SELECTED
03298  2AD4              ;*********************************
03299  2AD4  A9 01       SOP1   LDA #$01        ;SET SYMBOLIC FLAG






DISASSEMBLER64......PAGE 0073

LINE# LOC   CODE        LINE


03300  2AD6  8D 38 10           STA SYMBOL      ;STORE FLAG
03301  2AD9              ;*********************************
03302  2AD9              ; SETUP START OF TABLE POINTER
03303  2AD9              ;*********************************
03304  2AD9  A9 70              LDA #<STABLE
03305  2ADB  8D 3B 10           STA SYMBOS
03306  2ADE  8D 39 10           STA SYMBOP
03307  2AE1  A9 37              LDA #>STABLE
03308  2AE3  8D 3C 10           STA SYMBOS+1
03309  2AE6  8D 3A 10           STA SYMBOP+1
03310  2AE9              ;*********************************
03311  2AE9              ; CHECK FOR SYMBOL TABLE OPTION
03312  2AE9              ;*********************************
03313  2AE9  A9 51       SYTAB  LDA #<MSS2      ;LOW BYTE MESSAGE
03314  2AEB  A0 2E              LDY #>MSS2      ;HIGH BYTE MESSAGE
03315  2AED  20 BB 1B           JSR STRPNT      ;OUTPUT MESSAGE
03316  2AF0  20 90 1B           JSR CRNO        ;GET KEY PRESS
03317  2AF3  B0 28              BCS SY          ;C=1 NO
03318  2AF5              ;*********************************
03319  2AF5              ; APPEND SYMBOL TABLE
03320  2AF5              ;*********************************
03321  2AF5  A9 95              LDA #<MSS4
03322  2AF7  A0 2E              LDY #>MSS4
03323  2AF9  20 BB 1B           JSR STRPNT
03324  2AFC  20 90 1B           JSR CRNO
03325  2AFF  B0 0A              BCS SOP4
03326  2B01  A9 F3              LDA #<UTABLE
03327  2B03  8D 39 10           STA SYMBOP
03328  2B06  A9 38              LDA #>UTABLE
03329  2B08  8D 3A 10           STA SYMBOP+1
03330  2B0B              ;*********************************
03331  2B0B              ; GO AND LOAD TABLE
03332  2B0B              ;*********************************
03333  2B0B  20 B0 2C    SOP4   JSR READXX      ;READ FILE
03334  2B0E  B0 0D              BCS SY          ;C=1 ERROR
03335  2B10              ;*********************************
03336  2B10              ; SETUP END OF TABLE POINTER
03337  2B10              ;*********************************
03338  2B10  AD 39 10           LDA SYMBOP      ;XREF POINTER
03339  2B13  8D 3D 10           STA SYMBOE
03340  2B16  AD 3A 10           LDA SYMBOP+1
03341  2B19  8D 3E 10           STA SYMBOE+1
03342  2B1C  60                 RTS
03343  2B1D              ;*********************************
03344  2B1D              ; DEFAULT SYMBOL TABLE END
03345  2B1D              ;*********************************
03346  2B1D  A9 F3       SY     LDA #<UTABLE
03347  2B1F  8D 3D 10           STA SYMBOE
03348  2B22  A9 38              LDA #>UTABLE
03349  2B24  8D 3E 10           STA SYMBOE+1
03350  2B27  60                 RTS
03351  2B28              ;*********************************
03352  2B28              ; SET OR RESET SYMBOL TABLE
03353  2B28              ;*********************************
03354  2B28  AD 3B 10    SSET   LDA SYMBOS






DISASSEMBLER64......PAGE 0074

LINE# LOC   CODE        LINE


03355  2B2B  8D 39 10           STA SYMBOP
03356  2B2E  AD 3C 10           LDA SYMBOS+1
03357  2B31  8D 3A 10           STA SYMBOP+1
03358  2B34  60                 RTS
03359  2B35              ;*********************************
03360  2B35              ; EQUATE TABLE SETUP
03361  2B35              ;*********************************
03362  2B35  AD 32 10    EQUINT LDA TABINE
03363  2B38  8D 2E 10           STA TABINP
03364  2B3B  8D 30 10           STA TABINS
03365  2B3E  AD 33 10           LDA TABINE+1
03366  2B41  8D 2F 10           STA TABINP+1
03367  2B44  8D 31 10           STA TABINS+1
03368  2B47  60                 RTS
03369  2B48              ;*********************************
03370  2B48              ; ENTRY POINT FOR ADDRESS
03371  2B48              ;*********************************
03372  2B48  AD 38 10    SYM    LDA SYMBOL
03373  2B4B  F0 43              BEQ SYMEND
03374  2B4D  AD 22 10           LDA SELECT      ;COPY SELECT
03375  2B50  8D 45 10           STA WORKED      ;ADDRESS INTO
03376  2B53  AD 23 10           LDA SELECT+1    ;WORKED
03377  2B56  8D 46 10           STA WORKED+1
03378  2B59  4C 61 2B           JMP SYM1        ;CHECK FOR MATCH
03379  2B5C              ;*********************************
03380  2B5C              ; ENTRY POINT FOR OPCODES
03381  2B5C              ;*********************************
03382  2B5C  AD 38 10    SYMOP  LDA SYMBOL
03383  2B5F  F0 2F              BEQ SYMEND
03384  2B61              ;*********************************
03385  2B61              ; COMPARE ADDRESS TO SYMBOL TABLE
03386  2B61              ;*********************************
03387  2B61  20 28 2B    SYM1   JSR SSET
03388  2B64  20 31 2C    SYM2   JSR GETC
03389  2B67  8D 48 10           STA WORKER+1
03390  2B6A  20 28 2C           JSR INCC
03391  2B6D  20 31 2C           JSR GETC
03392  2B70  8D 47 10           STA WORKER
03393  2B73              ;*********************************
03394  2B73  38                 SEC             ;SET CARRY
03395  2B74  AD 47 10           LDA WORKER
03396  2B77  ED 45 10           SBC WORKED      ;SUB FROM LOW
03397  2B7A  8D 51 10           STA TEMP        ;STORE RESULT
03398  2B7D  AD 48 10           LDA WORKER+1
03399  2B80  ED 46 10           SBC WORKED+1    ;SUB FROM HIGH
03400  2B83  0D 51 10           ORA TEMP        ;OR RESULTS
03401  2B86  F0 0A              BEQ MATCH       ;CHECK FOR MATCH
03402  2B88  20 04 2C           JSR NEXTC       ;IF NOT NEXT
03403  2B8B  B0 03              BCS SYMEND      ;END OF TABLE?
03404  2B8D  4C 64 2B           JMP SYM2        ;NO CHECK NEXT
03405  2B90  18          SYMEND CLC             ;NO MATCHES CLEAR
03406  2B91  60                 RTS             ;RETURN
03407  2B92              ;*********************************
03408  2B92              ; FOUND MATCH
03409  2B92              ;*********************************






DISASSEMBLER64......PAGE 0075

LINE# LOC   CODE        LINE


03410  2B92  AD 12 10    MATCH  LDA PASS        ;CHECK PASS
03411  2B95  CD 15 10           CMP CPASS       ;IS IT LAST
03412  2B98  F0 18              BEQ MATCHS      ;IF SO PRINT
03413  2B9A  CD 16 10           CMP SPASS
03414  2B9D  F0 3A              BEQ MATCHT
03415  2B9F  20 3C 22           JSR RANGE       ;SYMBOL IN RANGE
03416  2BA2  90 3F              BCC MATEXT      ;NO INTERNAL EQ
03417  2BA4  20 28 2C           JSR INCC        ;INC TO SYMBOL
03418  2BA7  20 31 2C           JSR GETC        ;GET FIRST CHAR
03419  2BAA  C9 20              CMP #$20        ;SPACE
03420  2BAC  F0 03              BEQ MATONE      ;NOT EQUATE
03421  2BAE  4C B3 22           JMP PUTI        ;PUT IN EQUATE
03422  2BB1  60          MATONE RTS             ;RETURN
03423  2BB2              ;*********************************
03424  2BB2              ; CHECK FOR SYMBOL+1
03425  2BB2              ;*********************************
03426  2BB2  20 28 2C    MATCHS JSR INCC        ;INC TO LABEL
03427  2BB5  20 31 2C           JSR GETC        ;GET CHARARCTER
03428  2BB8  C9 20              CMP #$20        ;IS IT SPACE
03429  2BBA  D0 1D              BNE MATCHT      ;IF NOT GO ON
03430  2BBC  38                 SEC             ;SET CARRY
03431  2BBD  AD 39 10           LDA SYMBOP      ;GET LOW POINT
03432  2BC0  E9 09              SBC #$09        ;LAST SYMBOL
03433  2BC2  48                 PHA             ;PUSH ON STACK
03434  2BC3  AD 3A 10           LDA SYMBOP+1    ;GET HIGH POINT
03435  2BC6  E9 00              SBC #$00        ;LAST SYMBOL
03436  2BC8  A8                 TAY             ;PUT IN Y
03437  2BC9  68                 PLA             ;GET LO POINT
03438  2BCA  20 E4 2B           JSR STRSYM      ;PRINT SYMBOL
03439  2BCD  A9 2B              LDA #'+'         ;ASCII +
03440  2BCF  20 11 1C           JSR PCHAR       ;PRINT IT
03441  2BD2  A9 31              LDA #'1'         ;ASCII 1
03442  2BD4  20 11 1C           JSR PCHAR       ;PRINT IT
03443  2BD7  38                 SEC             ;C=1 SYMBOL
03444  2BD8  60                 RTS             ;RETURN
03445  2BD9              ;*********************************
03446  2BD9  AD 39 10    MATCHT LDA SYMBOP      ;LOW BYTE LABEL
03447  2BDC  AC 3A 10           LDY SYMBOP+1    ;HIGH BYTE LABEL
03448  2BDF  20 E4 2B           JSR STRSYM      ;PRINT LABEL
03449  2BE2              ;*********************************
03450  2BE2  38                 SEC             ;MATCH SET CARRY
03451  2BE3  60          MATEXT RTS             ;RETURN
03452  2BE4              ;*********************************
03453  2BE4              ; PRINT SYMBOL
03454  2BE4              ;*********************************
03455  2BE4  85 DD       STRSYM STA ZEROUR
03456  2BE6  84 DE              STY ZEROUR+1
03457  2BE8  A0 00              LDY #$00
03458  2BEA  B1 DD       STRSY1 LDA (ZEROUR),Y
03459  2BEC  F0 0A              BEQ SYEXIT
03460  2BEE  C9 20              CMP #$20
03461  2BF0  F0 06              BEQ SYEXIT
03462  2BF2  20 11 1C           JSR PCHAR
03463  2BF5  C8                 INY
03464  2BF6  D0 F2              BNE STRSY1






DISASSEMBLER64......PAGE 0076

LINE# LOC   CODE        LINE


03465  2BF8  60          SYEXIT RTS
03466  2BF9  B1 DD       FIXSYM LDA (ZEROUR),Y
03467  2BFB  F0 FB              BEQ SYEXIT
03468  2BFD  20 11 1C           JSR PCHAR
03469  2C00  C8                 INY
03470  2C01  4C F9 2B           JMP FIXSYM
03471  2C04              ;*********************************
03472  2C04              ; INC SYMBOL ADDRESS TABLE POINTER
03473  2C04              ;*********************************
03474  2C04  18          NEXTC  CLC
03475  2C05  AD 39 10           LDA SYMBOP
03476  2C08  69 08              ADC #$08
03477  2C0A  8D 39 10           STA SYMBOP
03478  2C0D  AD 3A 10           LDA SYMBOP+1
03479  2C10  69 00              ADC #$00
03480  2C12  8D 3A 10           STA SYMBOP+1
03481  2C15  CD 3E 10           CMP SYMBOE+1
03482  2C18  90 0A              BCC COK
03483  2C1A  D0 0A              BNE NCOK
03484  2C1C  AD 39 10           LDA SYMBOP
03485  2C1F  CD 3D 10           CMP SYMBOE
03486  2C22  B0 02              BCS NCOK
03487  2C24  18          COK    CLC
03488  2C25  60                 RTS
03489  2C26  38          NCOK   SEC
03490  2C27  60                 RTS
03491  2C28              ;*********************************
03492  2C28  EE 39 10    INCC   INC SYMBOP
03493  2C2B  D0 03              BNE *+5
03494  2C2D  EE 3A 10           INC SYMBOP+1
03495  2C30  60                 RTS
03496  2C31              ;*********************************
03497  2C31              ; GET BYTE FROM ADDRESS TABLE
03498  2C31              ;*********************************
03499  2C31  AD 39 10    GETC   LDA SYMBOP
03500  2C34  85 DD              STA ZEROUR
03501  2C36  AD 3A 10           LDA SYMBOP+1
03502  2C39  85 DE              STA ZEROUR+1
03503  2C3B  A0 00              LDY #$00
03504  2C3D  B1 DD              LDA (ZEROUR),Y
03505  2C3F  60                 RTS
03506  2C40              ;*********************************
03507  2C40              ; PRINT EQUATE TABLE
03508  2C40              ;*********************************
03509  2C40  38          EQUPRT SEC
03510  2C41  AD 30 10           LDA TABINS
03511  2C44  ED 32 10           SBC TABINE
03512  2C47  8D 51 10           STA TEMP
03513  2C4A  AD 31 10           LDA TABINS+1
03514  2C4D  ED 33 10           SBC TABINE+1
03515  2C50  0D 51 10           ORA TEMP
03516  2C53  F0 55              BEQ EQUEND
03517  2C55  20 5E 23           JSR SORT
03518  2C58  20 61 20           JSR COMENT
03519  2C5B  20 29 22           JSR PRTOTH






DISASSEMBLER64......PAGE 0077

LINE# LOC   CODE        LINE


03520  2C5E  A9 27              LDA #<EQUATE
03521  2C60  A0 2F              LDY #>EQUATE
03522  2C62  20 BB 1B           JSR STRPNT
03523  2C65  20 FE 1A           JSR NEWLIN
03524  2C68  20 61 20           JSR COMENT
03525  2C6B  20 03 23    EQUOP  JSR GETI
03526  2C6E  8D 45 10           STA WORKED
03527  2C71  20 FA 22           JSR INCI
03528  2C74  20 03 23           JSR GETI
03529  2C77  8D 46 10           STA WORKED+1
03530  2C7A  20 29 22           JSR PRTOTH
03531  2C7D  20 5C 2B           JSR SYMOP
03532  2C80  B0 03              BCS EQUOP1
03533  2C82  20 BF 20           JSR PWORK
03534  2C85  A9 3D       EQUOP1 LDA #'='
03535  2C87  20 11 1C           JSR PCHAR
03536  2C8A  A9 24              LDA #'$'
03537  2C8C  20 11 1C           JSR PCHAR
03538  2C8F  20 C2 20           JSR PWORKD
03539  2C92  20 FE 1A           JSR NEWLIN
03540  2C95              ;*********************************
03541  2C95  20 FA 22           JSR INCI
03542  2C98  AD 2F 10           LDA TABINP+1
03543  2C9B  CD 33 10           CMP TABINE+1
03544  2C9E  90 CB              BCC EQUOP
03545  2CA0  D0 08              BNE EQUEND
03546  2CA2  AD 2E 10           LDA TABINP
03547  2CA5  CD 32 10           CMP TABINE
03548  2CA8  90 C1              BCC EQUOP
03549  2CAA              ;*********************************
03550  2CAA  20 61 20    EQUEND JSR COMENT
03551  2CAD  4C 9A 22           JMP RESINT
03552  2CB0              ;*********************************
03553  2CB0              ; READ CROSS REFERENCE SEQ FILE
03554  2CB0              ;      INTO SYMBOL TABLE
03555  2CB0              ;*********************************
03556  2CB0              ; READ FILE NAME DEFAULT ON CR
03557  2CB0              ;*********************************
03558  2CB0  A9 77       READXX LDA #<MSS3
03559  2CB2  A0 2E              LDY #>MSS3
03560  2CB4  20 BB 1B           JSR STRPNT
03561  2CB7  20 E4 FF    SOP2   JSR GETIN
03562  2CBA  F0 FB              BEQ SOP2
03563  2CBC  C9 30              CMP #'0'
03564  2CBE  F0 04              BEQ SOP3
03565  2CC0  C9 31              CMP #'1'
03566  2CC2  D0 F3              BNE SOP2
03567  2CC4  20 D2 FF    SOP3   JSR CHROUT
03568  2CC7  8D E6 10           STA TEXTER
03569  2CCA              ;*********************************
03570  2CCA  A9 B9              LDA #<LOADF
03571  2CCC  A0 2E              LDY #>LOADF
03572  2CCE  20 BB 1B           JSR STRPNT
03573  2CD1              ;*********************************
03574  2CD1  20 1C 1B           JSR INSTNG






DISASSEMBLER64......PAGE 0078

LINE# LOC   CODE        LINE


03575  2CD4  F0 20              BEQ READXF
03576  2CD6  98                 TYA
03577  2CD7  48                 PHA
03578  2CD8  20 AB 14           JSR INITD
03579  2CDB  68                 PLA
03580  2CDC  A8                 TAY
03581  2CDD  A2 00              LDX #$00
03582  2CDF  BD 29 2E    XFILE1 LDA NAMS,X
03583  2CE2  99 5C 10           STA BUF,Y
03584  2CE5  C8                 INY
03585  2CE6  E8                 INX
03586  2CE7  E0 04              CPX #$04
03587  2CE9  D0 F4              BNE XFILE1
03588  2CEB  98                 TYA
03589  2CEC  A0 10              LDY #>BUF
03590  2CEE  A2 5C              LDX #<BUF
03591  2CF0  20 BD FF           JSR SETNAM
03592  2CF3  4C FF 2C           JMP REOPEN
03593  2CF6              ;*********************************
03594  2CF6              ; DEFAULT FILENAME XRFF0000
03595  2CF6              ;********************************
03596  2CF6  A9 0E       READXF LDA #$0E
03597  2CF8  A0 2E              LDY #>NAME
03598  2CFA  A2 1F              LDX #<NAME
03599  2CFC  20 BD FF           JSR SETNAM
03600  2CFF              ;*********************************
03601  2CFF              ; OPEN FILE
03602  2CFF              ;********************************
03603  2CFF  A9 03       REOPEN LDA #$03
03604  2D01  A2 08              LDX #$08
03605  2D03  A0 03              LDY #$03
03606  2D05  20 BA FF           JSR SETLFS
03607  2D08  20 C0 FF           JSR OPEN
03608  2D0B              ;********************************
03609  2D0B              ; CHECK FOR DISK ERROR
03610  2D0B              ;*********************************
03611  2D0B  20 C4 1A           JSR DISERR
03612  2D0E  B0 3F              BCS QUITXX
03613  2D10              ;*********************************
03614  2D10              ; OUTPUT LOADING MESSAGE
03615  2D10              ;*********************************
03616  2D10  A9 D7              LDA #<LOADM     ;MSG LOW
03617  2D12  A0 2E              LDY #>LOADM     ;MSG HIGH
03618  2D14  20 BB 1B           JSR STRPNT      ;OUTPUT MSG
03619  2D17              ;*********************************
03620  2D17  A9 00              LDA #$00        ;COL COUNTER
03621  2D19  8D 51 10           STA TEMP
03622  2D1C              ;*********************************
03623  2D1C              ; INPUT AND LOAD SYMBOL TABLE
03624  2D1C              ;*********************************
03625  2D1C  20 60 2D    READX  JSR READS       ;INPUT SYMBOL
03626  2D1F  20 DE 2D           JSR PUTC
03627  2D22  20 06 2E           JSR LINES       ;SCREEN OUT
03628  2D25  20 E1 FF           JSR STOP
03629  2D28  F0 05              BEQ QUITX






DISASSEMBLER64......PAGE 0079

LINE# LOC   CODE        LINE


03630  2D2A  20 B7 FF           JSR READST
03631  2D2D  F0 ED              BEQ READX
03632  2D2F              ;*********************************
03633  2D2F              ;    CLOSE OPEN FILE
03634  2D2F              ;*********************************
03635  2D2F  A9 03       QUITX  LDA #$03
03636  2D31  20 C3 FF           JSR CLOSE
03637  2D34  20 CC FF           JSR CLRCHN
03638  2D37  20 F3 20           JSR CRLF
03639  2D3A              ;*********************************
03640  2D3A              ; SET END OF TABLE
03641  2D3A              ;*********************************
03642  2D3A  AD 39 10           LDA SYMBOP
03643  2D3D  8D 3D 10           STA SYMBOE
03644  2D40  AD 3A 10           LDA SYMBOP+1
03645  2D43  8D 3E 10           STA SYMBOE+1
03646  2D46              ;*********************************
03647  2D46              ; OUTPUT LOADED MESSAGE
03648  2D46              ;*********************************
03649  2D46  A9 F5              LDA #<LOADC
03650  2D48  A0 2E              LDY #>LOADC
03651  2D4A  20 BB 1B           JSR STRPNT
03652  2D4D  18                 CLC
03653  2D4E  60                 RTS
03654  2D4F              ;*********************************
03655  2D4F              ; OUTPUT ERROR MESSAGE
03656  2D4F              ;*********************************
03657  2D4F  A9 03       QUITXX LDA #$03
03658  2D51  20 C3 FF           JSR CLOSE
03659  2D54  20 CC FF           JSR CLRCHN
03660  2D57  A9 0C              LDA #<LOADE
03661  2D59  A0 2F              LDY #>LOADE
03662  2D5B  20 BB 1B           JSR STRPNT
03663  2D5E  38                 SEC
03664  2D5F  60                 RTS
03665  2D60              ;*********************************
03666  2D60              ; READ SYMBOL FROM FILE
03667  2D60              ;*********************************
03668  2D60  A2 03       READS  LDX #$03        ;FILE NUMBER
03669  2D62  20 C6 FF           JSR CHKIN       ;FILE IS INPUT
03670  2D65  A0 02              LDY #$02        ;COUNTER
03671  2D67  20 CF FF           JSR CHRIN       ;INPUT CHAR
03672  2D6A  99 DA 10           STA SYMBUF,Y    ;1ST CHAR
03673  2D6D  20 D2 FF           JSR CHROUT      ;PRITN IT
03674  2D70  C8                 INY             ;INC POINTER
03675  2D71  20 CF FF    READY  JSR CHRIN       ;NEXT CHAR
03676  2D74  99 DA 10           STA SYMBUF,Y    ;STORE
03677  2D77  20 D2 FF           JSR CHROUT      ;PRINT IT
03678  2D7A  C8                 INY             ;INC OFFSET
03679  2D7B  C0 08              CPY #$08        ;8 IS FOR NULL
03680  2D7D  D0 F2              BNE READY       ;BRANCH IF NOT
03681  2D7F  A9 00              LDA #$00        ;NULL MARKER
03682  2D81  99 DA 10           STA SYMBUF,Y    ;STORE AT END
03683  2D84              ;*********************************
03684  2D84  20 05 21           JSR SPACE       ;PRINT SPACE






DISASSEMBLER64......PAGE 0080

LINE# LOC   CODE        LINE


03685  2D87  20 D0 20           JSR DOLLAR      ;PRINT $ SIGN
03686  2D8A              ;*********************************
03687  2D8A  AD E6 10           LDA TEXTER
03688  2D8D  C9 30              CMP #'0'
03689  2D8F  F0 2F              BEQ STDREF
03690  2D91              ;*********************************
03691  2D91  A0 00              LDY #$00
03692  2D93  20 A0 2D           JSR XGET
03693  2D96  C8                 INY
03694  2D97  20 A0 2D           JSR XGET
03695  2D9A  20 CF FF           JSR CHRIN       ;GET $0D
03696  2D9D  4C CC FF           JMP CLRCHN
03697  2DA0              ;*********************************
03698  2DA0  20 CF FF    XGET   JSR CHRIN
03699  2DA3  20 D2 FF           JSR CHROUT
03700  2DA6  20 6C 1B           JSR BINARY
03701  2DA9  0A                 ASL A
03702  2DAA  0A                 ASL A
03703  2DAB  0A                 ASL A
03704  2DAC  0A                 ASL A
03705  2DAD  99 DA 10           STA SYMBUF,Y
03706  2DB0  20 CF FF           JSR CHRIN
03707  2DB3  20 D2 FF           JSR CHROUT
03708  2DB6  20 6C 1B           JSR BINARY
03709  2DB9  19 DA 10           ORA SYMBUF,Y
03710  2DBC  99 DA 10           STA SYMBUF,Y
03711  2DBF  60                 RTS
03712  2DC0              ;*********************************
03713  2DC0  A0 00       STDREF LDY #$00        ;ZERO OFFSET
03714  2DC2  20 CF FF           JSR CHRIN       ;HIGH BYTES
03715  2DC5  99 DA 10           STA SYMBUF,Y    ;
03716  2DC8  8C 54 10           STY SAVY        ;
03717  2DCB  20 A5 1B           JSR PRBYT       ;
03718  2DCE  AC 54 10           LDY SAVY        ;
03719  2DD1  C8                 INY             ;
03720  2DD2  20 CF FF           JSR CHRIN       ;LOW BYTE
03721  2DD5  99 DA 10           STA SYMBUF,Y    ;
03722  2DD8  20 A5 1B           JSR PRBYT       ;
03723  2DDB  4C CC FF           JMP CLRCHN      ;KEYBOARD INPUT
03724  2DDE              ;*********************************
03725  2DDE              ; MOVE SYMBOL FROM BUFFER TO TABLE
03726  2DDE              ;*********************************
03727  2DDE  A0 00       PUTC   LDY #$00
03728  2DE0  AD 39 10           LDA SYMBOP
03729  2DE3  85 DD              STA ZEROUR
03730  2DE5  AD 3A 10           LDA SYMBOP+1
03731  2DE8  85 DE              STA ZEROUR+1
03732  2DEA  B9 DA 10    PUT    LDA SYMBUF,Y
03733  2DED  91 DD              STA (ZEROUR),Y
03734  2DEF  C8                 INY
03735  2DF0  C0 09              CPY #$09
03736  2DF2  D0 F6              BNE PUT
03737  2DF4  18                 CLC
03738  2DF5  AD 39 10           LDA SYMBOP
03739  2DF8  69 09              ADC #$09






DISASSEMBLER64......PAGE 0081

LINE# LOC   CODE        LINE


03740  2DFA  8D 39 10           STA SYMBOP
03741  2DFD  AD 3A 10           LDA SYMBOP+1
03742  2E00  69 00              ADC #$00
03743  2E02  8D 3A 10           STA SYMBOP+1
03744  2E05  60                 RTS
03745  2E06              ;*********************************
03746  2E06              ; OUTPUT SYMBOL IN 4 COLUMNS
03747  2E06              ;*********************************
03748  2E06  EE 51 10    LINES  INC TEMP
03749  2E09  A9 03              LDA #$03
03750  2E0B  CD 51 10           CMP TEMP
03751  2E0E  F0 05              BEQ RESET
03752  2E10  A9 2E              LDA #'.'
03753  2E12  4C D2 FF           JMP CHROUT
03754  2E15  A9 00       RESET  LDA #$00
03755  2E17  8D 51 10           STA TEMP
03756  2E1A  A9 0D              LDA #$0D
03757  2E1C  4C D2 FF           JMP CHROUT
03758  2E1F              ;*********************************
03759  2E1F              ;   COMMAND MESSAGES
03760  2E1F              ;*********************************
03761  2E1F  30 3A       NAME   .BYTE '0:XRLL0000'
03762  2E29  2C 53       NAMS   .BYTE ',S,R'
03763  2E2D              ;*********************************
03764  2E2D  0D          MSS1   .BYTE $0D
03765  2E2E              ; .BYTE 'SYMBOLIC DISASSEMBLY (Y OR N/CR)? '
03766  2E2E  53 59              .BYTE 'SYMBOLIC DISASSEMBLY (Y/CR OR N)? '

03767  2E50  00                 .BYTE 0
03768  2E51  0D          MSS2   .BYTE $0D
03769  2E52  4C 4F              .BYTE 'LOAD USER SYMBOL TABLE (Y OR N/CR)?
 '
03770  2E76  00                 .BYTE 0
03771  2E77  0D          MSS3   .BYTE $0D
03772  2E78  46 4F              .BYTE 'FORMAT 0=STANDARD 1=ASCII : '
03773  2E94  00                 .BYTE 0
03774  2E95  0D          MSS4   .BYTE $0D
03775  2E96  41 50              .BYTE 'APPEND DEFAULT TABLE (Y OR N/CR)? '

03776  2EB8  00                 .BYTE 0
03777  2EB9  0D          LOADF  .BYTE $0D
03778  2EBA  53 59       .BYTE  'SYMBOL TABLE(CR OR D:NAME): '
03779  2ED6  00          .BYTE  0
03780  2ED7  0D          LOADM  .BYTE $0D,$0D
03780  2ED8  0D 
03781  2ED9  52 45       .BYTE  'READING SYMBOL TABLE FILE'
03782  2EF2  0D          .BYTE  $0D,$0D
03782  2EF3  0D 
03783  2EF4  00          .BYTE  0
03784  2EF5  0D          LOADC  .BYTE $0D
03785  2EF6  53 59       .BYTE  'SYMBOL TABLE LOADED'
03786  2F09  0D          .BYTE  $0D,$0D
03786  2F0A  0D 
03787  2F0B  00          .BYTE  0
03788  2F0C  0D          LOADE  .BYTE $0D
03789  2F0D  53 59       .BYTE  'SYMBOL TABLE NOT LOADED'
03790  2F24  0D          .BYTE  $0D,$0D
03790  2F25  0D 






DISASSEMBLER64......PAGE 0082

LINE# LOC   CODE        LINE


03791  2F26  00          .BYTE  0
03792  2F27              ;*********************************
03793  2F27  3B 20       EQUATE .BYTE '; EXTERNAL ADDRESS EQUATES'
03794  2F41  00                 .BYTE 0
03795  2F42              ;*********************************
03796  2F42              ; PATCH CODE AREA
03797  2F42              ;*********************************
03798  2F42              *=*+$0800
03799  3742              ;*********************************
03800  3742              ; BIT INSTRUCTION CODING
03801  3742              ;*********************************
03802  3742              BITOPT = *
03803  3742  A9 04              LDA #<MSB1      ;TABLE TYPE
03804  3744  A0 19              LDY #>MSB1
03805  3746  20 BB 1B           JSR STRPNT
03806  3749  20 E4 FF    BOP0   JSR GETIN
03807  374C  F0 FB              BEQ BOP0
03808  374E  C9 30              CMP #'0'        ;STANDARD
03809  3750  F0 12              BEQ BSC
03810  3752  C9 31              CMP #'1'        ;$2C ABS
03811  3754  F0 0E              BEQ BSC 
03812  3756  C9 32              CMP #'2'        ;$24 ZP
03813  3758  F0 0A              BEQ BSC
03814  375A  C9 33              CMP #'3'        ;$2C AND $24
03815  375C  F0 06              BEQ BSC
03816  375E  C9 0D              CMP #$0D        ;STANDARD
03817  3760  D0 E7              BNE BOP0
03818  3762  A9 30              LDA #'0'
03819  3764              BSC    = *
03820  3764  48                 PHA             ;STASH INPUT
03821  3765  20 D2 FF           JSR CHROUT      ;OUTPUT FEEDBACK
03822  3768  68                 PLA             ;POP INPUT
03823  3769  49 30              EOR #$30        ;MAKE A NUMBER
03824  376B  8D 6F 37           STA BITFLG      ;SET FLAG
03825  376E  60                 RTS
03826  376F              ;*********************************
03827  376F              ; BIT INSTRUCTION CODING FLAG
03828  376F              ;*********************************
03829  376F              BITFLG = *
03830  376F  AA                 .BYTE $AA
03831  3770              ;*********************************
03832  3770              
03833  3770              ;*********************************
03834  3770              ; SYMBOL TABLE
03835  3770              ;*********************************
03836  3770              ;  KERNAL JUMP TABLE
03837  3770              ;*********************************
03838  3770              STABLE = *
03839  3770  FF                 .BYTE $FF,$80,'IDBYTE',0
03839  3771  80 
03839  3772  49 44 
03839  3778  00 
03840  3779  FF                 .BYTE $FF,$81,'CINT  ',0
03840  377A  81 
03840  377B  43 49 






DISASSEMBLER64......PAGE 0083

LINE# LOC   CODE        LINE


03840  3781  00 
03841  3782  FF                 .BYTE $FF,$84,'IOINIT',0
03841  3783  84 
03841  3784  49 4F 
03841  378A  00 
03842  378B  FF                 .BYTE $FF,$87,'RAMTAS',0
03842  378C  87 
03842  378D  52 41 
03842  3793  00 
03843  3794  FF                 .BYTE $FF,$8A,'RESTOR',0
03843  3795  8A 
03843  3796  52 45 
03843  379C  00 
03844  379D  FF                 .BYTE $FF,$8D,'VECTOR',0
03844  379E  8D 
03844  379F  56 45 
03844  37A5  00 
03845  37A6  FF                 .BYTE $FF,$90,'SETMSG',0
03845  37A7  90 
03845  37A8  53 45 
03845  37AE  00 
03846  37AF  FF                 .BYTE $FF,$93,'SECOND',0
03846  37B0  93 
03846  37B1  53 45 
03846  37B7  00 
03847  37B8  FF                 .BYTE $FF,$96,'TKSA  ',0
03847  37B9  96 
03847  37BA  54 4B 
03847  37C0  00 
03848  37C1  FF                 .BYTE $FF,$99,'MEMTOP',0
03848  37C2  99 
03848  37C3  4D 45 
03848  37C9  00 
03849  37CA  FF                 .BYTE $FF,$9C,'MEMBOT',0
03849  37CB  9C 
03849  37CC  4D 45 
03849  37D2  00 
03850  37D3  FF                 .BYTE $FF,$9F,'SCNKEY',0
03850  37D4  9F 
03850  37D5  53 43 
03850  37DB  00 
03851  37DC  FF                 .BYTE $FF,$A2,'SETTMO',0
03851  37DD  A2 
03851  37DE  53 45 
03851  37E4  00 
03852  37E5  FF                 .BYTE $FF,$A5,'ACPTR ',0
03852  37E6  A5 
03852  37E7  41 43 
03852  37ED  00 
03853  37EE  FF                 .BYTE $FF,$A8,'CIOUT ',0
03853  37EF  A8 
03853  37F0  43 49 
03853  37F6  00 
03854  37F7  FF                 .BYTE $FF,$AB,'UNTLK ',0
03854  37F8  AB 






DISASSEMBLER64......PAGE 0084

LINE# LOC   CODE        LINE


03854  37F9  55 4E 
03854  37FF  00 
03855  3800  FF                 .BYTE $FF,$AE,'UNLSN ',0
03855  3801  AE 
03855  3802  55 4E 
03855  3808  00 
03856  3809  FF                 .BYTE $FF,$B1,'LISTEN',0
03856  380A  B1 
03856  380B  4C 49 
03856  3811  00 
03857  3812  FF                 .BYTE $FF,$B4,'TALK  ',0
03857  3813  B4 
03857  3814  54 41 
03857  381A  00 
03858  381B  FF                 .BYTE $FF,$B7,'READST',0
03858  381C  B7 
03858  381D  52 45 
03858  3823  00 
03859  3824  FF                 .BYTE $FF,$BA,'SETLFS',0
03859  3825  BA 
03859  3826  53 45 
03859  382C  00 
03860  382D  FF                 .BYTE $FF,$BD,'SETNAM',0
03860  382E  BD 
03860  382F  53 45 
03860  3835  00 
03861  3836  FF                 .BYTE $FF,$C0,'OPEN  ',0
03861  3837  C0 
03861  3838  4F 50 
03861  383E  00 
03862  383F  FF                 .BYTE $FF,$C3,'CLOSE ',0
03862  3840  C3 
03862  3841  43 4C 
03862  3847  00 
03863  3848  FF                 .BYTE $FF,$C6,'CHKIN ',0
03863  3849  C6 
03863  384A  43 48 
03863  3850  00 
03864  3851  FF                 .BYTE $FF,$C9,'CHKOUT',0
03864  3852  C9 
03864  3853  43 48 
03864  3859  00 
03865  385A  FF                 .BYTE $FF,$CC,'CLRCHN',0
03865  385B  CC 
03865  385C  43 4C 
03865  3862  00 
03866  3863  FF                 .BYTE $FF,$CF,'CHRIN ',0
03866  3864  CF 
03866  3865  43 48 
03866  386B  00 
03867  386C  FF                 .BYTE $FF,$D2,'CHROUT',0
03867  386D  D2 
03867  386E  43 48 
03867  3874  00 
03868  3875  FF                 .BYTE $FF,$D5,'LOAD  ',0






DISASSEMBLER64......PAGE 0085

LINE# LOC   CODE        LINE


03868  3876  D5 
03868  3877  4C 4F 
03868  387D  00 
03869  387E  FF                 .BYTE $FF,$D8,'SAVE  ',0
03869  387F  D8 
03869  3880  53 41 
03869  3886  00 
03870  3887  FF                 .BYTE $FF,$DB,'SETTIM',0
03870  3888  DB 
03870  3889  53 45 
03870  388F  00 
03871  3890  FF                 .BYTE $FF,$DE,'RDTIM ',0
03871  3891  DE 
03871  3892  52 44 
03871  3898  00 
03872  3899  FF                 .BYTE $FF,$E1,'STOP  ',0
03872  389A  E1 
03872  389B  53 54 
03872  38A1  00 
03873  38A2  FF                 .BYTE $FF,$E4,'GETIN ',0
03873  38A3  E4 
03873  38A4  47 45 
03873  38AA  00 
03874  38AB  FF                 .BYTE $FF,$E7,'CLALL ',0
03874  38AC  E7 
03874  38AD  43 4C 
03874  38B3  00 
03875  38B4  FF                 .BYTE $FF,$EA,'UDTIM ',0
03875  38B5  EA 
03875  38B6  55 44 
03875  38BC  00 
03876  38BD  FF                 .BYTE $FF,$ED,'SCREEN',0
03876  38BE  ED 
03876  38BF  53 43 
03876  38C5  00 
03877  38C6  FF                 .BYTE $FF,$F0,'PLOT  ',0
03877  38C7  F0 
03877  38C8  50 4C 
03877  38CE  00 
03878  38CF  FF                 .BYTE $FF,$F3,'IOBASE',0
03878  38D0  F3 
03878  38D1  49 4F 
03878  38D7  00 
03879  38D8              ;*********************************
03880  38D8  FF                 .BYTE $FF,$FA,'NMIVEC',0
03880  38D9  FA 
03880  38DA  4E 4D 
03880  38E0  00 
03881  38E1  FF                 .BYTE $FF,$FC,'RESVEC',0
03881  38E2  FC 
03881  38E3  52 45 
03881  38E9  00 
03882  38EA  FF                 .BYTE $FF,$FE,'IRQVEC',0
03882  38EB  FE 
03882  38EC  49 52 






DISASSEMBLER64......PAGE 0086

LINE# LOC   CODE        LINE


03882  38F2  00 
03883  38F3              ;*********************************
03884  38F3  00          UTABLE .BYTE 0
03885  38F4              ;*********************************
03886  38F4              .END
03887  38F4              ;*********************************
03888  38F4              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSBIT   1F4A    ABSEXT   1F6F    ABSLUT   1F4B    ABSX     1F70
 ABSY     1F76    AC0      25AE    AC1      25B1    ACC      1EFF
 ACHECK   259C    ADRS     104F    AFILE    1675    AGET     16A9
 AGET1    16B5    ALINE    25DF    ALOP     25F1    AOP      1641
 AOP1     1706    AOP2     1730    AOP3     1755    AOPX     1701
 ASC      1772    ASCCCC   252A    ASCI1    2557    ASCII    254C
 ASCIIQ   2585    ASCKK    2541    B0000    1E18    BASIC    100D
 BINARY   1B6C    BITFLG   376F    BITOPT   3742    BOP      166C
 BOP0     3749    BSC      3764    BSTUB    0001    BUF      105C
 BYABIT   1DE7    BYTES    25B4    BYTESX   25DC    BYTT     1DBF
 BYZBIT   1DC2    CASCII   2634    CDATA    10E7    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COK      2C24    COMENT   2061    COMET    2067
 COMOPT   101D    COMPT    2077    CONST0   1D21    CONST1   1D26
 CPASS    1015    CRLF     20F3    CRLFPR   1C5B    CRNO     1B90
 CRNO1    1B9D    CRYS     1B83    CRYS1    1B9B    CSHORT   2075
 DATABE   10EF    DATABP   10EB    DATABS   10ED    DATAO1   24B8
 DATAO2   24EE    DATAOP   24A9    DATUT    2596    DBYTES   2640
 DBYTEX   266D    DECSL    2142    DEVICE   1019    DISA     1230
 DISASS   1221    DISB     125E    DISC     12ED    DISERR   1AC4
 DISFUL   12EA    DISL     1D94    DISL1    1DA5    DLOOA    1AEF
 DLOOC    1AE5    DLOOE    1AD9    DLOOP    128F    DOLLAR   20D0
 DONE     1364    DONED    1345    DOP      136D    DOP2     1639
 DOP3     163B    DSLINE   1D7D    EA       1020    EAGOL    1028
 EAOUT    102C    EAS      10E4    EASCI1   2618    EASCII   261D
 EFILE    2051    ENDAX    24B5    ENDDAT   2599    EPASS    1014
 EQUATE   2F27    EQUEND   2CAA    EQUINT   2B35    EQUOP    2C6B
 EQUOP1   2C85    EQUPRT   2C40    ERRCT    105A    FILE     158D
 FILEOK   1587    FINAL    1DBC    FINISH   1C48    FIXSYM   2BF9
 FOP1     17AE    FOP2     17B0    FOROPT   101C    FORWRD   1FE9
 GETBYT   1B4F    GETC     2C31    GETI     2303    GETIN    FFE4
 GETOPE   277E    GETSL    212C    GETWRD   1B2B    GFILE0   157B
 HEADER   1C7A    HEADES   1CCD    HEADFX   1CF5    HEADOK   1CE7
 HEADSY   1CE8    HEXA     1D11    ILLEGL   1EBE    ILLMSG   217E
 ILLOP    275D    IMEXIT   1F39    IMMEDT   1F04    IMPLI1   1F8A
 IMPLID   1F7C    IMPONE   1F89    INCC     2C28    INCI     22FA
 INCIE    22F2    INCSL    2123    INDRCT   1F96    INDX     1FAB
 INDY     1FB4    INEND    1B4E    INENX    1B6B    INIT     1856
 INITD    14AB    INITIN   2262    INSTN1   1B1E    INSTNG   1B1C








SYMBOL TABLE

SYMBOL VALUE
 INTCH    2321    INTCHA   2312    INTCHK   231E    INTEND   235A
 INTEXT   22F0    INTMAT   235C    INTOUT   2449    INTPR    2454
 INTPRM   247B    INTPRS   2476    INTPRT   2433    INTSA    214E
 INTSET   2274    IPASS    1013    ISKIP    1EF8    LARGE    23C4
 LINECK   1A85    LINECO   1AC3    LINECT   1058    LINEFL   10C0
 LINEOK   1CBC    LINES    2E06    LISTCT   1057    LOADC    2EF5
 LOADE    2F0C    LOADF    2EB9    LOADM    2ED7    LOOP1    244F
 LOOP2    24A3    LPAREN   20D5    LTITLE   1D46    LTITLS   1D70
 MATCH    2B92    MATCHS   2BB2    MATCHT   2BD9    MATEXT   2BE3
 MATONE   2BB1    MBYTE    272C    MCODES   28C0    MDBYTE   273C
 MEMSIZ   0037    MNAMES   27E8    MNEMON   2745    MNLOOP   274F
 MODES    29C0    MPASS    11F2    MSA1     1989    MSA2     19AB
 MSA3     19C3    MSAOP    196A    MSB1     1904    MSB4     1A45
 MSB5     1A65    MSD1     1871    MSD2     1883    MSD4     1893
 MSD4A    18AD    MSD5     18C0    MSF1     1801    MSF2     181D
 MSG      17B4    MSG1     1831    MSG2     1858    MSG5     19D9
 MSGBIT   215B    MSGBZP   2163    MSGDIS   120E    MSGEND   2179
 MSGERR   1204    MSR1     18DC    MSS1     2E2D    MSS2     2E51
 MSS3     2E77    MSS4     2E95    MWORD    2734    NAME     2E1F
 NAMS     2E29    NASCII   2625    NBUF     10C4    NCHARS   10C3
 NCOK     2C26    NDATA    10E9    NEGREL   2175    NEWEXT   1B1B
 NEWLIN   1AFE    NEXLIN   1C6D    NEXPTR   1C6A    NEXPTS   1CBD
 NEXTBY   2713    NEXTC    2C04    NEXTP    12C0    NEXTSL   210A
 NOASC    263E    NOBINC   272A    NOFILE   158B    NOHEX    1B7F
 NOID     159E    NOINC    2121    NOPRT    161E    NOTABS   16EC
 NPRAD    20AD    NPRAD1   20AE    OFFSET   1024    OFILE    15A1
 OFILE1   15B4    OFILE2   15B9    OFILE3   15DC    OFILE4   15EB
 OFILED   1596    ONEBIT   1E4C    ONEBX    1E7B    ONEBY    1E78
 ONEBYT   1E4D    OPCPUT   1EB7    OPCSYM   1EBA    OPEN     FFC0
 OPERN1   2771    OPERND   2779    ORGIN    203B    OUFILE   1560
 OUTPUT   101A    P1       20A4    PAGECT   1055    PAGER1   1CB6
 PASS     1012    PAUS1    257E    PAUSE    12B9    PCHAR    1C11
 PEXIT    1C46    PFILE0   138D    PFILE1   138F    PMSG     11F8
 POSREL   2171    POVER    20A1    PRAD     208A    PRBYT    1BA5
 PRBYTS   1B9F    PREND    24A0    PRFILE   1485    PRIN     1C26
 PRINT    1620    PRLA     2080    PRO2RD   1461    PROGED   13D5
 PROGM    1852    PROGOK   14AA    PROGRD   13C0    PRTASS   2764
 PRTDAF   2221    PRTDAL   16D0    PRTDAS   16BD    PRTDAT   2205
 PRTEST   21FE    PRTGET   15EC    PRTNEX   16C8    PRTNU1   1BE0
 PRTNU2   1BE7    PRTNU3   1BE8    PRTNUM   1BD7    PRTOK    2493
 PRTON1   21A0    PRTONE   2192    PRTOT1   2234    PRTOTH   2229
 PRTPAG   1BCC    PRTTH1   21F3    PRTTHE   21CD    PRTTW1   21C2
 PRTTWO   21A8    PSELEC   20B6    PUIT     22CD    PUT      2DEA
 PUTC     2DDE    PUTI     22B3    PWORK    20BF    PWORKD   20C2
 Q00000   2606    QUITS    12F3    QUITX    2D2F    QUITXX   2D4F
 QUTERR   130A    RANG     224E    RANGE    223C    READS    2D60
 READST   FFB7    READX    2D1C    READXF   2CF6    READXX   2CB0
 READY    2D71    RELATV   1FC0    RELND    1FF2    RELNEG   201D
 RELP     202F    RELPC    2010    RELPM    2021    RELPUT   200C
 RELSYM   200F    REOPEN   2CFF    RESET    2E15    RESINT   229A
 ROPT     1018    ROUT     2260    RPAREN   20DA    S3       23AC
 SA       101E    SAGOL    1026    SAOUT    102A    SAVA     1052
 SAVEE    104D    SAVEP    1049    SAVES    104B    SAVINT   2281
 SAVX     1053    SAVY     1054    SBLOK    2725    SCREN    1C3A
 SCRNO1   1D07    SCROFF   1CF8    SCRON    1D08    SELECT   1022








SYMBOL TABLE

SYMBOL VALUE
 SEMIC    20CB    SETLFS   FFBA    SETNAM   FFBD    SEXIT    1BCB
 SKIPER   2532    SLOK     211C    SMALL    23C7    SMALLP   1036
 SMALLS   1034    SOP      2AC0    SOP1     2AD4    SOP2     2CB7
 SOP3     2CC4    SOP4     2B0B    SORT     235E    SORT1    2373
 SORT2    2382    SORT3    2404    SORT4    2430    SORTOK   242D
 SOUT     1BC1    SPAC     20FD    SPAC6    20F8    SPACE    2105
 SPACM    20FA    SPASS    1016    SSET     2B28    STABLE   3770
 STARTD   100F    STARTS   14C5    STDREF   2DC0    STOP     FFE1
 STRPNT   1BBB    STRSY1   2BEA    STRSYM   2BE4    SUBP     2794
 SUBS     27CC    SUBS1    27B0    SY       2B1D    SYEXIT   2BF8
 SYM      2B48    SYM1     2B61    SYM2     2B64    SYMBOE   103D
 SYMBOL   1038    SYMBOP   1039    SYMBOS   103B    SYMBUF   10DA
 SYMEND   2B90    SYMOP    2B5C    SYTAB    2AE9    T2       23AF
 TABINE   1032    TABINP   102E    TABINS   1030    TDATA    10F1
 TEMP     1051    TEXTER   10E6    TWOB     1EBD    TWOBIT   1E81
 TWOBX    1EB4    TWOBY    1EB1    TWOBYT   1E82    UTABLE   38F3
 UYMBOE   1043    UYMBOP   103F    UYMBOS   1041    VERSON   10C2
 VICREG   D011    WIND1    1543    WIND2    1545    WINDOP   1507
 WINDOW   101B    WORD1    2685    WORDM    26CB    WORDPT   26BF
 WORDS    2670    WORDS2   26FB    WORDS3   270D    WORDSX   26BC
 WORDSY   26C5    WORDXX   2710    WORKED   1045    WORKER   1047
 WREADY   867E    WRITE    184E    XFILE1   2CDF    XGET     2DA0
 XINDEX   20DF    XOP0     1789    XOP1     1799    XOP2     179B
 XOPT     1017    XTITLE   1D2B    XTITLS   1D63    YINDEX   20E9
 YSHEX    1B81    ZERBIT   1F3A    ZEROPG   1F3B    ZEROUR   00DD
 ZEROX    1F3E    ZEROY    1F44   

END OF ASSEMBLY
PDISASS64NL.ASM......PAGE 0001

LINE# LOC   CODE        LINE































































DISASSEMBLER64......PAGE 0002

LINE# LOC   CODE        LINE


00040  100F              .LIB   DIS.ASM
00364  136D              .END
00366  136D              .LIB   OPTION.ASM
01028  1A85              .END
01030  1A85              .LIB   UTIL.ASM
01460  1D7D              .END
01462  1D7D              .LIB   MODE.ASM
02212  223C              .END
02214  223C              .LIB   INTERNAL.ASM
02540  24A9              .END
02542  24A9              .LIB   ASC.ASM
02886  2745              .END
02888  2745              .LIB   TABLE.ASM
03266  2AC0              .END
03268  2AC0              .LIB   SYM.ASM
03886  38F4              .END
ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ABSBIT   1F4A    ABSEXT   1F6F    ABSLUT   1F4B    ABSX     1F70
 ABSY     1F76    AC0      25AE    AC1      25B1    ACC      1EFF
 ACHECK   259C    ADRS     104F    AFILE    1675    AGET     16A9
 AGET1    16B5    ALINE    25DF    ALOP     25F1    AOP      1641
 AOP1     1706    AOP2     1730    AOP3     1755    AOPX     1701
 ASC      1772    ASCCCC   252A    ASCI1    2557    ASCII    254C
 ASCIIQ   2585    ASCKK    2541    B0000    1E18    BASIC    100D
 BINARY   1B6C    BITFLG   376F    BITOPT   3742    BOP      166C
 BOP0     3749    BSC      3764    BSTUB    0001    BUF      105C
 BYABIT   1DE7    BYTES    25B4    BYTESX   25DC    BYTT     1DBF
 BYZBIT   1DC2    CASCII   2634    CDATA    10E7    CHKIN    FFC6
 CHKOUT   FFC9    CHRIN    FFCF    CHROUT   FFD2    CLOSE    FFC3
 CLRCHN   FFCC    COK      2C24    COMENT   2061    COMET    2067
 COMOPT   101D    COMPT    2077    CONST0   1D21    CONST1   1D26
 CPASS    1015    CRLF     20F3    CRLFPR   1C5B    CRNO     1B90
 CRNO1    1B9D    CRYS     1B83    CRYS1    1B9B    CSHORT   2075
 DATABE   10EF    DATABP   10EB    DATABS   10ED    DATAO1   24B8
 DATAO2   24EE    DATAOP   24A9    DATUT    2596    DBYTES   2640
 DBYTEX   266D    DECSL    2142    DEVICE   1019    DISA     1230
 DISASS   1221    DISB     125E    DISC     12ED    DISERR   1AC4
 DISFUL   12EA    DISL     1D94    DISL1    1DA5    DLOOA    1AEF
 DLOOC    1AE5    DLOOE    1AD9    DLOOP    128F    DOLLAR   20D0
 DONE     1364    DONED    1345    DOP      136D    DOP2     1639
 DOP3     163B    DSLINE   1D7D    EA       1020    EAGOL    1028
 EAOUT    102C    EAS      10E4    EASCI1   2618    EASCII   261D
 EFILE    2051    ENDAX    24B5    ENDDAT   2599    EPASS    1014
 EQUATE   2F27    EQUEND   2CAA    EQUINT   2B35    EQUOP    2C6B
 EQUOP1   2C85    EQUPRT   2C40    ERRCT    105A    FILE     158D
 FILEOK   1587    FINAL    1DBC    FINISH   1C48    FIXSYM   2BF9
 FOP1     17AE    FOP2     17B0    FOROPT   101C    FORWRD   1FE9
 GETBYT   1B4F    GETC     2C31    GETI     2303    GETIN    FFE4
 GETOPE   277E    GETSL    212C    GETWRD   1B2B    GFILE0   157B








SYMBOL TABLE

SYMBOL VALUE
 HEADER   1C7A    HEADES   1CCD    HEADFX   1CF5    HEADOK   1CE7
 HEADSY   1CE8    HEXA     1D11    ILLEGL   1EBE    ILLMSG   217E
 ILLOP    275D    IMEXIT   1F39    IMMEDT   1F04    IMPLI1   1F8A
 IMPLID   1F7C    IMPONE   1F89    INCC     2C28    INCI     22FA
 INCIE    22F2    INCSL    2123    INDRCT   1F96    INDX     1FAB
 INDY     1FB4    INEND    1B4E    INENX    1B6B    INIT     1856
 INITD    14AB    INITIN   2262    INSTN1   1B1E    INSTNG   1B1C
 INTCH    2321    INTCHA   2312    INTCHK   231E    INTEND   235A
 INTEXT   22F0    INTMAT   235C    INTOUT   2449    INTPR    2454
 INTPRM   247B    INTPRS   2476    INTPRT   2433    INTSA    214E
 INTSET   2274    IPASS    1013    ISKIP    1EF8    LARGE    23C4
 LINECK   1A85    LINECO   1AC3    LINECT   1058    LINEFL   10C0
 LINEOK   1CBC    LINES    2E06    LISTCT   1057    LOADC    2EF5
 LOADE    2F0C    LOADF    2EB9    LOADM    2ED7    LOOP1    244F
 LOOP2    24A3    LPAREN   20D5    LTITLE   1D46    LTITLS   1D70
 MATCH    2B92    MATCHS   2BB2    MATCHT   2BD9    MATEXT   2BE3
 MATONE   2BB1    MBYTE    272C    MCODES   28C0    MDBYTE   273C
 MEMSIZ   0037    MNAMES   27E8    MNEMON   2745    MNLOOP   274F
 MODES    29C0    MPASS    11F2    MSA1     1989    MSA2     19AB
 MSA3     19C3    MSAOP    196A    MSB1     1904    MSB4     1A45
 MSB5     1A65    MSD1     1871    MSD2     1883    MSD4     1893
 MSD4A    18AD    MSD5     18C0    MSF1     1801    MSF2     181D
 MSG      17B4    MSG1     1831    MSG2     1858    MSG5     19D9
 MSGBIT   215B    MSGBZP   2163    MSGDIS   120E    MSGEND   2179
 MSGERR   1204    MSR1     18DC    MSS1     2E2D    MSS2     2E51
 MSS3     2E77    MSS4     2E95    MWORD    2734    NAME     2E1F
 NAMS     2E29    NASCII   2625    NBUF     10C4    NCHARS   10C3
 NCOK     2C26    NDATA    10E9    NEGREL   2175    NEWEXT   1B1B
 NEWLIN   1AFE    NEXLIN   1C6D    NEXPTR   1C6A    NEXPTS   1CBD
 NEXTBY   2713    NEXTC    2C04    NEXTP    12C0    NEXTSL   210A
 NOASC    263E    NOBINC   272A    NOFILE   158B    NOHEX    1B7F
 NOID     159E    NOINC    2121    NOPRT    161E    NOTABS   16EC
 NPRAD    20AD    NPRAD1   20AE    OFFSET   1024    OFILE    15A1
 OFILE1   15B4    OFILE2   15B9    OFILE3   15DC    OFILE4   15EB
 OFILED   1596    ONEBIT   1E4C    ONEBX    1E7B    ONEBY    1E78
 ONEBYT   1E4D    OPCPUT   1EB7    OPCSYM   1EBA    OPEN     FFC0
 OPERN1   2771    OPERND   2779    ORGIN    203B    OUFILE   1560
 OUTPUT   101A    P1       20A4    PAGECT   1055    PAGER1   1CB6
 PASS     1012    PAUS1    257E    PAUSE    12B9    PCHAR    1C11
 PEXIT    1C46    PFILE0   138D    PFILE1   138F    PMSG     11F8
 POSREL   2171    POVER    20A1    PRAD     208A    PRBYT    1BA5
 PRBYTS   1B9F    PREND    24A0    PRFILE   1485    PRIN     1C26
 PRINT    1620    PRLA     2080    PRO2RD   1461    PROGED   13D5
 PROGM    1852    PROGOK   14AA    PROGRD   13C0    PRTASS   2764
 PRTDAF   2221    PRTDAL   16D0    PRTDAS   16BD    PRTDAT   2205
 PRTEST   21FE    PRTGET   15EC    PRTNEX   16C8    PRTNU1   1BE0
 PRTNU2   1BE7    PRTNU3   1BE8    PRTNUM   1BD7    PRTOK    2493
 PRTON1   21A0    PRTONE   2192    PRTOT1   2234    PRTOTH   2229
 PRTPAG   1BCC    PRTTH1   21F3    PRTTHE   21CD    PRTTW1   21C2
 PRTTWO   21A8    PSELEC   20B6    PUIT     22CD    PUT      2DEA
 PUTC     2DDE    PUTI     22B3    PWORK    20BF    PWORKD   20C2
 Q00000   2606    QUITS    12F3    QUITX    2D2F    QUITXX   2D4F
 QUTERR   130A    RANG     224E    RANGE    223C    READS    2D60
 READST   FFB7    READX    2D1C    READXF   2CF6    READXX   2CB0
 READY    2D71    RELATV   1FC0    RELND    1FF2    RELNEG   201D








SYMBOL TABLE

SYMBOL VALUE
 RELP     202F    RELPC    2010    RELPM    2021    RELPUT   200C
 RELSYM   200F    REOPEN   2CFF    RESET    2E15    RESINT   229A
 ROPT     1018    ROUT     2260    RPAREN   20DA    S3       23AC
 SA       101E    SAGOL    1026    SAOUT    102A    SAVA     1052
 SAVEE    104D    SAVEP    1049    SAVES    104B    SAVINT   2281
 SAVX     1053    SAVY     1054    SBLOK    2725    SCREN    1C3A
 SCRNO1   1D07    SCROFF   1CF8    SCRON    1D08    SELECT   1022
 SEMIC    20CB    SETLFS   FFBA    SETNAM   FFBD    SEXIT    1BCB
 SKIPER   2532    SLOK     211C    SMALL    23C7    SMALLP   1036
 SMALLS   1034    SOP      2AC0    SOP1     2AD4    SOP2     2CB7
 SOP3     2CC4    SOP4     2B0B    SORT     235E    SORT1    2373
 SORT2    2382    SORT3    2404    SORT4    2430    SORTOK   242D
 SOUT     1BC1    SPAC     20FD    SPAC6    20F8    SPACE    2105
 SPACM    20FA    SPASS    1016    SSET     2B28    STABLE   3770
 STARTD   100F    STARTS   14C5    STDREF   2DC0    STOP     FFE1
 STRPNT   1BBB    STRSY1   2BEA    STRSYM   2BE4    SUBP     2794
 SUBS     27CC    SUBS1    27B0    SY       2B1D    SYEXIT   2BF8
 SYM      2B48    SYM1     2B61    SYM2     2B64    SYMBOE   103D
 SYMBOL   1038    SYMBOP   1039    SYMBOS   103B    SYMBUF   10DA
 SYMEND   2B90    SYMOP    2B5C    SYTAB    2AE9    T2       23AF
 TABINE   1032    TABINP   102E    TABINS   1030    TDATA    10F1
 TEMP     1051    TEXTER   10E6    TWOB     1EBD    TWOBIT   1E81
 TWOBX    1EB4    TWOBY    1EB1    TWOBYT   1E82    UTABLE   38F3
 UYMBOE   1043    UYMBOP   103F    UYMBOS   1041    VERSON   10C2
 VICREG   D011    WIND1    1543    WIND2    1545    WINDOP   1507
 WINDOW   101B    WORD1    2685    WORDM    26CB    WORDPT   26BF
 WORDS    2670    WORDS2   26FB    WORDS3   270D    WORDSX   26BC
 WORDSY   26C5    WORDXX   2710    WORKED   1045    WORKER   1047
 WREADY   867E    WRITE    184E    XFILE1   2CDF    XGET     2DA0
 XINDEX   20DF    XOP0     1789    XOP1     1799    XOP2     179B
 XOPT     1017    XTITLE   1D2B    XTITLS   1D63    YINDEX   20E9
 YSHEX    1B81    ZERBIT   1F3A    ZEROPG   1F3B    ZEROUR   00DD
 ZEROX    1F3E    ZEROY    1F44   

END OF ASSEMBLY

CROSS REFERENCE......PAGE    1


* ABSBIT $1F4A  1795
  ABSEXT $1F6F  1808  1813
  ABSLUT $1F4B  1799  3010
  ABSX   $1F70  1817  3011
  ABSY   $1F76  1822  3012
  AC0    $25AE  2677  2681  2683
  AC1    $25B1  2679  2684
  ACC    $1EFF  1746  3005
  ACHECK $259C  2637  2675
  ADRS   $104F   148   418   419   424   426   465   468   553   555   564

                 566   575   577   591   593   599   601   829   850   853

                 865   868  1141  1142  1151  1156  2957  2960  2961
  AFILE  $1675   767   772
  AGET   $16A9   793   797
  AGET1  $16B5   783   792   798
  ALINE  $25DF  2698  2707
  ALOP   $25F1  2718  2736
* AOP    $1641   743
  AOP1   $1706   838   900
* AOP2   $1730   860
  AOP3   $1755   878   879   891
  AOPX   $1701   831   833
  ASC    $1772   881   883   885   887   889   892
  ASCCCC $252A  2599  2605  2618
  ASCI1  $2557  2631  2635  2637
  ASCII  $254C  2633  2643  2645  2657
  ASCIIQ $2585  2638  2641  2659
  ASCKK  $2541  2620  2629
  B0000  $1E18  1546  1548  1550  1552  1572  1574  1576  1579  1582  1585

                1588  1594
  BASIC  $100D    31    36
  BINARY $1B6C  1162  1167  1178  3700  3708
  BITFLG $376F  1483  1533  1559  3824  3829
  BITOPT $3742   739  3802
  BOP    $166C   758   761
  BOP0   $3749  3806  3807  3817
  BSC    $3764  3809  3811  3813  3815  3819
  BSTUB  $0001     9    29
  BUF    $105C   163   398   513   514   633   768   774   775  1131  1161

                1166  3583  3589  3590
  BYABIT $1DE7  1490  1558
  BYTES  $25B4  2682  2688
  BYTESX $25DC  2690  2703
  BYTT   $1DBF  1479  1505  1522  1597
  BYZBIT $1DC2  1488  1532
  CASCII $2634  1725  1762  2713  2719  2754
  CDATA  $10E7   195   226   805   818   834   838   842   896   897  2559

                2563  2569  2584
  CHKIN  $FFC6    56   410   492   785  3669
  CHKOUT $FFC9    65   708  1299  1308
  CHRIN  $FFCF    57   411   413   420   493   494   495   790   793  1130

                1195  1204  3671  3675  3695  3698  3706  3714  3720
  CHROUT $FFD2    55   892  1099  1101  1103  1302  1311  1318  3567  3673

                3677  3699  3707  3753  3757  3821
  CLOSE  $FFC3    66   314   356   434   506   524   545   684   799  1068

                3636  3658







CROSS REFERENCE......PAGE    2


  CLRCHN $FFCC    59   358   435   507   685   712   800  1303  1312  3637

                3659  3696  3723
  COK    $2C24  3482  3487
  COMENT $2061  1074  1601  1941  1950  2613  2632  2663  3518  3524  3550

  COMET  $2067  1620  1811  1836  1846  1950  1953
* COMOPT $101D   101
  COMPT  $2077  1960  1963
  CONST0 $1D21  1274  1281  1443
  CONST1 $1D26  1277  1284  1444
  CPASS  $1015    92   235   289  1047  1502  1596  1753  2604  2630  2634

                2660  2689  2766  2786  3411
  CRLF   $20F3   232   454   486   808  1118  1339  2051  3638
  CRLFPR $1C5B  1326  1337  1346  1392
  CRNO   $1B90   585  1204  3316  3324
  CRNO1  $1B9D  1200  1206  1208  1211
  CRYS   $1B83   698   730   907   919  1195  3288
  CRYS1  $1B9B  1197  1199  1209
  CSHORT $2075  1956  1959
  DATABE $10EF   199   746   751  2252  2255
  DATABP $10EB   197   744   749
  DATABS $10ED   198   745   750
  DATAO1 $24B8  2560  2563  2585
  DATAO2 $24EE  2583  2589
  DATAOP $24A9  1478  2556
  DATUT  $2596  2614  2625  2661  2668
  DBYTES $2640  2684  2765
  DBYTEX $266D  2767  2781
  DECSL  $2142   462  1542  1568  1800  1801  1812  1837  1847  2104  2153

                2174  2175  2612  2664
  DEVICE $1019    97   255   274   277   282   310   318   325   335   340

                 343   351   381  1049  1119  1295  1304  1313  1338  1341

                1355  1360  1373  1424  2180  2185  2187  2646  2649  2654

  DISA   $1230   224   306
  DISASS $1221    85   214
  DISB   $125E   236   243
  DISC   $12ED   291   307
  DISERR $1AC4   521   678   782  1079  3611
  DISFUL $12EA   290   293   306
  DISL   $1D94  1484  1491  1499  1535  1554  1561  1590
  DISL1  $1DA5  1503  1509
  DLOOA  $1AEF  1102  1105
  DLOOC  $1AE5  1087  1097
  DLOOE  $1AD9  1088  1090
  DLOOP  $128F   238   241   262   268   270   285
  DOLLAR $20D0   452  1658  1688  1715  1757  1935  2022  2699  2746  2778

                2819  2856  3685
  DONE   $1364   353   358
  DONED  $1345   337   345
  DOP    $136D   217   380
  DOP2   $1639   731   734
  DOP3   $163B   733   735
  DSLINE $1D7D   262  1478
  EA     $1020   106   302   304   429   431   565   567   614   616  2070

                2074
  EAGOL  $1028   110   615   617  2231  2235
  EAOUT  $102C   112   301   303   600   602







CROSS REFERENCE......PAGE    3


  EAS    $10E4   193  2591  2594  2606  2608  2621  2623  2868  2872
  EASCI1 $2618  2731  2738
  EASCII $261D  2720  2735  2738  2742
  EFILE  $2051   308  1066  1941
  ENDAX  $24B5  2557  2561  2565
  ENDDAT $2599  2561  2670
  EPASS  $1014    91   237  1649  1679  1866  2619  2812  2843
  EQUATE $2F27  3520  3521  3793
  EQUEND $2CAA  3516  3545  3550
  EQUINT $2B35   240  3362
  EQUOP  $2C6B  3525  3544  3548
  EQUOP1 $2C85  3532  3534
  EQUPRT $2C40   260  3509
  ERRCT  $105A   159   250   251   331   332  1709  1711
  FILE   $158D   640   642
* FILEOK $1587   639
  FINAL  $1DBC  1521  1622
  FINISH $1C48   354  1326  1330  1351  1397  1420
  FIXSYM $2BF9  1997  2514  3466  3470
  FOP1   $17AE   920   923
  FOP2   $17B0   922   924
  FOROPT $101C   100   924  1955  1981  1995  2131  2147  2168  2188  2202

  FORWRD $1FE9  1879  1881
  GETBYT $1B4F  1149  1154  1161
  GETC   $2C31  3388  3391  3418  3427  3499
  GETI   $2303  2341  2357  2360  2397  2400  2411  2422  2506  2509  3525

                3528
  GETIN  $FFE4    58   267   283   878  2642  2655  3561  3806
  GETOPE $277E  2939  2944  2952
  GETSL  $212C  1486  1500  1515  1540  1566  1611  1642  1671  1674  1716

                1758  1802  1827  1877  1907  2091  2129  2141  2145  2158

                2162  2166  2700  2712  2718  2724  2747  2773  2776  2796

                2800
  GETWRD $1B2B   552   563   574   590   598   828   848   863  1140
  GFILE0 $157B   633   637
  HEADER $1C7A   257  1355
* HEADES $1CCD  1401
  HEADFX $1CF5  1417  1420
  HEADOK $1CE7  1396  1411
  HEADSY $1CE8  1415  2501
  HEXA   $1D11  1231  1236  1439
  ILLEGL $1EBE  1709  3004
  ILLMSG $217E  1740  1741  2125
  ILLOP  $275D  2918  2924
  IMEXIT $1F39  1754  1763  1773
  IMMEDT $1F04  1751  2988  3006
  IMPLI1 $1F8A  1828  1830  1832  1834
  IMPLID $1F7C  1827  3013
  IMPONE $1F89  1833  2986  2987  2995
  INCC   $2C28  3390  3417  3426  3492
  INCI   $22FA  2334  2359  2371  2399  2406  2413  2508  2521  3527  3541

  INCIE  $22F2  2319  2320  2328
  INCSL  $2123   307   423   502  1539  1565  1641  1670  1673  1751  1804

                1805  1810  1835  1845  1864  2076  2084  2144  2161  2165

                2610  2662  2775  2799  2874
  INDRCT $1F96  1841  3017







CROSS REFERENCE......PAGE    4


  INDX   $1FAB  1851  3015
  INDY   $1FB4  1857  3016
  INEND  $1B4E  1145  1153  1157
  INENX  $1B6B  1165  1174
  INIT   $1856   536   537   952
  INITD  $14AB   404   535   650   763  3578
  INITIN $2262   218  2252
  INSTN1 $1B1E  1130  1134
  INSTNG $1B1C   393   627   757  1129  1143  3574
  INTCH  $2321  2357  2374  2378
  INTCHA $2312  1979  2351
  INTCHK $231E  2302  2356
  INTEND $235A  2375  2380
  INTEXT $22F0  2303  2322
  INTMAT $235C  2369  2382
  INTOUT $2449  2498  2501
  INTPR  $2454  2506  2533
  INTPRM $247B  2517  2520
  INTPRS $2476  2513  2518
  INTPRT $2433   341  2491
  INTSA  $214E   224   415  2112
  INTSET $2274  2261  2356  2387  2487
  IPASS  $1013    90  1647  1677  1888  2810  2841
  ISKIP  $1EF8  1726  1738
  LARGE  $23C4  2426  2430
  LINECK $1A85   264  1046
  LINECO $1AC3  1048  1051  1062  1075
  LINECT $1058   158   244   247  1112  1114  2190  2191
  LINEFL $10C0   177   252   253  1056  1059  1071  1072  1115  1117
  LINEOK $1CBC  1350  1357  1386
  LINES  $2E06  3627  3748
  LISTCT $1057   157   249  1327  1328  1332  1347  1348  1393  1394  1415

  LOADC  $2EF5  3649  3650  3784
  LOADE  $2F0C  3660  3661  3788
  LOADF  $2EB9  3570  3571  3777
  LOADM  $2ED7  3616  3617  3780
  LOOP1  $244F  2504  2536
  LOOP2  $24A3  2530  2535
  LPAREN $20D5  1841  1851  1857  2027
  LTITLE $1D46  1374  1375  1450
  LTITLS $1D70  1407  1408  1456
  MATCH  $2B92  3401  3410
  MATCHS $2BB2  3412  3426
  MATCHT $2BD9  3414  3429  3446
  MATEXT $2BE3  3416  3451
  MATONE $2BB1  3420  3422
  MBYTE  $272C  1712  1713  2693  2694  2880
  MCODES $28C0  2914  3106
  MDBYTE $273C  2770  2771  2882
* MEMSIZ $0037    76
  MNAMES $27E8  2916  3021
  MNEMON $2745  1517  2911
  MNLOOP $274F  2916  2928
  MODES  $29C0  2954  3196
  MPASS  $11F2   207   227   228
  MSA1   $1989   825   826   997







CROSS REFERENCE......PAGE    5


  MSA2   $19AB   845   846  1000
  MSA3   $19C3   860   861  1003
  MSAOP  $196A   754   755   994
  MSB1   $1904   983  3803  3804
  MSB4   $1A45   904   905  1018
  MSB5   $1A65   916   917  1022
  MSD1   $1871   549   550   587   588   958
  MSD2   $1883   560   561   595   596   962
  MSD4   $1893   571   572   966
  MSD4A  $18AD   482   483   970
  MSD5   $18C0   582   583   974
  MSF1   $1801   390   391   939
  MSF2   $181D   440   441   942
  MSG    $17B4   384   385   930
  MSG1   $1831   621   622   946
  MSG2   $1858   695   696   954
  MSG5   $19D9   875   876  1006
  MSGBIT $215B  1607  1608  2120
  MSGBZP $2163  1614  1615  2121
  MSGDIS $120E   210   347   348
  MSGEND $2179  1943  1944  2124
  MSGERR $1204   209   328   329
  MSR1   $18DC   727   728   978
  MSS1   $2E2D  3284  3285  3764
  MSS2   $2E51  3313  3314  3768
  MSS3   $2E77  3558  3559  3771
  MSS4   $2E95  3321  3322  3774
  MWORD  $2734  2790  2791  2881
  NAME   $2E1F  3597  3598  3761
  NAMS   $2E29   767  3582  3762
  NASCII $2625  2714  2746
  NBUF   $10C4   180   634   659   664   670   671
  NCHARS $10C3   179   626   631   636   648   653
  NCOK   $2C26  3483  3486  3489
  NDATA  $10E9   196   791   804   830   898  2556  2564
  NEGREL $2175  1913  1914  2123
  NEWEXT $1B1B  1121  1123
  NEWLIN $1AFE   326   327   345   346   350  1112  1521  1618  1809  1834

                1844  1937  1946  1951  2702  2744  2749  2780  2821  2862

                3523  3539
  NEXLIN $1C6D  1122  1347
  NEXPTR $1C6A  1346  1358  1370  1371  1377  1384  1385
  NEXPTS $1CBD  1392  1401  1405  1406  1410  1418  1419  2534  2535
  NEXTBY $2713  2703  2730  2750  2781  2822  2824  2826  2863  2867
  NEXTC  $2C04  3402  3474
  NEXTP  $12C0   263   287
  NEXTSL $210A  1522  2069
  NOASC  $263E  2755  2757  2760
  NOBINC $272A  2870  2873  2877
  NOFILE $158B   628   641
  NOHEX  $1B7F  1180  1185  1188
  NOID   $159E   649   651
  NOINC  $2121  2072  2075  2079
  NOPRT  $161E   699   714   717
  NOTABS $16EC   759   825
  NPRAD  $20AD  1993  1996







CROSS REFERENCE......PAGE    6


  NPRAD1 $20AE  1976  1995
  OFFSET $1024   108   476   480   576   578  2093  2096
  OFILE  $15A1   653  1069
  OFILE1 $15B4   657   661
  OFILE2 $15B9   663   668
* OFILE3 $15DC   683
  OFILE4 $15EB   654   679   691
  OFILED $1596   258   648
* ONEBIT $1E4C  1637
  ONEBX  $1E7B  1659  1661
  ONEBY  $1E78  1657  1660
  ONEBYT $1E4D  1641  1781  1785  1790  1858  2989  2990  2991  2997  2998

  OPCPUT $1EB7  1648  1678  1697
  OPCSYM $1EBA  1650  1680  1699
  OPEN   $FFC0    64   520   543   677   706   781  3607
  OPERN1 $2771  1504  2941
  OPERND $2779  1520  2946
  ORGIN  $203B   259  1073  1930  2611
* OUFILE $1560   621
  OUTPUT $101A    98   254   315   317   322   324   339   344   383   642

                 643   718   719  1340  2179
  P1     $20A4  1978  1980  1988
  PAGECT $1055   156   245   248  1367  1368  1381  1383
  PAGER1 $1CB6  1382  1384
  PASS   $1012    89   220   230   234   287   288  1046  1501  1595  1646

                1676  1752  1865  1887  2603  2618  2629  2633  2659  2688

                2765  2785  2809  2840  3410
  PAUS1  $257E  2655  2656
  PAUSE  $12B9   283   284
  PCHAR  $1C11   231   451  1232  1237  1246  1287  1294  1731  1733  1735

                1747  1756  1768  1770  1772  1932  1934  1961  1969  1971

                2018  2023  2028  2033  2038  2040  2045  2047  2052  2065

                2716  2721  2727  2743  2851  2853  2921  3440  3442  3462

                3468  3535  3537
  PEXIT  $1C46  1315  1319
  PFILE0 $138D   394   396
  PFILE1 $138F   397   402
  PMSG   $11F8   208   278   279  2650  2651
  POSREL $2171  1910  1911  2122
  POVER  $20A1  1982  1984
  PRAD   $208A  1510  1605  1975  2692  2769  2789
  PRBYT  $1BA5   813  1220  1225  1612  1662  1721  1760  1923  2130  2142

                2146  2159  2163  2167  2701  2748  3717  3722
  PRBYTS $1B9F  1218  2003  2013
  PREND  $24A0  2525  2528  2534
  PRFILE $1485   405   490   512
  PRIN   $1C26  1297  1304
  PRINT  $1620   716   718
  PRLA   $2080  1660  1694  1968  1988  2007
  PRO2RD $1461   495   504
  PROGED $13D5   422   428
  PROGM  $1852   397   951
  PROGOK $14AA   522   531
  PROGRD $13C0   420   427
  PRTASS $2764  1509  2933
  PRTDAF $2221  2189  2195







CROSS REFERENCE......PAGE    7


  PRTDAL $16D0   811   817
* PRTDAS $16BD   804
  PRTDAT $2205  1603  2185  2201  2636  2934
  PRTEST $21FE  2137  2154  2179  2208
  PRTGET $15EC   644   695
  PRTNEX $16C8   808   819
  PRTNU1 $1BE0  1257  1268  1289
  PRTNU2 $1BE7  1271  1279
  PRTNU3 $1BE8  1270  1272
  PRTNUM $1BD7   333  1261  2192
  PRTOK  $2493  2524  2529
  PRTON1 $21A0  2132  2135
  PRTONE $2192  1604  2129  2691  2968  2969  2977
  PRTOT1 $2234  2203  2206
  PRTOTH $2229  1930  1942  1953  2201  3519  3530
  PRTPAG $1BCC  1253  1369
  PRTTH1 $21F3  2169  2172
  PRTTHE $21CD  2158  2974  2975  2976  2981
  PRTTW1 $21C2  2148  2151
  PRTTWO $21A8  2141  2768  2788  2970  2971  2972  2973  2978  2979  2980

  PSELEC $20B6   453  1936  1989  2001  2195
  PUIT   $22CD  2300  2305
  PUT    $2DEA  3732  3736
  PUTC   $2DDE  3626  3727
  PUTI   $22B3  1698  1901  2293  2823  3421
  PWORK  $20BF  1898  1926  2007  3533
  PWORKD $20C2   447   485  1696  2011  2317  2520  2779  2820  2861  3538

  Q00000 $2606  2726  2728
  QUITS  $12F3   266   310
  QUITX  $2D2F  3629  3635
  QUITXX $2D4F  3612  3657
  QUTERR $130A   312   322
  RANG   $224E  2232  2238
  RANGE  $223C  1656  1686  2230  3415
  READS  $2D60  3625  3668
  READST $FFB7    61   421   503   709   796  3630
  READX  $2D1C  3625  3631
  READXF $2CF6  3575  3596
  READXX $2CB0  3333  3558
  READY  $2D71  3675  3680
  RELATV $1FC0  1864  2996  3014
  RELND  $1FF2  1883  1885
  RELNEG $201D  1909  1913
  RELP   $202F  1919  1923
  RELPC  $2010  1896  1907
  RELPM  $2021  1912  1915
  RELPUT $200C  1889  1900
  RELSYM $200F  1867  1892  1903
  REOPEN $2CFF  3592  3603
  RESET  $2E15  3751  3754
  RESINT $229A  2281  3551
  ROPT   $1018    96   735  1894
  ROUT   $2260  2233  2236  2240  2243  2247
  RPAREN $20DA  1843  1853  1859  2032
  S3     $23AC  2417  2421
  SA     $101E   105   298   300   412   414   443   445   475   479   554








CROSS REFERENCE......PAGE    8


                 556   610   612  2112  2114
  SAGOL  $1026   109   611   613  2239  2242
  SAOUT  $102A   111   297   299   592   594
  SAVA   $1052   150   403   512  2505  2529
  SAVEE  $104D   144  2274  2276  2285  2287
* SAVEP  $1049   142
  SAVES  $104B   143  2270  2272  2281  2283
  SAVINT $2281   239  2269
  SAVX   $1053   151   810   816  1256  1264  1268  1288  2920  2922
  SAVY   $1054   152   807   811   815   843   849   856   864   871   893

                3716  3718
  SBLOK  $2725  2869  2874
  SCREN  $1C3A  1306  1313
  SCRNO1 $1D07  1426  1430
  SCROFF $1CF8   651  1424
  SCRON  $1D08   359  1432
  SELECT $1022   107   428   430   459   461   464   466   467   469   474

                 478   496   498  1869  1871  2001  2002  2069  2073  2084

                2086  2092  2095  2104  2106  2107  2113  2115  2351  2353

                2578  2581  2607  2609  2622  2624  2867  2871  3374  3376

  SEMIC  $20CB  1729  1766  1925  1954  2017  2316
  SETLFS $FFBA    63   519   542   676   705   780  3606
  SETNAM $FFBD    62   515   538   672   701   776  3591  3599
  SEXIT  $1BCB  1245  1249
* SKIPER $2532  2621
  SLOK   $211C  2071  2076
  SMALL  $23C7  2425  2429  2435
  SMALLP $1036   123  2390  2393  2408  2410  2449  2451  2798  2802  2857

                2859
  SMALLS $1034   122  2389  2392  2435  2437  2460  2462  2470  2472  2474

                2476  2478  2482
  SOP    $2AC0   723  3284
  SOP1   $2AD4  3289  3299
  SOP2   $2CB7  3561  3562  3566
  SOP3   $2CC4  3564  3567
  SOP4   $2B0B  3325  3333
  SORT   $235E  2387  2502  3517
  SORT1  $2373  2397  2464  2485
  SORT2  $2382  2406  2430
  SORT3  $2404  2421  2469
  SORT4  $2430  2481  2484  2487
  SORTOK $242D  2480  2485
  SOUT   $1BC1  1244  1248
  SPAC   $20FD  2058  2060
  SPAC6  $20F8  1765  1924  1984  2056
  SPACE  $2105   814  1511  1518  1606  1722  1728  1736  1983  2058  2064

                2143  2160  2164  2193  2194  2511  3684
  SPACM  $20FA  2057  2136  2152  2173  2197  2207  2516  2519  2532
  SPASS  $1016    93  3413
  SSET   $2B28  3354  3387
  STABLE $3770  3304  3307  3838
* STARTD $100F    85
  STARTS $14C5   395   549
  STDREF $2DC0  3689  3713
  STOP   $FFE1    60   265  2640  3628
  STRPNT $1BBB   229   280   330   349   386   392   442   484   551   562








CROSS REFERENCE......PAGE    9


                 573   584   589   597   623   697   729   756   827   847

                 862   877   906   918  1241  1363  1376  1404  1409  1609

                1616  1714  1742  1915  1945  2652  2695  2772  2792  3286

                3315  3323  3522  3560  3572  3618  3651  3662  3805
  STRSY1 $2BEA  3458  3464
  STRSYM $2BE4  3438  3448  3455
  SUBP   $2794  2937  2938  2967
  SUBS   $27CC  2947  2948  3003
  SUBS1  $27B0  2942  2943  2985
  SY     $2B1D  3295  3317  3334  3346
  SYEXIT $2BF8  3459  3461  3465  3467
  SYM    $2B48  1975  3372
  SYM1   $2B61  3378  3387
  SYM2   $2B64  3388  3404
  SYMBOE $103D   130   743   748  3339  3341  3347  3349  3481  3485  3643

                3645
  SYMBOL $1038   127  3294  3300  3372  3382
  SYMBOP $1039   128  3306  3309  3327  3329  3338  3340  3355  3357  3431

                3434  3446  3447  3475  3477  3478  3480  3484  3492  3494

                3499  3501  3642  3644  3728  3730  3738  3740  3741  3743

  SYMBOS $103B   129  3305  3308  3354  3356
  SYMBUF $10DA   188  3672  3676  3682  3705  3709  3710  3715  3721  3732

  SYMEND $2B90  3373  3383  3403  3405
  SYMOP  $2B5C  1654  1684  1700  1891  2512  2817  2825  2848  3382  3531

* SYTAB  $2AE9  3313
  T2     $23AF  2416  2420  2422
  TABINE $1032   118  2254  2257  2273  2275  2286  2288  2295  2298  2305

                2307  2328  2330  2373  2377  2415  2419  2479  2483  2493

                2496  2523  2527  3362  3365  3511  3514  3543  3547
  TABINP $102E   116  2262  2264  2334  2336  2341  2343  2372  2376  2407

                2409  2414  2418  2461  2463  2473  2477  2522  2526  3363

                3366  3542  3546
  TABINS $1030   117  2253  2256  2261  2263  2269  2271  2282  2284  2294

                2297  2388  2391  2492  2495  3364  3367  3510  3513
  TDATA  $10F1   203   794   812   851   854   866   869   894  2571  2574

                2590  2593  2596
  TEMP   $1051   149  1058  1061  1150  1155  1163  1172  1173  2057  2059

                2296  2299  2365  2368  2398  2401  2424  2428  2454  2457

                2494  2497  2579  2582  2708  2732  2733  2912  2927  3397

                3400  3512  3515  3621  3748  3750  3755
  TEXTER $10E6   194  2597  2675  2696  2803  3568  3687
  TWOB   $1EBD  1655  1685  1701
* TWOBIT $1E81  1666
  TWOBX  $1EB4  1689  1695
  TWOBY  $1EB1  1687  1693
  TWOBYT $1E82  1670  1799  1817  1822  1842  2992  2993  2994  2999
  UTABLE $38F3  3326  3328  3346  3348  3884
* UYMBOE $1043   136
* UYMBOP $103F   134
* UYMBOS $1041   135
  VERSON $10C2   178   630   655   658   661
  VICREG $D011    54  1427  1429  1432  1434
  WIND1  $1543   586   605
  WIND2  $1545   604   606
  WINDOP $1507   508   582
  WINDOW $101B    99   292   606







CROSS REFERENCE......PAGE   10


  WORD1  $2685  2787  2796
  WORDM  $26CB  2805  2830
  WORDPT $26BF  2811  2823  2842
  WORDS  $2670  2683  2785
  WORDS2 $26FB  2849  2856
  WORDS3 $270D  2818  2854  2862
* WORDSX $26BC  2822
  WORDSY $26C5  2813  2825  2844
* WORDXX $2710  2863
  WORKED $1045   140   444   446   477   481  1643  1645  1661  1672  1675

                1870  1872  1873  1875  1880  1882  1884  1885  2011  2012

                2230  2234  2238  2241  2310  2313  2352  2354  2363  2366

                2412  2423  2427  2440  2443  2507  2510  2774  2777  2797

                2801  2831  2833  2834  2836  2858  2860  3375  3377  3396

                3399  3526  3529
  WORKER $1047   141  2358  2361  2364  2367  2572  2575  2577  2580  3389

                3392  3395  3398
  WREADY $867E    71   360   529   690
  WRITE  $184E   663   950
  XFILE1 $2CDF  3582  3587
  XGET   $2DA0  3692  3694  3698
  XINDEX $20DF  1786  1818  2037
  XOP0   $1789   821   832   899   904
  XOP1   $1799   908   911
  XOP2   $179B   910   912
  XOPT   $1017    95   912  1977
  XTITLE $1D2B  1361  1362  1448
  XTITLS $1D63  1402  1403  1455
  YINDEX $20E9  1791  1823  1860  2044
  YSHEX  $1B81  1182  1187  1190
* ZERBIT $1F3A  1777
  ZEROPG $1F3B  1781  3007
  ZEROUR $00DD    81   497   499   501   747   752  1241  1242  1244  1253

                1254  1261  1262  1273  1275  1276  1278  1280  1282  1283

                1285  2094  2097  2099  2306  2308  2311  2314  2342  2344

                2346  2436  2438  2441  2444  2450  2452  2455  2458  2952

                2953  2956  2959  3455  3456  3458  3466  3500  3502  3504

                3729  3731  3733
  ZEROX  $1F3E  1785  1852  3008
  ZEROY  $1F44  1790  3009
























































































