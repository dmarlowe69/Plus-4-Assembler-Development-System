
L MARKER STA SYMBUF,Y ;STORE AT END;********************************* JSR SPACE ;PRINT SPACE JSR DOLLAR ;PRINT $ SIGN;********************************* LDA TEXTER CMP #'0' BEQ STDREF;********************************* LDY #$00 JSR XGET INY JS******************************; OUTPUT SYMBOL IN 4 COLUMNS;*********************************LINES INC TEMP LDA #$03 CMP TEMP BEQ RESET LDA #'.' JMP CHROUTRESET LDA #$00 STA TEMP LDA #$0D JMP CHROUT;*********************************;   COMMABYTE 'LOAD USER SYMBOL TABLE (Y OR N/CR)? ' .BYTE 0MSS3 .BYTE $0D .BYTE 'FORMAT 0=STANDARD 1=ASCII : ' .BYTE 0MSS4 .BYTE $0D .BYTE 'APPEND DEFAULT TABLE (Y OR N/CR)? ' .BYTE 0LOADF .BYTE $0D.BYTE 'SYMBOL TABLE(CR OR D:NAME): '.BYTE 0LOADM .BYTXTERNAL ADDRESS EQUATES' .BYTE 0;*********************************; PATCH CODE AREA;**********************************=*+$0800;*********************************; BIT INSTRUCTION CODING;*********************************BITOPT = *       LDA #<MSBC       CMP #$0D   ;STANDARD       BNE BOP0       LDA #'0'BSC = *       PHA        ;STASH INPUT       JSR CHROUT ;OUTPUT FEEDBACK       PLA        ;POP INPUT       EOR #$30   ;MAKE A NUMBER       STA BITFLG ;SET FLAG       RTS;*************************************************STABLE = * .BYTE $FF,$80,'IDBYTE',0 .BYTE $FF,$81,'CINT  ',0 .BYTE $FF,$84,'IOINIT',0 .BYTE $FF,$87,'RAMTAS',0 .BYTE $FF,$8A,'RESTOR',0 .BYTE $FF,$8D,'VECTOR',0 .BYTE $FF,$90,'SETMSG',0 .BYTE $FF,$93,'SECOND',0 N',0 .BYTE $FF,$B4,'TALK  ',0 .BYTE $FF,$B7,'READST',0 .BYTE $FF,$BA,'SETLFS',0 .BYTE $FF,$BD,'SETNAM',0 .BYTE $FF,$C0,'OPEN  ',0 .BYTE $FF,$C3,'CLOSE ',0 .BYTE $FF,$C6,'CHKIN ',0 .BYTE $FF,$C9,'CHKOUT',0 .BYTE $FF,$CC,'CLRCHN',0 .BYTE $FF,$CF,F,$ED,'SCREEN',0 .BYTE $FF,$F0,'PLOT  ',0 .BYTE $FF,$F3,'IOBASE',0;********************************* .BYTE $FF,$FA,'NMIVEC',0 .BYTE $FF,$FC,'RESVEC',0 .BYTE $FF,$FE,'IRQVEC',0;*********************************UTABLE .BYTE 0;*********************KKR XGET JSR CHRIN ;GET $0D JMP CLRCHN;*********************************XGET JSR CHRIN JSR CHROUT JSR BINARY ASL A ASL A ASL A ASL A STA SYMBUF,Y JSR CHRIN JSR CHROUT JSR BINARY ORA SYMBUF,Y STA SYMBUF,Y RTS;****************************** TO TABLE;*********************************PUTC LDY #$00 LDA SYMBOP STA ZEROUR LDA SYMBOP+1 STA ZEROUR+1PUT LDA SYMBUF,Y STA (ZEROUR),Y INY CPY #$09 BNE PUT CLC LDA SYMBOP ADC #$09 STA SYMBOP LDA SYMBOP+1 ADC #$00 STA SYMBOP+1 RTS;***ND MESSAGES;*********************************NAME .BYTE '0:XRLL0000'NAMS .BYTE ',S,R';*********************************MSS1 .BYTE $0D; .BYTE 'SYMBOLIC DISASSEMBLY (Y OR N/CR)? ' .BYTE 'SYMBOLIC DISASSEMBLY (Y/CR OR N)? ' .BYTE 0MSS2 .BYTE $0D .E $0D,$0D.BYTE 'READING SYMBOL TABLE FILE'.BYTE $0D,$0D.BYTE 0LOADC .BYTE $0D.BYTE 'SYMBOL TABLE LOADED'.BYTE $0D,$0D.BYTE 0LOADE .BYTE $0D.BYTE 'SYMBOL TABLE NOT LOADED'.BYTE $0D,$0D.BYTE 0;*********************************EQUATE .BYTE '; E1 ;TABLE TYPE       LDY #>MSB1       JSR STRPNTBOP0   JSR GETIN       BEQ BOP0       CMP #'0'   ;STANDARD       BEQ BSC       CMP #'1'   ;$2C ABS       BEQ BSC        CMP #'2'   ;$24 ZP       BEQ BSC       CMP #'3'   ;$2C AND $24       BEQ BS*****************; BIT INSTRUCTION CODING FLAG;*********************************BITFLG = *       .BYTE $AA;*********************************;*********************************; SYMBOL TABLE;*********************************;  KERNAL JUMP TABLE;.BYTE $FF,$96,'TKSA  ',0 .BYTE $FF,$99,'MEMTOP',0 .BYTE $FF,$9C,'MEMBOT',0 .BYTE $FF,$9F,'SCNKEY',0 .BYTE $FF,$A2,'SETTMO',0 .BYTE $FF,$A5,'ACPTR ',0 .BYTE $FF,$A8,'CIOUT ',0 .BYTE $FF,$AB,'UNTLK ',0 .BYTE $FF,$AE,'UNLSN ',0 .BYTE $FF,$B1,'LISTE'CHRIN ',0 .BYTE $FF,$D2,'CHROUT',0 .BYTE $FF,$D5,'LOAD  ',0 .BYTE $FF,$D8,'SAVE  ',0 .BYTE $FF,$DB,'SETTIM',0 .BYTE $FF,$DE,'RDTIM ',0 .BYTE $FF,$E1,'STOP  ',0 .BYTE $FF,$E4,'GETIN ',0 .BYTE $FF,$E7,'CLALL ',0 .BYTE $FF,$EA,'UDTIM ',0 .BYTE $F ************.ENDK***STDREF LDY #$00 ;ZERO OFFSET JSR CHRIN ;HIGH BYTES STA SYMBUF,Y ; STY SAVY ; JSR PRBYT ; LDY SAVY ; INY ; JSR CHRIN ;LOW BYTE STA SYMBUF,Y ; JSR PRBYT ; JMP CLRCHN ;KEYBOARD INPUT;*********************************; MOVE SYMBOL FROM BUFFER
;SET CARRY LDA WORKER SBC WORKED ;SUB FROM LOW STA TEMP ;STORE RESULT LDA WORKER+1 SBC WORKED+1 ;SUB FROM HIGH ORA TEMP ;OR RESULTS BEQ MATCH ;CHECK FOR MATCH JSR NEXTC ;IF NOT NEXT BCS SYMEND ;END OF TABLE? JMP SYM2 ;NO CHECK NEXTSYMEND CLC ;T LO POINT JSR STRSYM ;PRINT SYMBOL LDA #'+'         ;ASCII + JSR PCHAR ;PRINT IT LDA #'1'         ;ASCII 1 JSR PCHAR ;PRINT IT SEC ;C=1 SYMBOL RTS ;RETURN;*********************************MATCHT LDA SYMBOP ;LOW BYTE LABEL LDY SYMBOP+1 ;HIGH BYR),Y BEQ SYEXIT CMP #$20 BEQ SYEXIT JSR PCHAR INY BNE STRSY1SYEXIT RTSFIXSYM LDA (ZEROUR),Y BEQ SYEXIT JSR PCHAR INY JMP FIXSYM;*********************************; INC SYMBOL ADDRESS TABLE POINTER;*********************************NEXTC CLC**************************; GET BYTE FROM ADDRESS TABLE;*********************************GETC LDA SYMBOP STA ZEROUR LDA SYMBOP+1 STA ZEROUR+1 LDY #$00 LDA (ZEROUR),Y RTS;*********************************; PRINT EQUATE TABLE;******************I STA WORKED+1 JSR PRTOTH JSR SYMOP BCS EQUOP1 JSR PWORKEQUOP1 LDA #'=' JSR PCHAR LDA #'$' JSR PCHAR JSR PWORKD JSR NEWLIN;********************************* JSR INCI LDA TABINP+1 CMP TABINE+1 BCC EQUOP BNE EQUEND LDA TABINP CMP TABINE**************READXX LDA #<MSS3 LDY #>MSS3 JSR STRPNTSOP2 JSR GETIN BEQ SOP2 CMP #'0' BEQ SOP3 CMP #'1' BNE SOP2SOP3 JSR CHROUT STA TEXTER;********************************* LDA #<LOADF LDY #>LOADF JSR STRPNT;*****************************************************READXF LDA #$0E LDY #>NAME LDX #<NAME JSR SETNAM;*********************************; OPEN FILE;********************************REOPEN LDA #$03 LDX #$08 LDY #$03 JSR SETLFS JSR OPEN;********************************; CHE********************* LDA #$00 ;COL COUNTER STA TEMP;*********************************; INPUT AND LOAD SYMBOL TABLE;*********************************READX JSR READS ;INPUT SYMBOL JSR PUTC JSR LINES ;SCREEN OUT JSR STOP BEQ QUITX JSR READST BEYMBOE LDA SYMBOP+1 STA SYMBOE+1;*********************************; OUTPUT LOADED MESSAGE;********************************* LDA #<LOADC LDY #>LOADC JSR STRPNT CLC RTS;*********************************; OUTPUT ERROR MESSAGE;*******************  #$02 ;COUNTER JSR CHRIN ;INPUT CHAR STA SYMBUF,Y ;1ST CHAR JSR CHROUT ;PRITN IT INY ;INC POINTERREADY JSR CHRIN ;NEXT CHAR STA SYMBUF,Y ;STORE JSR CHROUT ;PRINT IT INY ;INC OFFSET CPY #$08 ;8 IS FOR NULL BNE READY ;BRANCH IF NOT LDA #$00 ;NULNO MATCHES CLEAR RTS ;RETURN;*********************************; FOUND MATCH;*********************************MATCH LDA PASS ;CHECK PASS CMP CPASS ;IS IT LAST BEQ MATCHS ;IF SO PRINT CMP SPASS BEQ MATCHT JSR RANGE ;SYMBOL IN RANGE BCC MATEXT ;NCC ;INC TO LABEL JSR GETC ;GET CHARARCTER CMP #$20 ;IS IT SPACE BNE MATCHT ;IF NOT GO ON SEC ;SET CARRY LDA SYMBOP ;GET LOW POINT SBC #$09 ;LAST SYMBOL PHA ;PUSH ON STACK LDA SYMBOP+1 ;GET HIGH POINT SBC #$00 ;LAST SYMBOL TAY ;PUT IN Y PLA ;GETE LABEL JSR STRSYM ;PRINT LABEL;********************************* SEC ;MATCH SET CARRYMATEXT RTS ;RETURN;*********************************; PRINT SYMBOL;*********************************STRSYM STA ZEROUR STY ZEROUR+1 LDY #$00STRSY1 LDA (ZEROU LDA SYMBOP ADC #$08 STA SYMBOP LDA SYMBOP+1 ADC #$00 STA SYMBOP+1 CMP SYMBOE+1 BCC COK BNE NCOK LDA SYMBOP CMP SYMBOE BCS NCOKCOK CLC RTSNCOK SEC RTS;*********************************INCC INC SYMBOP BNE *+5 INC SYMBOP+1 RTS;**********************EQUPRT SEC LDA TABINS SBC TABINE STA TEMP LDA TABINS+1 SBC TABINE+1 ORA TEMP BEQ EQUEND JSR SORT JSR COMENT JSR PRTOTH LDA #<EQUATE LDY #>EQUATE JSR STRPNT JSR NEWLIN JSR COMENTEQUOP JSR GETI STA WORKED JSR INCI JSR GET BCC EQUOP;*********************************EQUEND JSR COMENT JMP RESINT;*********************************; READ CROSS REFERENCE SEQ FILE;      INTO SYMBOL TABLE;*********************************; READ FILE NAME DEFAULT ON CR;********************** JSR INSTNG BEQ READXF TYA PHA JSR INITD PLA TAY LDX #$00XFILE1 LDA NAMS,X STA BUF,Y INY INX CPX #$04 BNE XFILE1 TYA LDY #>BUF LDX #<BUF JSR SETNAM JMP REOPEN;*********************************; DEFAULT FILENAME XRFF0000;*********CK FOR DISK ERROR;********************************* JSR DISERR BCS QUITXX;*********************************; OUTPUT LOADING MESSAGE;********************************* LDA #<LOADM ;MSG LOW LDY #>LOADM ;MSG HIGH JSR STRPNT ;OUTPUT MSG;************Q READX;*********************************;    CLOSE OPEN FILE;*********************************QUITX LDA #$03 JSR CLOSE JSR CLRCHN JSR CRLF;*********************************; SET END OF TABLE;********************************* LDA SYMBOP STA S	**************QUITXX LDA #$03 JSR CLOSE JSR CLRCHN LDA #<LOADE LDY #>LOADE JSR STRPNT SEC RTS;*********************************; READ SYMBOL FROM FILE;*********************************READS LDX #$03 ;FILE NUMBER JSR CHKIN ;FILE IS INPUT LDYO INTERNAL EQ JSR INCC ;INC TO SYMBOL JSR GETC ;GET FIRST CHAR CMP #$20 ;SPACE BEQ MATONE ;NOT EQUATE JMP PUTI ;PUT IN EQUATEMATONE RTS ;RETURN;*********************************; CHECK FOR SYMBOL+1;*********************************MATCHS JSR IN
ISC.BYTE $4E,$84,$66,$00,$39,$84,$4B,$00; FX  BEQ SBC KIL ISC NOP SBC INC ISC.BYTE $12,$84,$00,$00,$00,$84,$4B,$00;     SED SBC NOP ISC NOP SBC INC ISC.BYTE $8A,$84,$00,$00,$00,$84,$4B,$00;*********************************; TABLE OF ADDRESSING MOD;.BYTE 18,4,2,0,30,12,12,0; 3X   0  1 2 3 4 5 6 7.BYTE 20,24,0,0,0,8,8,0;      8  9 A B C D E F.BYTE 18,16,0,0,0,14,14,0; 4X   0  1 2 3 4 5 6 7.BYTE 18,22,0,0,0,6,6,0;      8  9 A B C D E F.BYTE 18,4,2,0,12,12,12,0; 5X   0  1 2 3 4 5 6 7.BYTE 2,14,14,0; 8X   0  1 2 3 4 5 6 7.BYTE 0,22,0,0,6,6,6,0;      8  9 A B C D E F.BYTE 18,0,18,0,12,12,12,0; 9X   0  1 2 3 4 5 6 7.BYTE 20,24,0,0,8,8,10,0;      8  9 A B C D E F.BYTE 18,16,18,0,0,14,0,0; AX   0  1 2 3 4 5 6 7.BYTE 4,22,4,0,6,6,6,0;  0  1 2 3 4 5 6 7.BYTE 20,24,0,0,0,8,8,0;      8  9 A B C D E F.BYTE 18,16,0,0,0,14,14,0; EX   0  1 2 3 4 5 6 7.BYTE 4,22,0,0,6,6,6,0;      8  9 A B C D E F.BYTE 18,4,18,0,12,12,12,0; FX   0  1 2 3 4 5 6 7.BYTE 20,24,0,0,0,8,8,0;      8  9 A B DISASSEMBLER;       BY DENTON MARLOWE;;  (C)1986 BY DENTON MARLOWE;;*********************************; SYMBOLIC ROUTINES;*********************************; SYMBOLIC DISASSEMBLY OPTION;*********************************SOP    LDA #<MSS1  ;LOW BY*********       LDA #$00    ;SET SYMBLOIC FLAG       STA SYMBOL  ;STORE FLAG       JMP SY      ;FOR INTERNAL;*********************************; SYMBOLIC DISASSEMBLY SELECTED;*********************************SOP1   LDA #$01    ;SET SYMBOLIC FLAG  OR SYMBOL TABLE OPTION;*********************************SYTAB LDA #<MSS2 ;LOW BYTE MESSAGE LDY #>MSS2 ;HIGH BYTE MESSAGE JSR STRPNT ;OUTPUT MESSAGE JSR CRNO ;GET KEY PRESS BCS SY ;C=1 NO;*********************************; APPEND SYMBOL TABLE;***ILE BCS SY ;C=1 ERROR;*********************************; SETUP END OF TABLE POINTER;********************************* LDA SYMBOP ;XREF POINTER STA SYMBOE LDA SYMBOP+1 STA SYMBOE+1 RTS;*********************************; DEFAULT SYMBOL TABLE ENDS;*********************************; EQUATE TABLE SETUP;*********************************EQUINT LDA TABINE STA TABINP STA TABINS LDA TABINE+1 STA TABINP+1 STA TABINS+1 RTS;*********************************; ENTRY POINT FOR ADDRESS;********** ******SYMOP LDA SYMBOL BEQ SYMEND;*********************************; COMPARE ADDRESS TO SYMBOL TABLE;*********************************SYM1 JSR SSETSYM2 JSR GETC STA WORKER+1 JSR INCC JSR GETC STA WORKER;********************************* SEC E CODES;*********************************;; AN ADDRESSING MODE'S CODE IS; ITS OFFSET INTO SUBS, THE TABLE; OF ADDRESSING MODE SUBROUTINES;; ILLEGL ; 0  $00; ACC    ; 2  $02; IMMEDT ; 4  $04; ZEROPG ; 6  $06; ZEROX  ; 8  $08; ZEROY  ; 10 $0A; D E F.BYTE 18,4,2,0,0,12,12,0; 1X   0  1 2 3 4 5 6 7.BYTE 20,24,0,0,0,8,8,0;      8  9 A B C D E F.BYTE 18,16,0,0,0,14,14,0; 2X   0  1 2 3 4 5 6 7.BYTE 12,22,0,0,6,6,6,0;.BYTE 12,22,0,0,28,6,6,0;      8  9 A B C D E F.BYTE 18,4,2,0,12,12,12,00,24,0,0,0,8,8,0;      8  9 A B C D E F.BYTE 18,16,0,0,0,14,14,0; 6X   0  1 2 3 4 5 6 7.BYTE 18,22,0,0,0,6,6,0;      8  9 A B C D E F.BYTE 18,4,2,0,26,12,12,0; 7X   0  1 2 3 4 5 6 7.BYTE 20,24,0,0,0,8,8,0;      8  9 A B C D E F.BYTE 18,16,0,0,0      8  9 A B C D E F.BYTE 18,4,18,0,12,12,12,0; BX   0  1 2 3 4 5 6 7.BYTE 20,24,0,0,8,8,10,0;      8  9 A B C D E F.BYTE 18,16,18,0,14,14,16,0; CX   0  1 2 3 4 5 6 7.BYTE 4,22,0,0,6,6,6,0;      8  9 A B C D E F.BYTE 18,4,18,0,12,12,12,0; DX  C D E F.BYTE 18,16,0,0,0,14,14,0;*********************************;.FIL 0:SYM.ASM;*********************************;.END;*********************************; FILE SYMBOL.ASM;*********************************;;        DISASSEMBLER64;    SYMBOLICTE MESSAGE       LDY #>MSS1  ;HIGH BYTE MESSAGE       JSR STRPNT  ;OUTPUT MESSAGE;      JSR CRNO    ;GET KEY PRESS       JSR CRYS       BCC SOP1    ;C=0 YES;*********************************; ABSOLUTE DISASSEMBLY SELECTED;************************     STA SYMBOL  ;STORE FLAG;*********************************; SETUP START OF TABLE POINTER;********************************* LDA #<STABLE STA SYMBOS STA SYMBOP LDA #>STABLE STA SYMBOS+1 STA SYMBOP+1;*********************************; CHECK F****************************** LDA #<MSS4 LDY #>MSS4 JSR STRPNT JSR CRNO BCS SOP4 LDA #<UTABLE STA SYMBOP LDA #>UTABLE STA SYMBOP+1;*********************************; GO AND LOAD TABLE;*********************************SOP4 JSR READXX ;READ F;*********************************SY LDA #<UTABLE STA SYMBOE LDA #>UTABLE STA SYMBOE+1 RTS;*********************************; SET OR RESET SYMBOL TABLE;*********************************SSET LDA SYMBOS STA SYMBOP LDA SYMBOS+1 STA SYMBOP+1 RT	***********************SYM LDA SYMBOL BEQ SYMEND LDA SELECT ;COPY SELECT STA WORKED ;ADDRESS INTO LDA SELECT+1 ;WORKED STA WORKED+1 JMP SYM1 ;CHECK FOR MATCH;*********************************; ENTRY POINT FOR OPCODES;*************************** ABSLUT ; 12 $0C; ABSX   ; 14 $0E; ABSY   ; 16 $10; IMPLID ; 18 $12; RELATV ; 20 $14; INDX   ; 22 $16; INDY   ; 24 $18; INDRCT ; 26 $1A;*********************************MODES = * ; 0X   0  1 2 3 4 5 6 7.BYTE 18,22,0,0,0,6,6,0;      8  9 A B C
WORD PRTTHE ; 14 $0E.WORD PRTTHE ; 16 $10.WORD PRTONE ; 18 $12.WORD PRTTWO ; 20 $14.WORD PRTTWO ; 22 $16.WORD PRTTWO ; 24 $18.WORD PRTTHE ; 26 $1A;*********************************; CODE ANALYSIS ROUTINES;*********************************SUBS1 ************************; LIST OF MNEMONICS;*********************************MNAMES = *  ; MCODES.BYTE 0,0,0 ; 0   $00.BYTE 'ADC' ; 3   $03.BYTE 'AND' ; 6   $06.BYTE 'ASL' ; 9   $09.BYTE 'BCC' ; 12  $0C.BYTE 'BCS' ; 15  $0F.BYTE 'BEQ' ; 18  $12 ; 54  $36.BYTE 'CPX' ; 57  $39.BYTE 'CPY' ; 60  $3C.BYTE 'DEC' ; 63  $3F.BYTE 'DEX' ; 66  $42.BYTE 'DEY' ; 69  $45.BYTE 'EOR' ; 72  $48.BYTE 'INC' ; 75  $4B.BYTE 'INX' ; 78  $4E.BYTE 'INY' ; 81  $51.BYTE 'JMP' ; 84  $54.BYTE 'JSR' ; 87  $57. 123 $7B.BYTE 'RTI' ; 126 $7E.BYTE 'RTS' ; 129 $81.BYTE 'SBC' ; 132 $84.BYTE 'SEC' ; 135 $87.BYTE 'SED' ; 138 $8A.BYTE 'SEI' ; 141 $8D.BYTE 'STA' ; 144 $90.BYTE 'STX' ; 147 $93.BYTE 'STY' ; 150 $96.BYTE 'TAX' ; 153 $99.BYTE 'TAY' ; 156 $9C.BY $B4.BYTE 'AXS' ; 183 $B7.BYTE 'LAX' ; 186 $BA.BYTE 'DCM' ; 189 $BD.BYTE 'INS' ; 192 $C0.BYTE 'ALR' ; 195 $C3.BYTE 'ARR' ; 198 $C6.BYTE 'OAL' ; 201 $C9.BYTE 'SAX' ; 204 $CC.BYTE 'NOP' ; 207 $CF.BYTE 'SKB' ; 210 $D2.BYTE 'SKW' ; 213 $D5;******X  6X  7X; 0X  BRK ORA KIL SLO NOP ORA ASL SLO.BYTE $21,$69,$00,$00,$00,$69,$09,$00;     8X  9X  AX  BX  CX  DX  EX  FX     ;PHP ORA ASL ANC NOP ORA ASL SLO.BYTE $6F,$69,$09,$00,$00,$69,$09,$00; 1X  BPL ORA KIL SLO NOP ORA ASL SLO.BYTE $1E,$69,$00 BMI AND KIL RLA NOP AND ROL RLA.BYTE $18,$06,$00,$00,$00,$06,$78,$00;     SEC AND NOP RLA NOP AND ROL RLA.BYTE $87,$06,$00,$00,$00,$06,$78,$00; 4X  RTI EOR KIL SRE NOP EOR LSR SRE.BYTE $7E,$48,$00,$00,$00,$48,$63,$00;     PHA EOR LSR ALR JMP EOR L00,$00,$03,$7B,$00;     PLA ADC ROR ARR JMP ADC ROR RRA.BYTE $72,$03,$7B,$00,$54,$03,$7B,$00; 7X  BVS ADC KIL RRA NOP ADC ROR RRA.BYTE $27,$03,$00,$00,$00,$03,$7B,$00;     SEI ADC NOP RRA NOP ADC ROR RRA.BYTE $8D,$03,$00,$00,$00,$03,$7B,$00; 8X  NX AHX.BYTE $A8,$90,$A5,$00,$00,$90,$00,$00; AX  LDY LDA LDX LAX LDY LDA LDX LAX.BYTE $60,$5A,$5D,$00,$60,$5A,$5D,$00;     TAY LDA TAX LAX LDY LDA LDX LAX.BYTE $9C,$5A,$99,$00,$60,$5A,$5D,$00; BX  BCS LDA KIL LAX LDY LDA LDX LAX.BYTE $0F,$5A,$00,$0 E CMP KIL DCP NOP CMP DEC DCP.BYTE $1B,$36,$00,$00,$00,$36,$3F,$00;     CLD CMP NOP DCP NOP CMP DEC DCP.BYTE $2D,$36,$00,$00,$00,$36,$3F,$00; EX  CPX SBC NOP ISC CPX SBC INC ISC.BYTE $39,$84,$00,$00,$39,$84,$4B,$00;     INX SBC NOP SBC CPX SBC INC = *    ; MODES.WORD IMPONE ; 0  $00.WORD IMPONE ; 2  $02.WORD IMMEDT ; 4  $04.WORD ONEBYT ; 6  $06.WORD ONEBYT ; 8  $08.WORD ONEBYT ; 10 $0A.WORD TWOBYT ; 12 $0C.WORD TWOBYT ; 14 $0E.WORD TWOBYT ; 16 $10.WORD IMPONE ; 18 $12.WORD RELATV ; 20 $4.WORD ZEROPG ; 6  $06.WORD ZEROX  ; 8  $08.WORD ZEROY  ; 10 $0A.WORD ABSLUT ; 12 $0C.WORD ABSX   ; 14 $0E.WORD ABSY   ; 16 $10.WORD IMPLID ; 18 $12.WORD RELATV ; 20 $14.WORD INDX   ; 22 $16.WORD INDY   ; 24 $18.WORD INDRCT ; 26 $1A;*********.BYTE 'BIT' ; 21  $15.BYTE 'BMI' ; 24  $18.BYTE 'BNE' ; 27  $1B.BYTE 'BPL' ; 30  $1E.BYTE 'BRK' ; 33  $21.BYTE 'BVC' ; 36  $24.BYTE 'BVS' ; 39  $27.BYTE 'CLC' ; 42  $2A.BYTE 'CLD' ; 45  $2D.BYTE 'CLI' ; 48  $30.BYTE 'CLV' ; 51  $33.BYTE 'CMP'BYTE 'LDA' ; 90  $5A.BYTE 'LDX' ; 93  $5D.BYTE 'LDY' ; 96  $60.BYTE 'LSR' ; 99  $63.BYTE 'NOP' ; 102 $66.BYTE 'ORA' ; 105 $69.BYTE 'PHA' ; 108 $6C.BYTE 'PHP' ; 111 $6F.BYTE 'PLA' ; 114 $72.BYTE 'PLP' ; 117 $75.BYTE 'ROL' ; 120 $78.BYTE 'ROR' ;TE 'TSX' ; 159 $9F.BYTE 'TXA' ; 162 $A2.BYTE 'TXS' ; 165 $A5.BYTE 'TYA' ; 168 $A8;*********************************; QUASI-OPCODES;*********************************.BYTE 'ASO' ; 171 $AB.BYTE 'RLA' ; 174 $AE.BYTE 'LSE' ; 177 $B1.BYTE 'RRA' ; 180***************************; TABLE OF MNEMONIC CODES;*********************************;;A MNEMONIC'S CODE IS ITS OFFSET;    INTO MNAMES, THE LIST OF;         MNEONIC NAMES.;;*********************************MCODES = *;     0X  1X  2X  3X  4X  5,$00,$00,$69,$09,$00     ;CLC ORA NOP SLO NOP ORA ASL SLO.BYTE $2A,$69,$00,$00,$00,$69,$09,$00; 2X  JSR AND KIL RLA BIT AND ROL RLA.BYTE $57,$06,$00,$00,$15,$06,$78,$00     ;PLP ABD ROL ANC BIT AND ROL RLA.BYTE $75,$06,$78,$00,$15,$06,$78,$00; 3X SR SRE.BYTE $6C,$48,$63,$00,$54,$48,$63,$00; 5X  BVC EOR KIL SRE NOP EOR LSR SRE.BYTE $24,$48,$00,$00,$00,$48,$63,$00;     CLI EOR NOP SRE NOP EOR LSR SRE.BYTE $30,$48,$00,$00,$00,$48,$63,$00; 6X  RTS ADC KIL RRA NOP ADC ROR RRA.BYTE $81,$03,$00,$OP STA NOP SAX STY STA STX SAX.BYTE $00,$90,$00,$00,$96,$90,$93,$00;     DEY NOP TXA XXA STY STA STX SAX.BYTE $45,$00,$A2,$00,$96,$90,$93,$00; 9X  BCC STA KIL AHX STY STA STX SAX .BYTE $0C,$90,$00,$00,$96,$90,$93,$00;     TYA STA TXS TAS SHY STA SH	0,$60,$5A,$5D,$00;     CLV LDA TSX LAS LDY LDA LDX LAX.BYTE $33,$5A,$9F,$00,$60,$5A,$5D,$00; CX  CPY CMP NOP DCP CPY CMP DEC DCP.BYTE $3C,$36,$00,$00,$3C,$36,$3F,$00;     INY CMP DEX AXS CPY CMP DEC DCP.BYTE $51,$36,$42,$00,$3C,$36,$3F,$00; DX  BN14.WORD ONEBYT ; 22 $16.WORD ONEBYT ; 24 $18.WORD TWOBYT ; 26 $1A;*********************************; FINAL PASS ADDRESSING MODES;*********************************SUBS  = *    ; MODES.WORD ILLEGL ; 0  $00.WORD ACC    ; 2  $02.WORD IMMEDT ; 4  $0
 JMP NEWLIN ;PRINT CR;*********************************NASCII JSR DOLLAR ;PRINT $ JSR GETSL ;GET BYTE JSR PRBYT ;PRINT IT JSR NEWLIN ;PRINT CR JMP NEXTBY ;NEXT SL;*********************************; CHECK ACCUM FOR PRINTABLE ASCII;***************S CMP CPASS         ;LAST BNE WORD1 ;IF NOT BRANCH JSR PRTTWO ;PRINT 2 BYTES JSR PRAD ;PRINT ADDRESS LDY #>MWORD ;.WORD LDA #<MWORD ; JSR STRPNT ;PRINT IT;*********************************; GET WORD INTO WORKED;**********************************************************; CHECK PASS;********************************* LDA PASS ;CHECK PASS CMP IPASS  ;INTERNAL BEQ WORDPT ;TABLE WORD CMP EPASS BEQ WORDSY;*********************************; PRINT WORD;********************************* JSR S.WORD ADDRESS-1;*********************************WORDM CLC LDA WORKED ADC #$01 STA WORKED LDA WORKED+1 ADC #$00 STA WORKED+1;*********************************; CHECK PASS;********************************* LDA PASS ;CHECK PASS CMP IPASS ;INTEP WORDS3;*********************************WORDS2 JSR DOLLAR ;PRINT $ LDA SMALLP STA WORKED LDA SMALLP+1 STA WORKED+1 JSR PWORKD ;PRINT WORDWORDS3 JSR NEWLIN ;PRINT CRWORDXX JMP NEXTBY ;NEXT SL;*********************************; SELECT NEXT BYT,0MDBYTE .BYTE ' .DBYTE ',0;*********************************;.FIL 0:TABLE.ASM;*********************************;.END;*********************************; FILE TABLE.ASM;*********************************;;        DISASSEMBLER64;    SYMBOLIC DISA THE "..." WERE THREE NULLS; BECAUSE ILLEGAL OPCODE MNEMONIC IS CODES AS 0,0,0;;*********************************MNEMON LDX #3       ;3 CHARACTERS       STX TEMP     ;COUNTER       TAX          ;CODE IS INDEX       LDA MCODES,X ;GET OFFSET       GIN REV 2017-1ILLOP = *;END REV 2017-0       INX          ;NEXT CHAR       DEC TEMP     ;DEC COUNT       BNE MNLOOP   ;LOOP TILL 0       RTS          ;RETURN;*********************************;        PRINT OPERAND;*******************************E;*********************************OPERND TAY ;SAVE INDEX LDA #<SUBS LDX #>SUBS;*********************************; LOOK UP AND JMP TO ROUTINE;*********************************GETOPE STA ZEROUR ;LOW TABLE STX ZEROUR+1 ;HIGH TABLE LDA MODES,Y ;GE **************; MACHINE LANGUAGE ROUTINES;*********************************SUBP = *     ; MODES.WORD PRTONE ; 0  $00.WORD PRTONE ; 2  $02.WORD PRTTWO ; 4  $04.WORD PRTTWO ; 6  $06.WORD PRTTWO ; 8  $08.WORD PRTTWO ; 10 $0A.WORD PRTTHE ; 12 $0C.******************CASCII CMP #$20 ;< SPACE BMI NOASC ;IF LESS NOASCII CMP #$60 ;> _ BCS NOASC ;IF GREATER NO CLC ;CLEAR CARRY OK RTS ;RETURNNOASC SEC ;SET CARRY BAD RTS ;RETURN;*********************************; .DBYTE DIRECTIVE;**************GET BYTE JSR GETSL ;GET BYTE STA WORKED ;STORE JSR DOLLAR ;PRINT $ JSR PWORKD ;PRINT WORD JSR NEWLIN ;PRINT CRDBYTEX JMP NEXTBY ;NEXT SL;*********************************; .WORD DIRECTIVE;*********************************WORDS LDA PASS ;GET PASWORD1 JSR GETSL ;GET BYTE STA WORKED ;STORE BYTE STA SMALLP ;STORE BYTE JSR INCSL ;GET BYTE JSR GETSL ;GET BYTE STA WORKED+1 ;STORE BYTE STA SMALLP+1 ;STORE BYTE LDA TEXTER ;GET OPTION CMP #'4'          ;.WORD ADRS-1 BEQ WORDM ;BRANCH;********YMOP ;CHECK SYMBOL BCS WORDS3 ;C=1 SYMBOL JSR DOLLAR ;PRINT $ JSR PWORKD ;PRINT WORD JSR NEWLIN ;PRINT CRWORDSX JMP NEXTBY ;NEXT SLWORDPT JSR PUTI ;PUT IN TABLE JMP NEXTBY ;NEXT SLWORDSY JSR SYMOP JMP NEXTBY;*********************************; RNAL BEQ WORDPT ;TABLE WORD CMP EPASS ;EXTERNAL BEQ WORDSY ;TABLE WORD;*********************************; PRINT WORD;********************************* JSR SYMOP ;CHECK SYMBOL BCC WORDS2 ;C=0 NO SYMBOL LDA #'-' JSR PCHAR LDA #'1' JSR PCHAR JME OF DATA;*********************************NEXTBY LDA SELECT+1 CMP EAS+1 BCC SBLOK BNE NOBINC LDA SELECT CMP EAS BCS NOBINCSBLOK JSR INCSL CLC RTSNOBINC SEC RTS;*********************************MBYTE .BYTE ' .BYTE ',0MWORD .BYTE ' .WORD 'SSEMBLER;       BY DENTON MARLOWE;;  (C)1986 BY DENTON MARLOWE;;*********************************;       PRINT MNEMONIC;; OPCODE IN A;; BUG ILLEGAL OPCODE WOULD PRINT OUT AS;; ZZZZ XX                 ...  .BYTE $XX ;??? ILLEGAL OPCODE; WHERETAX          ;INDEX OFFSETMNLOOP LDA MNAMES,X ;GET CHARACTER;BEGIN REV 2017-0       BEQ ILLOP    ;ILLEGAL OPCODE MNEMONIC CHAR IS A NULL;END REV 2017-0       STX SAVX     ;SAVE INDEX       JSR PCHAR    ;PRINT CHAR       LDX SAVX     ;GET INDEX;BE**PRTASS PHA ;STACK INDEX JSR PRTDAT ;PRINT LINE DATA PLA ;PULL INDEX TAY ;SAVE INDEX LDA #<SUBP LDX #>SUBP JMP GETOPE ;LOOK UP ROUTINE;*********************************OPERN1 TAY ;SAVE INDEX LDA #<SUBS1 LDX #>SUBS1 JMP GETOPE ;LOOK UP ROUTIN	T OFFSET TAY ;INDEX OFFSET LDA (ZEROUR),Y ;GET LOW BYTE STA ADRS ;STORE INY ;INC INDEX LDA (ZEROUR),Y ;GET HIGH BYTE STA ADRS+1 ;STORE JMP (ADRS) ;INDIRECT JMP;*********************************; TABLE OF ADDRESSING MODE SUBS;**************************************DBYTES LDA PASS ;CHECK PASS CMP CPASS ;LAST PASS BNE DBYTEX ;EXIT JSR PRTTWO ;PRINT 2 BYTES JSR PRAD ;PRINT ADDRESS LDY #>MDBYTE ;.DBYTE LDA #<MDBYTE ; JSR STRPNT ;PRINT IT JSR GETSL ;GET BYTE STA WORKED+1 ;STORE JSR INCSL ;
R CHECK;*********************************SORT3 CLC LDA SMALLS ADC #$02 STA SMALLS STA TABINP LDA SMALLS+1 ADC #$00 STA SMALLS+1 STA TABINP+1 LDA SMALLS+1 CMP TABINE+1 BCC SORTOK BNE SORT4 LDA SMALLS CMP TABINE BCS SORT4SORTOK JMP SORT1*******************************;.FIL 0:ASC.ASM;*********************************;.END;*********************************; FILE ASC.ASM;*********************************;;        DISASSEMBLER64;    SYMBOLIC DISASSEMBLER;       BY DENTON MARLOWE;ENDDAT ;;*********************************DATAO1 LDA CDATA ;CURRENT TABLE CMP NDATA ;LAST TABLE DONE BEQ ENDAX ;IF SO EXIT ASL A ;CDATA*2 ASL A ;CDATA*4 CLC ADC CDATA ;CDATA*5 TAY ;PUT INTO INDEX LDA TDATA,Y ;START LOW STA WORKER ;STORE INY ;**; GET TABLE DATA;*********************************DATAO2 INY ;INC OFFSET LDA TDATA,Y ;END LOW STA EAS ;STORE INY ;INC OFFSET LDA TDATA,Y ;END HIGH STA EAS+1 ;STORE INY ;INC OFFSET LDA TDATA,Y ;DATA TYPE STA TEXTER ;STORE CMP #'S'       ;IS T;*********************************; CHECK PASS;*********************************ASCCCC LDA PASS CMP EPASS ;EXTERNAL BNE ASCKKSKIPER LDA EAS STA SELECT LDA EAS+1 STA SELECT+1 JMP DATUT;*********************************; DISASSEMBLER LOOP FOR LINE BCS ASCIIQ ;IF EA STOP;********************************* JSR STOP BEQ ASCIIQ JSR GETIN BEQ ASCII CMP #' ' BNE ASCII LDA DEVICE PHA LDA #$03 STA DEVICE LDA #<PMSG LDY #>PMSG JSR STRPNT PLA STA DEVICEPAUS1 JSR GETIN BEQ PAUS1 BNE FF ;SET N=1 RTS ;RETURNENDDAT LDA #$00 ;SET N=0 RTS ;RETURN;*********************************; CHECK OPTIONS;*********************************ACHECK LDA TEXTER ;GET DATA TYPE CMP #'4'         ;WORD-1 BEQ AC0 CMP #'3'         ;DBYTE BEQ AC1 CMSX ;IF NOT EXIT JSR PRTONE ;PRINT BYTE JSR PRAD ;PRINT ADDRESS LDY #>MBYTE ;.BYTE LDA #<MBYTE ; JSR STRPNT ;PRINT IT LDA TEXTER ;GET TYPE CMP #'0'          ;ASCII BEQ ALINE ;ASCII BYTES JSR DOLLAR ;PRINT $ JSR GETSL ;GET BYTE JSR PRBYT ;PRINT ;********************************* JSR GETSL ;GET BYTE JSR CASCII ;CHECK FOR ASCII BCS NASCII ;IF NOT BRANCH LDA #'''      ;PRINT ONE QUOTE JSR PCHAR ;PRINT IT;*********************************ALOP JSR GETSL ;GET BYTE JSR CASCII ;IS IT ASCII BCS 1 IF END INC TEMP ;INC COUNT LDA TEMP ;LOAD COUNT CMP #$28 ;40 CHAR BEQ EASCII ;IF SO END JMP ALOP ;NEXT;*********************************EASCI1 JSR EASCII SEC RTS;*********************************EASCII LDA #''' ;PRINT ONE QUOTE JSR PCHAR ;;*********************************SORT4 JMP INTSET;*********************************; PRINT INTERNAL ADDRESS TABLE;*********************************INTPRT SEC LDA TABINS SBC TABINE STA TEMP LDA TABINS+1 SBC TABINE+1 ORA TEMP BNE INTOUT RTS; INTPRMINTPRS LDA #$08 JSR SPACMINTPRM JSR PWORKD JSR INCI LDA TABINP+1 CMP TABINE+1 BCC PRTOK BNE PREND LDA TABINP CMP TABINE BCS PRENDPRTOK DEC SAVA BMI LOOP2 LDA #$02 JSR SPACM JMP INTPRPREND JMP NEXPTSLOOP2 JSR NEXPTS JMP LOOP1;**;  (C)1986 BY DENTON MARLOWE;;*********************************; DATA TABLE HANDLER;*********************************DATAOP LDA NDATA ;GET NUM TABLES BEQ ENDAX ;IF ZERO EXIT LDA #$00 ;ZERO BYTE STA CDATA ;SET FIRST TABLE BEQ DATAO1 ;ENDAX JMP INC OFFSET LDA TDATA,Y ;START HIGH STA WORKER+1 ;STORE SEC ;C=1 LDA WORKER ; SBC SELECT ; STA TEMP ; LDA WORKER+1 ; SBC SELECT+1 ; ORA TEMP ; BEQ DATAO2 ;MATCH INC CDATA ;NEXT TABLE BNE DATAO1 ;CHECK FOR MATCH;*******************************IT SKIPPER BNE ASCCCC ;;*********************************; SKIP RANGE OF ADDRESSES;********************************* LDA PASS CMP CPASS BNE ASCCCC LDA EAS STA SELECT LDA EAS+1 STA SELECT+1 JSR INCSL JSR ORGIN JSR DECSL JSR COMENT JMP DATU DATA;*********************************ASCKK LDA PASS ;GET PASS CMP CPASS ;IS IT LAST BNE ASCI1 ;NO PRINT JSR COMENT ;COMMENT LINEASCII LDA PASS ;GET PASS CMP CPASS ;IS IT LAST BNE ASCI1 ;NO PRINT JSR PRTDAT ;PRINT LINEASCI1 JSR ACHECK ;DIS ONEASCII;*********************************ASCIIQ LDA PASS ;GET PASS CMP CPASS ;IS IT LAST BNE DATUT ;EXIT JSR INCSL JSR COMENT ;COMMENT LINE JSR DECSL;*********************************; EXIT TO NEXTSL;*********************************DATUT LDA #$P #'2'         ;WORD BEQ AC0 JMP BYTES ;BYTE OR ASCIIAC0 JMP WORDS ;WORD OR WORD-1AC1 JMP DBYTES ;DBYTES;*********************************; .BYTE DIRECTIVE;*********************************BYTES LDA PASS ;GET PASS CMP CPASS ;IS IT LAST BNE BYTEBYTE JSR NEWLIN ;NEXT LINEBYTESX JMP NEXTBY ;NEXT BYTE;*********************************; ASCII TEXT;*********************************ALINE LDA #$00 ;ZERO BYTE STA TEMP ;STORE IN COUNT;*********************************; CHECK FIRST BYTE OF LINE	 EASCII ;IF NOT END LINE JSR PCHAR ;PRINT ASCII; REV 2-12-2018 START; IF CHAR = ' THEN PRINT SECOND ' JSR GETSL ; GET BYTE AGAIN CMP #$27 ;''' BNE Q00000 JSR PCHAR ;PRINT ASCIIQ00000 = *; REV 2-12-2018 END JSR NEXTBY ;INC SELECT BCS EASCI1 ;C=*********************************INTOUT JSR HEADSY JSR SORT;*********************************LOOP1 LDA #$03 STA SAVAINTPR JSR GETI STA WORKED JSR INCI JSR GETI STA WORKED+1 JSR SPACE JSR SYMOP BCC INTPRS JSR FIXSYM LDA #$02 JSR SPACM JMP
P SPACM ;;*********************************; PRINT LINE DATA FOR OTHER LINES;*********************************PRTOTH JSR PRTDAT ;PRINT LINE LDA FOROPT BEQ PRTOT1 LDA #$09 .BYTE $2CPRTOT1 LDA #$0B ;12 SPACES JSR SPACM ; JMP PRTEST ;RESET I/O;*T LOW CMP SAGOL ;COMPARE BCC ROUT ;< OUT OF RANGE;********************************* CLC ;C=0 IN RANGE RTSROUT SEC ;C=1 OUT RANGE RTS;*********************************; INITIALIZE INTERNAL TABLE;*********************************INITIN LDA DATAB***************; SAVE INTERNAL TABLE POINTERS;*********************************SAVINT LDA TABINS STA SAVES LDA TABINS+1 STA SAVES+1 LDA TABINE STA SAVEE LDA TABINE+1 STA SAVEE+1 RTS;*********************************; RESTORE INTERNAL TABLE P*PUTI SEC     LDA TABINS     SBC TABINE     STA TEMP     LDA TABINS+1     SBC TABINE+1     ORA TEMP     BEQ PUIT;     JSR INTCHK     ;IS ADDRESS IN TAB     BCS INTEXT     ;IF SO EXIT;PUIT LDA TABINE     ;GET LOW END     STA ZEROUR     ;STORY ;PUT IN TABLE;     JSR SEMIC      ;PRINT ;     JSR PWORKD     ;PRINT ADDRESS;*********************************     JSR INCIE      ;INC TO HIGH & LOW     JMP INCIE      ;INC TO HIGH & LOW;INTEXT = *     CLC            ;C=0 FOR NO MATCH     RTS*********INCI INC TABINP BNE *+5 INC TABINP+1 RTS;*********************************; GET BYTE FROM INTERNAL TABLE;*********************************GETI LDA TABINP STA ZEROUR LDA TABINP+1 STA ZEROUR+1 LDY #$00 LDA (ZEROUR),Y RTS;***********ER+1 SEC LDA WORKED+1 SBC WORKER+1 STA TEMP LDA WORKED SBC WORKER ORA TEMP BEQ INTMAT;********************************* JSR INCI LDA TABINP+1 CMP TABINE+1 BCC INTCH BNE INTEND LDA TABINP CMP TABINE BCC INTCH;****************************************************; PUT FIRST WORD INTO TEMP;*********************************SORT1 JSR GETI STA TEMP JSR INCI JSR GETI STA TEMP+1;*********************************; INC TO NEXT WORD AND COMPARE; SMALLP POINTS TO LOW BYTE;***************L BNE LARGE LDA WORKED CMP TEMP BCC SMALLLARGE JMP SORT2;*********************************; WORD IS SMALL THAN TEMP PUT IT; WHERE TEMP CAME FROM (SMALLS);*********************************SMALL LDA SMALLS STA ZEROUR LDA SMALLS+1 STA ZEROUR+1 LDY #$00 LDA TEMP STA (ZEROUR),Y INY LDA TEMP+1 STA (ZEROUR),Y;********************************* LDA SMALLS STA TABINP LDA SMALLS+1 STA TABINP+1 JMP SORT1;*********************************; IF AFTER SCAN TO TABLE GOTO NEXT; WORD IN TABLE FO*******************************;.FIL 0:INTERNAL.ASM;********************************;.END;*********************************; FILE INTERNAL.ASM;*********************************;;        DISASSEMBLER64;    SYMBOLIC DISASSEMBLER;       BY DENTON  ;COMPARE BCC RANG ;< CHECK START BNE ROUT ;> OUT OF RANGE LDA WORKED ;GET LOW CMP EAGOL ;COMPARE BCS ROUT ;> OUT OF RANGE;*********************************RANG LDA WORKED+1 ;GET HIGH CMP SAGOL+1 ;COMPARE BCC ROUT ;< OUT OF RANGE LDA WORKED ;GEE STA TABINS STA TABINE LDA DATABE+1 STA TABINS+1 STA TABINE+1;*********************************; INITIALIZE INTERNAL TABLE POINT;*********************************INTSET LDA TABINS STA TABINP LDA TABINS+1 STA TABINP+1 RTS;******************OINTERS;*********************************RESINT LDA SAVES STA TABINS LDA SAVES+1 STA TABINS+1 LDA SAVEE STA TABINE LDA SAVEE+1 STA TABINE+1 RTS;*********************************; PUT ADDRESS IN INTERNAL TABLE;********************************E     LDA TABINE+1   ;GET HIGH END     STA ZEROUR+1   ;STORE     LDY #$00       ;OFFSET     LDA WORKED     ;GET LOW ADDRESS     STA (ZEROUR),Y ;PUT IN TABLE     INY            ;OFFSET TO HIGH     LDA WORKED+1   ;GET HIGH ADDRESS     STA (ZEROUR),            ;RETURN;*********************************; INC INTERNAL END TABLE POINTER;*********************************INCIE INC TABINE BNE *+5 INC TABINE+1;*********************************; INC INTERNAL ADDRESS POINTER;**********************************************; CHECK IF ADDRESS IN TABLE;*********************************INTCHA LDA SELECT STA WORKED LDA SELECT+1 STA WORKED+1;*********************************INTCHK JSR INTSETINTCH  JSR GETI STA WORKER JSR INCI JSR GETI STA WORK*****INTEND CLC RTSINTMAT SEC RTS;*********************************; 2 BYTE TABLE SORT ROUTINE;*********************************SORT JSR INTSET ;SET POINTERS LDA TABINS STA SMALLS STA SMALLP LDA TABINS+1 STA SMALLS+1 STA SMALLP+1;***************************SORT2 JSR INCI LDA TABINP STA SMALLP LDA TABINP+1 STA SMALLP+1 JSR GETI STA WORKED JSR INCI LDA TABINP+1 CMP TABINE+1 BCC T2 BNE S3 LDA TABINP CMP TABINE BCC T2S3 JMP SORT3T2 JSR GETI STA WORKED+1 CMP TEMP+1 BCC SMAL	 LDY #$00 LDA WORKED STA (ZEROUR),Y INY LDA WORKED+1 STA (ZEROUR),Y;*********************************; PUT TEMP IN PLACE OF WORD; SMALLP POINTS TO LO ADDRESS;********************************* LDA SMALLP STA ZEROUR LDA SMALLP+1 STA ZEROUR+1 MARLOWE;;  (C)1986 BY DENTON MARLOWE;;*********************************; INTERNAL ADDRESS TABLE ROUTINES;*********************************; CHECK FOR OUT OF RANGE ADDRESS;*********************************RANGE LDA WORKED+1 ;GET HIGH CMP EAGOL+1	
OPT BNE CSHORT LDY #$20 ;COUNTER .BYTE $2CCSHORT LDY #$10COMPT LDA #'*'    ;STAR JSR PCHAR ;PRINT CHAR DEY ;DEC COUNTER BNE COMPT ;20 OR 10 STARS RTS ;RETURN;*********************************;     PRINT SELECTED ADDRESS;**********************	*************PSELEC LDA SELECT ;LOW BYTE LDY SELECT+1 ;HIGH BYTE JMP PRBYTS ;PRINT THEM;*********************************; PRINT WORKED ADDRESS WITH XX;*********************************PWORK JSR PRLA ;PRINT XX;*********************************; 	AR;********************************; PRINT DOLLAR SIGN FOR HEX;********************************DOLLAR LDA #'$' JMP PCHAR;********************************; PRINT LEFT PARENTTHESES;********************************LPAREN LDA #'(' JMP PCHAR;******	HAR;********************************; PRINT A COMMA AND A "Y";********************************YINDEX LDA #',' JSR PCHAR LDA #'Y' JMP PCHAR;********************************; PRINT CARRAIGE RETURN;*********************************CRLF LDA #$0D ;	**********SPACE LDA #$20 ;ASCII SPACE JMP PCHAR ;PRINT;*********************************; SELECT NEXT BYTE;*********************************NEXTSL LDA SELECT+1 CMP EA+1 BCC SLOK BNE NOINC LDA SELECT CMP EA BCS NOINCSLOK JSR INCSL CLC RTSN	SELECT ADC OFFSET STA ZEROUR LDA SELECT+1 ADC OFFSET+1 STA ZEROUR+1 LDY #$00 LDA (ZEROUR),Y RTS;*********************************; DEC SLECTED BYTE;*********************************DECSL LDA SELECT BNE *+5 DEC SELECT+1 DEC SELECT RTS;***	MSGBZP .BYTE ' ;BIT ZP SKIP',0POSREL .BYTE '*+$',0NEGREL .BYTE '*-$',0MSGEND .BYTE '.END',0ILLMSG .BYTE ';??? ILLEGAL OPCODE',0;*********************************; PRINT ONE BYTE OPCODE DATA;*********************************PRTONE JSR GETSL ;GET 	ETSL ;GET BYTE JSR PRBYT ;PRINT BYTE JSR SPACE ; JSR INCSL ;INC TO OPERAND JSR GETSL ;GET BYTE JSR PRBYT ;PRINT IT LDA FOROPT BEQ PRTTW1 LDA #$04 .BYTE $2CPRTTW1 LDA #$06 ;7 SPACES JSR SPACM ; JSR DECSL ;RESET POINTER JMP PRTEST ;RESET I/O D	SR INCSL ;INC TO LAST BYTE JSR GETSL ;GET BYTE JSR PRBYT ;PRINT IT LDA FOROPT BEQ PRTTH1 LDA #$01 .BYTE $2CPRTTH1 LDA #$03 ;4 SPACES JSR SPACM ; JSR DECSL ;DEC POINTER JSR DECSL ;DEC POINTER;*********************************; RESET I/O DEVICE AND #$07 ;MASK DISK STA DEVICE ;RESET LDA FOROPT ;CHECK FORMAT BNE PRTDAF ;SKIP LINE # LDA LINECT+1 ;HIH BYTE LINE LDX LINECT ;LOW BYTE LINE JSR PRTNUM ;PRINT NUMBER JSR SPACE ; JSR SPACE ;PRTDAF JSR PSELEC ;PRINT ADDRESS LDA #$01 ;2 SPACES JM	***********PRLA LDA #'X' ;XX LABEL JSR PCHAR ; LDA #'X'     ; JMP PCHAR ;;*********************************; PRINT CODE ADDRESS;*********************************PRAD JSR SYM ;CHECK FOR SYMBOLIC BCS NPRAD1 ;C=1 SYMBOLIC LABEL LDA XOPT ;CHECK GEN	****************P1 JSR PRLA ;PRINT XX JSR PSELEC ;PRINT ADDRESS NOP NOP NOPNPRAD RTS ;RETURN;*********************************NPRAD1 LDA FOROPT BNE NPRAD JMP FIXSYM;*********************************; PRINT SELECT ADDRESS;********************	PRINT WORKED ADDRESS;*********************************PWORKD LDA WORKED ;LOW BYTE LDY WORKED+1 ;HIGH BYTE JMP PRBYTS ;PRINT THEM;********************************; PRINT SEMICOLON FOR COMMENT;********************************SEMIC LDA #';' JMP PCH	**************************; PRINT RIGHT PARENTTHESES;********************************RPAREN LDA #')' JMP PCHAR;********************************; PRINT A COMMA AND AN "X";********************************XINDEX LDA #',' JSR PCHAR LDA #'X' JMP PC	ASCII CR JMP PCHAR ;PRINT;*********************************; PRINT SIX SPACES;*********************************SPAC6 LDA #$05SPACM STA TEMPSPAC JSR SPACE DEC TEMP BNE SPAC;*********************************; PRINT SPACE;***********************	OINC SEC RTS;*********************************; INC SELECTED BYTE;*********************************INCSL INC SELECT BNE *+5 INC SELECT+1 RTS;*********************************; GET SELECTED BYTE;*********************************GETSL CLC LDA 	******************************; INITIALIZE SELECT;*********************************INTSA LDA SA STA SELECT LDA SA+1 STA SELECT+1 RTS;*********************************; ASCII STRING DATA;*********************************MSGBIT .BYTE '.BYTE $',0	BYTE JSR PRBYT ;PRINT BYTE LDA FOROPT BEQ PRTON1 LDA #$07 .BYTE $2CPRTON1 LDA #$09 ;10 SPACES JSR SPACM ; JMP PRTEST ;RESET I/O DEVICE;*********************************; PRINT TWO BYTE OPCODE DATA;*********************************PRTTWO JSR G	EVICE;*********************************; PRINT THREE BYTE OPCODE DATA;*********************************PRTTHE JSR GETSL ;GET BYTE JSR PRBYT ;PRINT BYTE JSR SPACE ; JSR INCSL ;INC TO OPERAND JSR GETSL ;GET BYTE JSR PRBYT ;PRINT IT JSR SPACE ; J		 (DISK IF USED);*********************************PRTEST LDA OUTPUT ;GET I/O DEVICE STA DEVICE ;RESET I/O RTS ;RETURN;*********************************; PRINT LINE DATA FOR OPCODE;*********************************PRTDAT LDA DEVICE ;OUTPUT DEVICE 	ERATION BEQ P1 ;NO LABELS JSR INTCHA ;IS ADDRESS IN TAB BCS P1 ;C=1 YES LDA FOROPT ;CHECK FORMAT BEQ POVER  ;STD FORMAT JMP SPACE  ;ONE SPACEPOVER JMP SPAC6 ;SPACE OVER;*********************************; PRINT ADDRESS AS LABEL;*****************

****************************ACC LDA #'A'     ;ASCII A JMP PCHAR ;PRINT IT;********************************;       IMMEDIATE MODE;********************************IMMEDT JSR INCSL ;INC TO DATA BYTE LDX PASS ;GET PASS CPX CPASS ;LAST PASS BNE IMEXI
 XINDEX ;PRINT ,X;********************************;       ZERO PAGE,Y MODE;********************************ZEROY JSR ONEBYT ;PRINT ONE BYTE JMP YINDEX ;PRINT ,Y;*********************************;         BIT ABSOLUTE MODE;************************
 CMP #$4C ;IS IT JMP BNE ABSEXT ;IF NOT EXIT JSR NEWLIN ;NEXT LINE JSR INCSL JSR COMET ;COMMENT LINE JSR DECSLABSEXT RTS ;RETURN;*********************************;       ABSOLUTE,X MODE;********************************ABSX JSR TWOBYT ;PRINT TWO
********IMPLID JSR GETSL ;GET BYTE BEQ IMPLI1 ;BRK CMP #$60 ;CHECK CODE BEQ IMPLI1 ;RTS CMP #$40 ;CHECK CODE BEQ IMPLI1 ;RTIIMPONE RTS ;RETURNIMPLI1 JSR NEWLIN ;PRINT NEW LINE JSR INCSL JSR COMET ;COMMENT LINE JMP DECSL;**********************
NDIRECT,X MODE;********************************INDX JSR LPAREN ;PRINT ( JSR ZEROX ;PRINT $HH,X JMP RPAREN ;PRINT );********************************;     INDIRECT,Y MODE;********************************INDY JSR LPAREN ;PRINT ( JSR ONEBYT ;PRINT O
EQ RELSYM   ;EXIT ON EXTERNAL;       LDA SELECT   ;GET LOW POINTER       STA WORKED   ;STORE TEMP       LDA SELECT+1 ;GET HIGH POINTER       STA WORKED+1 ;STORE TEMP       INC WORKED   ;ADD 1 TO ADDRESS       BNE *+5      ;ZERO MEANS CARRY       
       BCC RELND    ;TO SELECT ADDRES       INC WORKED+1 ;AND NOW POINTSRELND  STA WORKED   ;TARGET ADDRESS;       LDA PASS     ;GET PASS COUNT       CMP IPASS    ;INTERNAL       BEQ RELPUT   ;ADDRESS TABLE;       JSR SYMOP    ;CHECK FOR SYMBOL
***************************; PRINT RELATIVE TO PC;*********************************RELPC JSR GETSL ;GET BRANCH DATA PHA ;SAVE ON STACK BMI RELNEG ;BACKWARD ? LDA #<POSREL LDY #>POSREL JMP RELPMRELNEG LDA #<NEGREL LDY #>NEGRELRELPM JSR STRPNT 
******************************;  ORGIN LABEL;*********************************ORGIN JSR PRTOTH ;PRINT LINE DATA LDA #'*'        ;PC JSR PCHAR ;PRINT IT LDA #'='        ;EQUALS JSR PCHAR ;PRINT IT JSR DOLLAR ;ASCII $ JSR PSELEC ;PRINT ADDRESS JM	 LINE;*********************************; PRINT COMMENT LINE;*********************************COMENT JSR COMET ;PRINT COMMENT JMP NEWLIN ;NEXT LINE;*********************************COMET JSR PRTOTH ;PRINT LINE DATA JSR SEMIC ;PRINT COMMENT LDA FOR
T ;EXIT LDA #'#'        ;ASCII # JSR PCHAR ;PRINT IT JSR DOLLAR ;PRINT $ JSR GETSL ;GET BYTE PHA ;STACK IT JSR PRBYT ;PRINT IT PLA ;POP IT JSR CASCII ;PRINTABLE ASCII BCS IMEXIT ;IF NOT EXIT PHA ;STACK IT JSR SPAC6 ;SPACE OVER JSR SEMIC ;COMM
********************************;      ZERO PAGE MODE;*********************************ZEROPG JMP ONEBYT ;PRINT ONE BYTE;*********************************;      ZERO PAGE,X MODE;********************************ZEROX JSR ONEBYT ;PRINT ONE BYTE JMP
*********ABSBIT NOP;*********************************;         ABSOLUTE MODE;*********************************ABSLUT JSR TWOBYT ;PRINT TWO BYTE JSR DECSL ;DEC TO SECOND JSR DECSL ;DEC TO OPCODE JSR GETSL ;GET BYTE PHA JSR INCSL JSR INCSL PLA
 BYTE JMP XINDEX ;PRINT ,X;********************************;       ABSOLUTE,Y MODE;********************************ABSY JSR TWOBYT ;PRINT TWO BYTE JMP YINDEX ;PRINT ,Y;********************************;       IMPLIED MODE;************************
**********;       INDIRECT MODE;********************************INDRCT JSR LPAREN ;PRINT ( JSR TWOBYT ;PRINT TWO BYTE JSR RPAREN ;PRINT ) JSR NEWLIN ;NEXT LINE JSR INCSL JSR COMET ;COMMENT LINE JMP DECSL;********************************;     I
NE BYTE JSR RPAREN ;PRINT ) JMP YINDEX ;PRINT ,Y;*********************************;      RELATIVE MODE;*********************************RELATV JSR INCSL    ;INC BYTE POINTER       LDA PASS     ;GET PASS COUNT       CMP EPASS    ;EXTERNAL       B
INC WORKED+1 ;INC HIGH ADDRESS;       JSR GETSL    ;GET BYTE BRANCH OFFSET       CMP #$00     ;IS IT ZERO       BPL FORWRD   ;IF SO BRANCH       DEC WORKED+1 ;DEC HIGH POINTERFORWRD CLC          ;CLEAR CARRY FLAG       ADC WORKED   ;ADD IN OPERAND
       BCS RELSYM   ;C=1 SYMBOL;       LDA ROPT     ;CHECK OPTION       CMP #$01     ;REL TO * ?       BEQ RELPC    ;IF SO DO IT;       JMP PWORK    ;PRINT ADDRESS;RELPUT = *       JMP PUTI     ;PUT IN TABLE;RELSYM RTS          ;RETURN;******
PLA ;GET BRANCH DATA CLC ;CLEAR CARRY ADC #$02 ;ADD 2 FOR BRANCH BPL RELP ;FORWARD ? CLC ;CLEAR CARRY EOR #$FF ;COMPLMENT ADC #$01 ;ADD 1 FOR 2'SRELP JSR PRBYT ;PRINT BRANCH JSR SPAC6 ;SPACE JSR SEMIC ;COMMENT CHAR JMP PWORK ;PRINT ADDRESS;***
	P NEWLIN ;START NEWLINE;*********************************; END OF FILE LABLE;*********************************EFILE JSR COMENT ;COMMENT LINE JSR PRTOTH ;PRINT LINE DATA LDA #<MSGEND ;END MESSAGE LDY #>MSGEND JSR STRPNT ;PRINT IT JMP NEWLIN ;NEW 
ENT LDA #'''        ;QUOTE JSR PCHAR ;PRINT IT PLA ;POP IT JSR PCHAR ;PRINT IT LDA #'''        ;QUOTE JSR PCHAR ;PRINT ITIMEXIT RTS ;EXIT;*********************************;      BIT ZERO PAGE MODE;*********************************ZERBIT NOP;*
 OPERAND OR; OR ONE BYTE OPERAND LIKE A BRANCH; OR ZERO PAGE INSTRUCTION;*********************************BYZBIT = *       LDA BITFLG       AND #$02       BEQ DISL;********************************;      TO SKIP OR NOT;************************** #$A2   ;LDA A IMMEDIATE SKIP      BEQ B0000      CMP #$A9   ;LDX A IMMEDIATE SKIP      BEQ B0000      CMP #$65   ;ADC ZP      BEQ B0000      CMP #$85   ;STA ZP      BEQ B0000      CMP #$B1   ;LDA (ZP),Y      BEQ B0000      CMP #$E6   ;INC*****;  PRINT LINE DATA FOR .BYTE;*********************************       JSR COMENT    ;COMENT LINE;       JSR PRTDAT    ;PRINT LINE DATA       JSR PRTONE    ;ONE BYTE       JSR PRAD      ;PRINT ADDRESS       JSR SPACE     ;SPACE OVER       LDARINT BYTE       ;JSR INCSL    ;INC SELECT       JSR COMET    ;COMENT LINE       ;JSR DECSL    ;REASET SELECT       JMP FINAL    ;CR AND NEXT BYTE;*********************************;BYTEXT JMP DISL1;*********************************; ADDRESSING MODPCODE;********************************ONEBIT NOP;*********************************;      ONE-BYTE OPERAND;********************************ONEBYT JSR INCSL ;INC TO BYTE JSR GETSL ;GET BYTE STA WORKED ;STORE OPERAND LDA #$00 ;ZERO BYTE STA WORKEDCHECK FOR SYMBOL BCS TWOB ;SYMBOL FOUND JSR RANGE ;IS IT INTERNAL BCC ONEBY ;GENERATE LABEL JSR DOLLAR ;EXTERNAL JMP ONEBX ;PRINT ADDRESSONEBY JSR PRLA ;PRINT XXONEBX LDA WORKED ;GET OPERAND JMP PRBYT ;PRINT BYTE;********************************INCSL ;INC TO BYTE JSR GETSL ;GET BYTE STA WORKED+1 ;STORE HIGH BYTE LDA PASS ;GET PASS COUNT CMP IPASS       ;INTERNAL BEQ OPCPUT ;TABLE OPERNAD CMP EPASS       ;EXTERNAL BEQ OPCSYM ;EXTERNAL EQUATE;********************************;  OUTPUT OPE****************TWOBY =* JSR PRLA   ;PRINT XXTWOBX = * JMP PWORKD ;PRINT ADDRESSOPCPUT = * JMP PUTI   ;PUT IN TABLEOPCSYM = * JMP SYMOP  ;CHECK EXT EQUATETWOB = * RTS        ;RETURN;*********************************; ILLEGAL MODES, UNUSED OPCSTRPNT  ;PRINT STRING       JSR DOLLAR  ;PRINT $       JSR GETSL   ;GET ILLEGAL BYTE       ;BEGIN REV 2017-3       PHA         ;PUT BYTE ON STACK;       JSR PRBYT   ;PRINT IT       JSR SPACE   ;SPACE OVER;       PLA         ;POP BYTE OFF STACK
  PCHAR   ;PRINT IT       LDA #'''    ;QUOTE       JSR PCHAR   ;PRINT IT       JSR SPACE   ;SPACE OVER;ISKIP = *;END REV 2017-3       LDY #>ILLMSG       LDA #<ILLMSG       JMP STRPNT;********************************;      ACCUMULATOR MODE;***********      JSR INCSL  ;INC TO OPERAND      JSR GETSL  ;GET OPERAND      PHA      JSR DECSL      PLA                 ;CHECK FOR SKIP      CMP #$10   ;BPL SKIP      BEQ B0000      CMP #$18   ;CLC SKIP      BEQ B0000      CMP #$30   ;BMI      ;      TO SKIP OR NOT;*********************************      JSR INCSL  ;INC TO OPERAND      JSR GETSL  ;GET OPERAND      PHA      JSR DECSL      PLA                 ;CHECK FOR SKIP      CMP #$A1   ;LDY A IMMEDIATE SKIP      BEQ B0000      CMP      BEQ B0000;      JMP DISL;********************************;      PRINTING PASS?;*********************************B0000 = *       LDA PASS  ;GET PASS COUNT       CMP CPASS ;LAST       BNE BYTT  ;IF NOT NEXT BYTE;**************************** #<MSGBIT  ;.BYTE $       LDY #>MSGBIT  ;       JSR STRPNT    ;PRINT IT;       JSR GETSL     ;GET BYTE       JSR PRBYT     ;PRINT BYTE;       LDA #<MSGBZP  ;BIT COMMENT       LDY #>MSGBZP  ;       JSR STRPNT    ;PRINT IT;       JSR NEWLIN   ;PE UTILITIES;*********************************;;*********************************; ANALYSIS OPERAND ROUTINES;*********************************;    BIT ZP ONE-BYTE OPERAND; ZERO PAGE BIT IS ALMOST ALWAYS;   A BIT TRICK TO SKIP THE NEXT;          O+1 ;ZERO HIGH BYTE LDA PASS ;GET PASS COUNT CMP IPASS       ;INTERNAL BEQ OPCPUT ;TABLE OPERAND CMP EPASS       ;EXTERNAL BEQ OPCSYM ;EXTERNAL EQUATE;*********************************; OUTPUT OPERAND;********************************* JSR SYMOP ;;      BIT ABS TWO-BYTE OPERAND;********************************TWOBIT NOP;********************************;      TWO-BYTE OPERAND;********************************TWOBYT JSR INCSL ;INC TO BYTE JSR GETSL ;GET BYTE STA WORKED ;STORE LOW BYTE JSR RAND;******************************** JSR SYMOP  ;CHECK SYMBOL BCS TWOB   ;C=1 FOUND ONE JSR RANGE  ;IS IT INTERNAL BCC TWOBY  ;GERNERATE LABEL JSR DOLLAR ;EXTERNAL JMP TWOBX  ;;********************************;  OUTPUT OPERAND;****************ODES;; ZZZZ XX .BYTE $XX ;'Y' ;??? ILLEGAL OPCODE;;*********************************ILLEGL INC ERRCT   ;INC ERROR COUNT       BNE *+5     ;SKIP NEXT LINE       INC ERRCT+1 ;INC ERROR COUNT       LDY #>MBYTE ;.BYTE       LDA #<MBYTE ;       JSR 	       JSR CASCII  ;IS IT PRINTABLE ASCII       BCS ISKIP   ;IF NOT EXIT       PHA         ;STACK IT       JSR SPACE   ;SPACE OVER       JSR SEMIC   ;COMMENT       LDA #'''    ;QUOTE       JSR PCHAR   ;PRINT IT       PLA         ;POP IT       JSRBEQ B0000      CMP #$38   ;SEC      BEQ B0000;      JMP DISL;********************************;      BIT ABS SKIP TRICK;*********************************BYABIT = *       LDA BITFLG       AND #$01       BEQ DISL;********************************
 JSR CHROUT ;OUTPUT TO PRINTER JSR CLRCHN ;RESET OUTPUTSCREN LDA DEVICE ;GET DEVICE FLAG AND #$03 ;CHECK FOR SCREEN BEQ PEXIT ;IF NOT BRANCH PLA ;GET CHAR PHA ;RESAVE CHAR JSR CHROUT ;OUTPUT TO SCREENPEXIT PLA ;GET CHAR RTS ;RETURN;***********INEOK ;IF NOT BRANCH JSR FINISH ;FINISH PAGE;*********************************; START NEW PAGE WITH HEADING;*********************************HEADER LDA DEVICE ;CHECK DEVICE AND #$04 ;PRINTER? BEQ LINEOK ;IF NOT EXIT JSR NEXPTR ;NEXT LINE LDA #$0XPTR LDA #$04 STA DEVICE LDA #<LTITLE LDY #>LTITLE JSR STRPNT JSR NEXPTR;*********************************; INC PAGE COUNT;********************************* INC PAGECT BNE PAGER1 INC PAGECT+1PAGER1 JSR NEXPTR JSR NEXPTRLINEOK RTS ;*******NE HEADOK ;IF NOT BRANCH JSR FINISH ;FINISH PAGE;*********************************; START NEW PAGE WITH HEADING;*********************************HEADES JSR NEXPTS ;NEXT LINE LDA #<XTITLS ;HEADER LDY #>XTITLS ; JSR STRPNT ;PRINT IT JSR NEXPTS JSH;*********************************; SCREEN UTILITES;*********************************SCROFF LDA DEVICE AND #$04 BEQ SCRNO1 LDA VICREG AND #$EF STA VICREGSCRNO1 RTS;*********************************SCRON LDA VICREG ORA #$10 STA VICREG RTSCONST1 .BYTE $00,$00,$00,$03,$27;*********************************; PAGE TITLE;*********************************XTITLE .BYTE 'DISASSEMBLER64.......PAGE ' .BYTE $00LTITLE .BYTE 'LINE# LOC   CODE        LINE' .BYTE $00;****************************MODE.ASM;*********************************;;        DISASSEMBLER64;    SYMBOLIC DISASSEMBLER;       BY DENTON MARLOWE;;  (C)1986 BY DENTON MARLOWE;;*********************************; ADDRESSING MODE UTILITIES;*********************************ECK BIT FLAG       BEQ DISL   ;IF ZERO NO BIT       JSR GETSL  ;GET BYTE       CMP #$24   ;ZEROPAGE BIT       BEQ BYZBIT ;       CMP #$2C   ;ZEROPAGE BIT       BEQ BYABIT ;       BNE DISL   ;;*********************************; CHECK BIT ABS DEC;IF LAST BRANCH       JSR OPERN1 ;IF LAST BRANCH       JMP BYTT   ;NEXT INSTRUCTION;********************************; PRINT DISASSEMBLY ADDRESS;********************************DISL1  JSR PRTASS ;PRINT LINE DATA       JSR PRAD   ;PRINT ADDRESS     BYTE       JSR OPERND ;PRINT OPERANDFINAL  JSR NEWLIN ;START NEW LINEBYTT   JMP NEXTSL ;NEXT INSTRUCTION;********************************;      BIT ZP SKIP TRICK;; THE SKIP WILL ALWAYS INVOLVE; A FOLLWING OPCODE THAT IS EITHER; AN OPCODE WITH NO**********************; PRINTER OUTPUT ROUTINES;*********************************; FINISH OUT PAGE WITH CR;*********************************FINISH JSR CRLFPR ;PRINT CR INC LISTCT ;INC LINE COUNT LDA LISTCT ;GET COUNT CMP #$42 ;66 LINES BNE FINISE STA DEVICE ;RESET DEVICE RTS ;RETURN;*********************************; START NEWLINE AND CHECK COUNT;*********************************NEXPTR JSR CRLFPR ;PRINT CRNEXLIN INC LISTCT ;INC LINE COUNT LDA LISTCT ;GET COUNT CMP #$3C ;48 LINES BNE L4 ;DEVICE #4 STA DEVICE ;SET DEVICE LDA #<XTITLE ;HEADER LDY #>XTITLE ; JSR STRPNT ;PRINT IT;*********************************; PRINT PAGE COUNT AND HEADER;********************************* LDX PAGECT LDA PAGECT+1 JSR PRTPAG JSR NEXPTR JSR NE**************************; SYMBOL TABLE ROUTINES;*********************************; START NEWLINE AND CHECK COUNT;*********************************NEXPTS JSR CRLFPR ;PRINT CR INC LISTCT ;INC LINE COUNT LDA LISTCT ;GET COUNT CMP #$3C ;48 LINES BR NEXPTS LDA #<LTITLS LDY #>LTITLS JSR STRPNT JSR NEXPTSHEADOK RTS;*********************************; CHECK FOR NEW PAGE FOR SYMBOL;*********************************HEADSY LDA LISTCT CMP #$35 BCS HEADFX JSR NEXPTS JMP NEXPTSHEADFX JMP FINIS;*********************************; HEX-TO-ASCII TABLE;*********************************HEXA .BYTE '0123456789ABCDEF';*********************************; CONSTANTS FOR PRTNUM ROUTINE;*********************************CONST0 .BYTE $01,$0A,$64,$E8,$10****; SYMBOL PAGE TITLE;********************************XTITLS .BYTE 'SYMBOL TABLE',0LTITLS .BYTE 'SYMBOL VALUE',0;*********************************;.FIL 0:MODE.ASM;*********************************;.END;*********************************; FILE ;      DISASSEMBLE ONE LINE;*********************************DSLINE JSR DATAOP ;CHECK FOR DATA       BMI BYTT   ;N=1 THEN FOUND;*********************************; CHECK BIT ZP DECODING OPTIONS;*********************************       LDA BITFLG ;CHODING OPTIONS;*********************************;********************************; PROCESS LINE OF CODE;********************************DISL = *       JSR GETSL  ;GET BYTE       LDX PASS   ;GET PASS COUNT       CPX CPASS  ;LAST       BEQ DISL1  	   JSR SPACE  ;SPACE OVER;********************************; PRINT INSTRUCTION;********************************       JSR GETSL  ;GET BYTE       PHA        ;STORE       JSR MNEMON ;PRINT MNEMONIC       JSR SPACE  ;SPACE OVER       PLA        ;GET H ;IF NOT MORE LDA #$00 ;ZERO BYTE STA LISTCT ;RESET COUNT RTS ;RETURN;*********************************; PRINT CR TO PRINTER;*********************************CRLFPR LDA #$04 ;DEVICE #4 STA DEVICE ;SET PRINTER JSR CRLF ;CR LDA OUTPUT ;GET DEVIC
ASSEMBLER;       BY DENTON MARLOWE;;  (C)1986 BY DENTON MARLOWE;;*********************************;      *** UTILITIES ***;*********************************; CHECK LINE COUNT FOR OUTPUT FILE;*********************************LINECK LDA PASS CMP $FFAB ;UNTALK CLC ;NO ERROR FLAG RTS ;RETURN;*********************************; PRINT DISK ERROR;*********************************DLOOC PHA ;STACK BYTE LDA #$0D ;ASCII CR JSR CHROUT ;PRINT IT PLA ;GET BYTE JSR CHROUT ;PRINT ITDLOOA JSR $FFA5  BNE *+5 INC LINECT+1 INC LINEFL BNE *+5 INC LINEFL+1 JSR CRLF LDA DEVICE AND #$04 BEQ NEWEXT JSR NEXLINNEWEXT RTS;*********************************; INPUT UTILITIES;*********************************; INPUT STRING ROUTINE;****************NEND;*********************************; PROCESS INPUT;********************************* JSR GETBYT LDA TEMP STA ADRS DEY BMI INEND JSR GETBYT LDA TEMP STA ADRS+1INEND RTS;*********************************; COVERT BUFFER INTO BYTES;*************BINARY SEC SBC #'0' BCC NOHEX CMP #$0A BCC YSHEX SBC #$07 CMP #$10 BCS NOHEX CMP #$0A BCS YSHEXNOHEX SEC RTSYSHEX CLC RTS;*********************************; GET OPTION (CR/Y OR N): Y=C=0;*********************************CRYS   JSR 0D       BEQ CRNO1CRYS1  CLC       RTSCRNO1  SEC       RTS;*********************************; PRINT UTILITES;*********************************; PRINT WORD MSB IN Y LSB IN A;*********************************PRBYTS PHA ;PUT A ON STACK TYA ;PUT  0'S TAY ;USE AS POINTER LDA HEXA,Y ;GET ASCII JSR PCHAR ;PRINT PLA ;PULL BYTE OUT AND #$0F ;MASK HIGH NIBBLE TAY ;USE AS POINTER LDA HEXA,Y ;GET ASCII JMP PCHAR ;PRINT;*********************************; STRING OUTPUT ROUTINE;***************** DEC NUMBER (0000);*********************************PRTPAG STX ZEROUR ;LOW  BYTE NUM STA ZEROUR+1 ;HIGH BYTE NUM LDX #$03 ;4 CHARS STX SAVX ;SAVE COUNT BNE PRTNU1 ;BRANCH;*********************************; PRINT DEC NUMBER (00000);**************NE PRTNU3PRTNU2 INY PRTNU3 SEC  LDA ZEROUR SBC CONST0,X STA ZEROUR LDA ZEROUR+1 SBC CONST1,X STA ZEROUR+1 BCS PRTNU2 LDA ZEROUR ADC CONST0,X STA ZEROUR LDA ZEROUR+1 ADC CONST1,X STA ZEROUR+1 TYA JSR PCHAR DEC SAVX BPL PRTNU1 RTS;**** GET CHAR PHA ;RESAVE CHAR JSR CHROUT ;OUTPUT TO DISK JSR CLRCHN ;RESET OUTPUTPRIN LDA DEVICE ;GET DEVICE FLAG AND #$04 ;CHECK FOR PRINTER BEQ SCREN ;IF NOT BRANCH LDX #$04 ;PRINT FILE #4 JSR CHKOUT ;FILE IS OUTPUT PLA ;GET CHAR PHA ;RESAVE CHAR CPASS BNE LINECO LDA DEVICE AND #$08 BEQ LINECO;*********************************; CLOSE SOURCE FILE AND OPEN NEXT;********************************* SEC LDA LINEFL SBC #$20 STA TEMP LDA LINEFL+1 SBC #$03 ORA TEMP BCC LINECO NOP NOP NOP JSR $FFB4 ;SEND TALK LDA #$6F ;SECONDARY ADDRESS STA $B9 ;PUT IN TABLE JSR $FF96 ;SEND SEC JSR $FFA5 ;GET FIRST BYTE CMP #$30 ;IS IT A ZERO BNE DLOOC ;IF NOT ZERO ERRORDLOOE JSR $FFA5 ;GET BYTE CMP #$0D ;IS IT CR? BNE DLOOE ;GET NEXT BYTE JSR;GET NEXT BYTE JSR CHROUT ;PRINT IT CMP #$0D ;IS IT CR BNE DLOOA ;GET NEXT BYTE JSR $FFAB ;UNTALK SEC ;SET ERROR FLAG RTS ;RETURN;*********************************; START NEW LINE AND INC COUNT;*********************************NEWLIN INC LINECT*****************INSTNG LDY #$00INSTN1 JSR CHRIN STA BUF,Y INY CMP #$0D BNE INSTN1 DEY RTS;*********************************; INPUT HEX CHAR STRING;*********************************GETWRD LDA #$00 STA ADRS STA ADRS+1 JSR INSTNG DEY BMI I*************************GETBYT LDA BUF,Y JSR BINARY STA TEMP DEY BMI INENX LDA BUF,Y JSR BINARY ASL A ASL A ASL A ASL A ORA TEMP STA TEMPINENX RTS;*********************************; CONVERT A INTO HEX NIBBLE;****************************CHRIN       CMP #'Y'       BEQ CRYS1       CMP #$0D       BEQ CRYS1       BNE CRNO1;*********************************; GET OPTION (Y OR CR/N): Y=C=0;*********************************CRNO   JSR CHRIN       CMP #'N'       BEQ CRNO1       CMP #$HIH BYTE IN A JSR PRBYT ;PRINT MSB PLA ;GET LSB;*********************************; PRINT BYTE IN A;*********************************PRBYT PHA ;PUT BYTE ON STACK LSR A ;4 RIGHT SHIFTS LSR A ;TO MOVE HIGH LSR A ;NIBBLE TO LOW LSR A ;NIB WITH HIGH****************STRPNT STA ZEROUR ;POINTER TO STY ZEROUR+1 ;MESSAGE LDY #$00 ;OFFSETSOUT LDA (ZEROUR),Y ;GET CHAR BEQ SEXIT ;IF ZERO EXIT JSR PCHAR ;PRINT INY ;INC OFFSET BNE SOUT ;LOOPSEXIT RTS ;RETURN;*********************************; PRINT*******************PRTNUM STX ZEROUR ;LOW  BYTE NUM STA ZEROUR+1 ;HIGH BYTE NUM LDX #$04 ;5 CHARS STX SAVX ;SAVE COUNT;*********************************; PRINT DEC NUMBER AND LEADING 0;*********************************PRTNU1 LDX SAVX LDY #$30 B	*****************************;  OUTPUT CHAR TO OPEN CHANNEL;*********************************PCHAR PHA ;SAVE CHAR LDA DEVICE ;GET FILE FLAG AND #$08 ;CHECK FOR DISK BEQ PRIN ;IF NONE BRANCH LDX #$08 ;DISK FILE #1 JSR CHKOUT ;FILE IS OUTPUT PLA ; JSR EFILE LDA #$08 JSR CLOSE JSR OFILE LDA #$00 STA LINEFL STA LINEFL+1 JSR ORGIN JSR COMENTLINECO RTS;*********************************;  DISK ERROR CHECK;*********************************DISERR LDA #$08 ;DEV #8 STA $BA ;PUT IN DEV TABLE
 SYMBOE STA DATABP STA DATABS STA DATABE STA ZEROUR LDA SYMBOE+1 STA DATABP+1 STA DATABS+1 STA DATABE+1 STA ZEROUR+1;********************************* LDA #<MSAOP LDY #>MSAOP JSR STRPNT JSR INSTNG BNE BOP JMP NOTABS;************************************************** JMP XOP0;*********************************; READ DATA FOR KEYBOARD;*********************************NOTABS LDA #<MSA1 ;NUMBER OF DATA LDY #>MSA1 JSR STRPNT JSR GETWRD ;INPUT HEX BYTE LDA ADRS ;GET BYTE STA NDATA ;SA ;*4 CLC ;C=0 ADC CDATA ;*5 STA SAVY ;STORE AS OFFSET;********************************* LDA #<MSA2 LDY #>MSA2 JSR STRPNT ;PRINT MSG JSR GETWRD ;GET ADDRESS LDY SAVY ;GET OFFSET LDA ADRS STA TDATA,Y INY LDA ADRS+1 STA TDATA,Y INY STY SAVY**************; GET TYPE OF TABLE;********************************* LDA #<MSG5 ;TABLE TYPE LDY #>MSG5 JSR STRPNTAOP3 JSR GETIN BEQ AOP3 CMP #'0' BEQ ASC CMP #'1' BEQ ASC CMP #'2' BEQ ASC CMP #'3' BEQ ASC CMP #'4' BEQ ASC CMP #'S' BNE ABEL GENERATION OPTION;*********************************XOP0 LDA #<MSB4 LDY #>MSB4 JSR STRPNT JSR CRYS BCS XOP1 LDA #$01 BNE XOP2XOP1 LDA #$00XOP2 STA XOPT;*********************************; OUTPUT FORMAT OPTION;******************************,$0D.BYTE 'CBM RESIDENT DISASSEMBLER'.BYTE ' V080282'.BYTE $0D.BYTE '(C) 1982 BY COMMODORE '.BYTE 'BUSINESS MACHINES'.BYTE $0D.BYTE 0;*********************************MSF1 .BYTE $0D.BYTE 'PROGRAM FILE (CR OR NAME):'.BYTE 0MSF2 .BYTE $0D.BYTE.BYTE $0D.BYTE 'HARD COPY (Y/CR OR N)? '.BYTE 0;*********************************MSD1 .BYTE $0D.BYTE 'START ADDRESS :$'.BYTE 0;*********************************MSD2 .BYTE $0D.BYTE 'END ADDRESS :$'.BYTE 0;*********************************MSD4 *********MSR1 .BYTE $0D.BYTE 'RELATIVE BRANCH TO LABEL '.BYTE '(Y/CR OR N)? '.BYTE 0;*********************************MSB1 .BYTE $0D .BYTE 'BIT INSTRUCTION CODING' .BYTE $0D,$0D .BYTE '0/CR STANDARD',$0D .BYTE '1     $2C ABS',$0D .BYTE '2      .BYTE $0D.BYTE 'TABLE START ADDRESS :$'.BYTE 0MSA3 .BYTE $0D.BYTE 'TABLE END ADDRESS :$'.BYTE 0MSG5 .BYTE $0D,$0D .BYTE 'DISASSEMBLY OPTIONS' .BYTE $0D,$0D .BYTE '0 ASCII',$0D .BYTE '1 BYTE',$0D .BYTE '2 WORD',$0D .BYTE '3 DBYTE',$0D .BYTE   LISTING (Y/CR OR N)? '.BYTE 0;*********************************;.FIL 0:UTIL.ASM;*********************************;.END;*********************************; FILE UTIL.ASM;*********************************;;        DISASSEMBLER64;    SYMBOLIC DIS************BOP TYA PHA JSR INITD PLA TAY LDX #$00AFILE LDA NAMS,X STA BUF,Y INY INX CPX #$04 BNE AFILE TYA LDY #>BUF LDX #<BUF JSR SETNAM LDA #$03 LDX #$08 LDY #$03 JSR SETLFS JSR OPEN JSR DISERR BCS AGET1 LDX #$03 JSR CHKIN;******; PRINT DATA TABLE;*********************************PRTDAS LDA NDATA STA CDATA LDY #$00 STY SAVYPRTNEX JSR CRLF LDX #$05 STX SAVXPRTDAL LDY SAVY LDA TDATA,Y JSR PRBYT JSR SPACE INC SAVY DEC SAVX BNE PRTDAL DEC CDATA BNE PRTNEX;****ET NUM TABLES BNE AOPX ;0 DATA THEN END JMP XOP0 ;RETURNAOPX LDA #$00 ;ZERO OFFSET STA CDATA ;FIRST TABLE;*********************************; CALCULATE TABLE OFFSET;*********************************AOP1 LDA CDATA ;GET TABLE NUMBER ASL A ;*2 ASL ;*********************************; END OF DATA TABLE;*********************************AOP2 LDA #<MSA3 LDY #>MSA3 JSR STRPNT JSR GETWRD ;GET ADDRESS LDY SAVY LDA ADRS STA TDATA,Y INY LDA ADRS+1 STA TDATA,Y INY STY SAVY;*******************OP3ASC JSR CHROUT LDY SAVY STA TDATA,Y;********************************* INC CDATA ;INC TABLE COUNT LDA CDATA ;GET TABLE COUNT CMP NDATA ;ALL TABLES? BEQ XOP0 ;IF NOT GET MORE JMP AOP1 ;IF NOT GET MORE;*********************************; GET LA*** LDA #<MSB5 LDY #>MSB5 JSR STRPNT JSR CRYS BCS FOP1 LDA #$00 BEQ FOP2FOP1 LDA #$FFFOP2 STA FOROPT;********************************* RTS;*********************************;   COMMAND MESSAGES;*********************************MSG .BYTE $0D 'PROGRAM ADDRESS: $'.BYTE 0;*********************************MSG1 .BYTE $0D.BYTE 'EDITOR64 FILE (CR OR NAME):'.BYTE 0;*********************************WRITE .BYTE ',S,W'PROGM .BYTE ',P,R'INIT  .BYTE 'I0';*********************************MSG2 .BYTE $0D.BYTE 'ADDRESS OFFSET (OR CR):$'.BYTE 0;*********************************MSD4A .BYTE $0D.BYTE 'ADDRESS OFFSET :$'.BYTE 0;*********************************MSD5 .BYTE $0D.BYTE 'WINDOW OUTPUT(Y OR N/CR)? '.BYTE 0;************************$24 ZP',$0D .BYTE '3     $2C AND $24',$0D .BYTE $0D .BYTE 'ENTER BIT CODE: ' .BYTE 0;*********************************MSAOP .BYTE $0D.BYTE 'DATA TABLE FILE (CR OR NAME):'.BYTE 0MSA1 .BYTE $0D.BYTE 'NUMBER OF DATA TABLES (OR CR) :$'.BYTE 0MSA2	'4 WORD-1',$0D .BYTE 'S SKIP ADDRESS RANGE',$0D .BYTE 'ENTER DISASSEMBLY CODE: ' .BYTE 0;*********************************MSB4 .BYTE $0D.BYTE 'LABLE GENERATION (Y/CR OR N)? '.BYTE 0;*********************************MSB5 .BYTE $0D.BYTE 'FORMATED*******************************; READ IN DATA TABLE;********************************* LDY #$00 JSR CHRIN STA NDATA BEQ AGET1AGET JSR CHRIN STA TDATA,Y INY JSR READST BEQ AGETAGET1 LDA #$03 JSR CLOSE JSR CLRCHN;*****************************
PUT BYTE JSR READST ;READ STATUS BNE PROGED ;IF NOT ZERO END JSR INCSL ;INC END ADDRESS INC ADRS ;INC BYTE COUNT BNE *+5 ; INC ADRS+1 ; BNE PROGRD ;NEXT BYTEPROGED LDA SELECT ; STA EA ; LDA SELECT+1 ; STA EA+1 ;;******************************FFSET+1 STA WORKED+1 LDA #<MSD4A LDY #>MSD4A JSR STRPNT JSR PWORKD JSR CRLF;*********************************; OPEN FILE AND READ PRG INTO BUF;********************************* JSR PRFILE ;OPEN FILE LDX #$08 ;FILE #8 JSR CHKIN ;INPUT FILE JS POINTER JSR READST ;READ STATUS BEQ PRO2RD ;NEXT BYTE LDA #$08 ;FILE #8 JSR CLOSE ;CLOSE IT JSR CLRCHN ;RESET I/O JMP WINDOP ;WINDOW OPTION;*********************************; OPEN PROGRAM FILE;*********************************PRFILE LDA SAVA *************************INITD LDA #$02 LDY #>INIT LDX #<INIT JSR SETNAM LDA #$0F LDX #$08 LDY #$0F JSR SETLFS JSR OPEN LDA #$0F JMP CLOSE;*********************************; GET START ADDRESS;*********************************STARTS LDA #<M1;*********************************; ADDRRESS OFFSET;********************************* LDA #<MSD4 LDY #>MSD4 JSR STRPNT JSR GETWRD LDA ADRS STA OFFSET LDA ADRS+1 STA OFFSET+1;*********************************; OUTPUT WINDOW;****************1 STA EAOUT+1 LDA #$FF BMI WIND2WIND1 LDA #$00WIND2 STA WINDOW;*********************************; SETUP GOBAL POINTER;********************************* LDA SA STA SAGOL LDA SA+1 STA SAGOL+1 LDA EA STA EAGOL LDA EA+1 STA EAGOL+1;*********0 LDA BUF,X STA NBUF,X INX CPX NCHARS BNE GFILE0;*********************************FILEOK LDA #$08 BNE FILENOFILE LDA #$00FILE ORA OUTPUT STA OUTPUT JMP PRTGET;*********************************;     OPEN SOURCE DISK FILE;******************** INY INX CPX #$04 BNE OFILE2 TYA LDY #>NBUF LDX #<NBUF JSR SETNAM LDA #$08 TAX TAY JSR SETLFS JSR OPEN JSR DISERR BCC OFILE4;*********************************;  CLOSE OUT FILE ON ERROR;*********************************OFILE3 LDA #$08 X #$04 LDY #$00 JSR SETLFS JSR OPEN LDX #$04 JSR CHKOUT JSR READST AND #$80 PHP JSR CLRCHN PLP BMI NOPRT LDA #$04 BNE PRINTNOPRT LDA #$03PRINT ORA OUTPUT STA OUTPUT;*********************************; GO GET SYMBOLIC OPTION;************ DOP2   LDA #$00DOP3   STA ROPT;*********************************; GET BIT INSTRUCTION CODING OPTION;*********************************       JSR BITOPT;*********************************; DATA TABLE OPTION;*********************************AOP LDA*** LDA #$08 ;FILE #8 JSR CLOSE ;CLOSE IT JSR CLRCHN ;RESET I/O;*********************************; PRINT PROGRAM LOAD ADDRESS; AND END ADDRESS;********************************* LDA #<MSF2 LDY #>MSF2 JSR STRPNT LDA SA STA WORKED LDA SA+1 STASEC LDA SELECT SBC ADRS STA SELECT LDA SELECT+1 SBC ADRS+1 STA SELECT+1;*********************************; CALCULATE ADDRESS OFFSET;********************************* SEC LDA SELECT SBC SA STA OFFSET STA WORKED LDA SELECT+1 SBC SA+1 STA OR CHRIN ;GET LOW BYTE SA JSR CHRIN ;GET HIGH BYTE SAPRO2RD JSR CHRIN ;INPUT BYTE LDX SELECT ;LOW BYTE POINTER STX ZEROUR ;ZERO PAGE LDX SELECT+1 ;HIH BYTE POINTER STX ZEROUR+1 ;ZERO PAGE LDY #$00 ;OFFSET STA (ZEROUR),Y ;STORE BYTE JSR INCSL ;INCLDX #<BUF LDY #>BUF JSR SETNAM LDA #$08 TAY TAX JSR SETLFS JSR OPEN JSR DISERR BCC PROGOK LDA #$08 JSR CLOSE PLA PLA PLA PLA JMP WREADY;*********************************PROGOK RTS;*********************************; INIT DISK;********SD1 LDY #>MSD1 JSR STRPNT JSR GETWRD LDA ADRS STA SA LDA ADRS+1 STA SA+1;*********************************; GET END ADDRESS;********************************* LDA #<MSD2 LDY #>MSD2 JSR STRPNT JSR GETWRD LDA ADRS STA EA LDA ADRS+1 STA EA+*****************WINDOP LDA #<MSD5 LDY #>MSD5 JSR STRPNT JSR CRNO BCS WIND1 LDA #<MSD1 LDY #>MSD1 JSR STRPNT JSR GETWRD LDA ADRS STA SAOUT LDA ADRS+1 STA SAOUT+1 LDA #<MSD2 LDY #>MSD2 JSR STRPNT JSR GETWRD LDA ADRS STA EAOUT LDA ADRS+************************; SOURCE FILE OUTPUT?;*********************************OUFILE LDA #<MSG1 LDY #>MSG1 JSR STRPNT;********************************* LDA #$00 STA NCHARS JSR INSTNG BEQ NOFILE LDA #'0' STA VERSON STY NCHARS LDX #$00GFILE*************OFILED LDY NCHARS BEQ NOID JSR INITDNOID JSR SCROFF;*********************************OFILE LDY NCHARS BEQ OFILE4 LDA VERSON CMP #'0' BEQ OFILE1 LDA VERSON STA NBUF,Y INYOFILE1 INC VERSON LDX #$00OFILE2 LDA WRITE,X STA NBUF,YJSR CLOSE JSR CLRCHN PLA PLA PLA PLA JMP WREADYOFILE4 RTS;*********************************; GET PRINTER OPTION;*********************************PRTGET LDA #<MSG2 LDY #>MSG2 JSR STRPNT JSR CRYS BCS NOPRT LDA #$00 JSR SETNAM LDA #$04 LD	*********************       JSR SOP;*********************************; GET RELATIVE ADDRESS OPTION;*********************************       LDA #<MSR1       LDY #>MSR1       JSR STRPNT       JSR CRYS       BCC DOP2       LDA #$01       BNE DOP3 WORKED+1 JSR PWORKD; LDA #'-'; JSR PCHAR JSR DOLLAR JSR PSELEC JSR CRLF;*********************************; CALCULATE BUFFER ADDRESS;********************************* LDA #$00 ;MEMSIZ STA SELECT LDA #$80 ;MEMSIZ+1 STA SELECT+1 JSR DECSL 
,$AA,$AA,$AA,$AA,$AA .BYTE $AA,$AA,$AA,$AA;*********************************; SYMBOL TABLE BUFFER;*********************************SYMBUF = * .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA;*********************************; DATA TABLE;***********MBLER LOOP;*********************************DISA JSR INTSA ;SET SA LDA #00 ;ZERO BYTE STA CDATA ;SET TABLE NUMBER LDA #<MPASS ;PASS MSG LDY #>MPASS ; JSR STRPNT ;PRINT IT LDA PASS ;GET PASS JSR PCHAR ;PRINT NUMBER JSR CRLF ;CR;**************** #$01 ;ONE BYTE STA LINECT ;SET LINE # TO 1 STA PAGECT ;SET PAGE TO 1 LDA #$00 ;ZERO BYTE STA LINECT+1 ;SET LINE # TO 1 STA PAGECT+1 ;SET PAGE TO 1 STA LISTCT ;SET LIST TO 0 STA ERRCT ;SET ERROR TO 0 STA ERRCT+1 ;SET ERROR TO 0 STA LINEFL ;SET L**********DLOOP JSR DSLINE ;DIS ONE LINE BCS NEXTP ;IF EA STOP JSR LINECK ;LINE COUNT JSR STOP ;CHECK STOP BEQ QUITS ;IF SO QUIT JSR GETIN ;GET KEY BEQ DLOOP ;IF NONE NEXT CMP #' '          ;IS IT A SPACE BNE DLOOP ;IF NOT NEXT;*********************NEXTP INC PASS ;INC PASS LDA PASS ;GET PASS CMP CPASS ;LAST PASS? BCC DISFUL ;IF LESS AGAIN BNE DISC ;FINISH LDA WINDOW ;WINDOW FLAG BEQ DISFUL ;FULL OUTPUT;*********************************; WINDOWED OUTPUT;*******************************CE ;CHECK DEV AND #$08 ;DISK FILE? BEQ QUTERR ;IF NOT BRANCH LDA #$08 ;DISK JSR CLOSE ;CLOSE IT LDA OUTPUT ;GET OUTPUT AND #07 ;MASK DISK STA OUTPUT ;RESET OUTPUT STA DEVICE ;RESET OUTPUT;*********************************; PRINT ERRORS;*******R? BEQ DONED ;IF NOT DONE LDA #$04 ;DEVICE 4 STA OUTPUT ;SET DEVICE STA DEVICE ;SET DEVICE JSR INTPRT ;PRINT INTABLE LDA #$07 ;DEVICE 3 AND 4 STA DEVICE ;SET DEVICE STA OUTPUT ;SET DEVICEDONED JSR NEWLIN ;NEWLINE JSR NEWLIN ;NEWLINE LDA #<MSGDO JSR SCRON      ;TURN SCREEN ON JMP WREADY     ;RETURN;*********************************;.FIL 0:OPTION.ASM;*********************************;.END;*********************************; FILE OPTION.ASM;*********************************;;        DIA #$00 ;NO DEVICES STA OUTPUT ;FINAL OUTPUT LDA #<MSG ;START UP MSG LDY #>MSG JSR STRPNT ;PRINT IT;*********************************; READ IN DISK FILE ?;********************************* LDA #<MSF1 LDY #>MSF1 JSR STRPNT JSR INSTNG BNE PFILE0 INPUT FILE JSR CHRIN ;GET LOW BYTE SA STA SA ;SET START JSR CHRIN ;GET HIGH BYTE SA STA SA+1 ;SET START JSR INTSA ;SET END;********************************* LDA #$00 ;ZERO BYTE STA ADRS ;BYTE COUNTER STA ADRS+1 ;BYTE COUNTERPROGRD JSR CHRIN ;IN**********************EAS .WORD $AAAATEXTER .BYTE $AACDATA .WORD $AAAANDATA .WORD $AAAADATABP .WORD $AAAA ;DATA POINTDATABS .WORD $AAAA ;DATA STARTDATABE .WORD $AAAA ;DATA END;*********************************; DATA TABLE;****************************************; INITIALIZE DISASSEMBLER;*********************************DISASS LDX #$FF TXS CLD JSR DOP ;GET OPTIONS JSR INITIN ;INIT POINTERS LDA #'1'      ;PASS ONE STA PASS ;SET PASS INDICATOR;*********************************; DISASSE***************** LDA PASS ;GET PASS CMP CPASS ;IS IT LAST BEQ DISB ;IF SO PRINT CMP EPASS      ;IS IT EXTERNAL BNE DLOOP ;IF NOT GO ON JSR SAVINT ;SAVE INTERNAL JSR EQUINT ;SET EQUATES JMP DLOOP ;GO ON;*********************************DISB LDAINE TO 0 STA LINEFL+1 ;SET LINE TO 0 LDA OUTPUT ;GET OUTPUT STA DEVICE ;SET OUTPUT;********************************* JSR HEADER ;PRINT HEADER JSR OFILED ;OPEN DISK FILE JSR ORGIN ;PRINT ORGIN LABEL JSR EQUPRT ;PRINT EQUATE;***************************************; PAUSE LISTING;******************************** LDA DEVICE PHA LDA #$03 STA DEVICE LDA #<PMSG LDY #>PMSG JSR STRPNT PLA STA DEVICEPAUSE JSR GETIN ;PAUSE FOR KEY BEQ PAUSE ; BNE DLOOP ;NEXT LINE;***************************** LDA SAOUT ; STA SA ; LDA SAOUT+1 ; STA SA+1 ; LDA EAOUT ; STA EA ; LDA EAOUT+1 ; STA EA+1 ;;*********************************DISFUL JMP DISA ;LAST PASSDISC JSR INCSL JSR EFILE ;END FILE MSG;*********************************QUITS LDA DEVI**************************QUTERR LDA OUTPUT ORA #$03 STA OUTPUT STA DEVICE JSR NEWLIN JSR NEWLIN LDA #<MSGERR LDY #>MSGERR JSR STRPNT LDX ERRCT LDA ERRCT+1 JSR PRTNUM;********************************* LDA DEVICE ;CHECK DEV AND #$04 ;PRINTEIS ;END MSG LDY #>MSGDIS JSR STRPNT ;PRINT IT JSR NEWLIN ;NEW LINE LDA DEVICE ;CHECK DEVICE AND #$04 ;PRINTER BEQ DONE ; JSR FINISH ;FINISH PAGE LDA #$04 ;PRINTER JSR CLOSE ;CLOSE FILE;*********************************DONE JSR CLRCHN ;RESET I/SASSEMBLER64;    SYMBOLIC DISASSEMBLER;       BY DENTON MARLOWE;;  (C)1986 BY DENTON MARLOWE;;*********************************; DISASSEMBLER OPTIONS;*********************************DOP LDA #$03 ;DEVICE #3 SCREEN STA DEVICE ;CURRENT OUTPUT LD	 JMP STARTSPFILE0 LDX #$00PFILE1 LDA PROGM,X STA BUF,Y INY INX CPX #$04 BNE PFILE1 STY SAVA JSR INITD JSR PRFILE;*********************************; READ IN FILE FOR SA AND EA;********************************* LDX #$08 ;FILE #8 JSR CHKIN ;***********TDATA .BYTE $AA;**********************************=*+$0100;*********************************MPASS  .BYTE $0D,'PASS',0PMSG   .BYTE $0D,$12,' PAUSE ',$92,$0D,0MSGERR .BYTE 'ERRORS = ',0MSGDIS .BYTE 'END OF DISASSEMBLY',0;***************
;.PAGE 'DISASSEMBLER64';.OPT LIST;**********************************=$1001        ;START OF BASIC;*********************************; SET BSTUB TO ONE TO ALLOW FOR; INSERTION OF BASIC STUB CODE;*********************************BSTUB = 1;***************************************;.LIB INTERNAL.ASM;*********************************;.LIB ASC.ASM;*********************************;.LIB TABLE.ASM;*********************************;.LIB SYM.ASM;*********************************;.END;****************************VICREG=$D011 ;SCREEN REGISTERCHROUT=$FFD2 ;OUTPUT CHARACTERCHKIN =$FFC6 ;OPEN INPUT FILECHRIN =$FFCF ;GET KEYBOARD INPUTGETIN =$FFE4 ;GET KEYBOARD CHARCLRCHN=$FFCC ;RESET I/O CHANNELSSTOP =$FFE1 ;CHECK FOR STOPREADST=$FFB7 ;READ ST=$E391 ;BASIC RETURNWREADY = $867E ;BASICW;*********************************; ZEROPAGE USAGE EQUATES;*********************************;ZEROUR=$02 ;ZEROPAGE POINTERMEMSIZ=$37 ;TOP OF FREE RAM+1;*********************************; ZEROPAGE USAGE EQU**;       VARIABLES;*********************************PASS  .BYTE '1'  ;PASS INDICATORIPASS .BYTE '1'  ;INTERNAL PASSEPASS .BYTE '2'  ;EXTERNAL PASSCPASS .BYTE '3'  ;PRINTING PASSSPASS .BYTE '4'  ;SYMBOL PASS;*********************************XOPTASSEMBLY ADDRESS POINTERS;*********************************SA .WORD $AAAA ;START ADDRESSEA .WORD $AAAA ;END ADDRESSSELECT .WORD $AAAA ;BYTE POINTEROFFSET .WORD $AAAA ;ADDRESS OFFSETSAGOL  .WORD $AAAA ;GOLBAL STARTEAGOL  .WORD $AAAA ;GOLBAL ENDSAO********************************; SORT TABLE POINTERS;*********************************SMALLS .WORD $AAAA ;TABLE STARTSMALLP .WORD $AAAA ;TABLE POINTER;*********************************; SYMBOL TABLE;*********************************SYMBOL .BYTE WORD $AAAA ;TABLE STARTUYMBOE .WORD $AAAA ;TABLE END;*********************************; TEMP WORKING STORAGE;*********************************WORKED .WORD $AAAA ;TWO BYTE OPWORKER .WORD $AAAA ;TWO BYTE OPSAVEP .WORD $AAAA ;TWO BYTE OPSAVES .WORD INTER OUTPUT STORAGE;*********************************PAGECT .WORD $AAAA ;PAGE COUNTLISTCT .BYTE $AA ;LINE COUNTLINECT .WORD $AAAA ;LINE COUNTERRCT  .WORD $AAAA ;ERROR COUNT;*********************************; INPUT BUFFER;************************ ,0,0,0 .BYTE 0,0,0,0,0,0,0,0,0,0;*********************************; FILE NAME BUFFER;*********************************LINEFL .WORD $AAAAVERSON .BYTE $AANCHARS .BYTE $AANBUF = * .BYTE '0:' .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA .BYTE $AA,$AA,$AA************************;;        DISASSEMBLER64;    DISASSEMBLER.C64 V080282;    SYMBOLIC DISASSEMBLER;       BY DENTON MARLOWE;;  (C)1986 BY DENTON MARLOWE;; MACRO ASSEMBLER DEVELOPMENT SYSTEM;  (C) 1982 BY COMMODORE MACHINES;;*************END OF LINEBASIC .BYTE 0,0 ;END OF BASIC>;.FI;*********************************;.LIB DIS.ASM;*********************************;.LIB OPTION.ASM;*********************************;.LIB UTIL.ASM;*********************************;.LIB MODE.ASM;***********************; FILE DIS.ASM;*********************************;;        DISASSEMBLER64;    SYMBOLIC DISASSEMBLER;       BY DENTON MARLOWE;;  (C)1986 BY DENTON MARLOWE;;*********************************; KERNAL ADDRESS;******************SETNAM=$FFBD ;SET FILENAMESETLFS=$FFBA ;SET LOGICAL FILEOPEN =$FFC0 ;OPEN FILECHKOUT=$FFC9 ;OPEN OUTPUT CHANNELCLOSE =$FFC3 ;CLOSE LOGICAL FILE;*********************************; RETURN TO BASIC (RESTORE);*********************************;WREADYATES; $00D8-00E8  APPLICATION SOFTWARE;*********************************ZEROUR=$DD ;$FD    ;ZERO PAGE POINTER;*********************************;        ENTRY POINT;*********************************STARTD JMP DISASS;******************************* .BYTE $AA ;LABEL GENERATIONROPT .BYTE $AA ;REL ADDRESS OPTDEVICE .BYTE $AA ;OUTPUT DEVICEOUTPUT .BYTE $AA ;OUTPUT FLAGWINDOW .BYTE $AA ;WINDOW FLAGFOROPT .BYTE $AA ;FORMAT FLAGCOMOPT .BYTE $AA ;COMMENT FLAG;*********************************; DISUT .WORD $AAAA ;START ADDRESSEAOUT .WORD $AAAA ;END ADDRESS;*********************************; INTERNAL ADDRESS TABLE;*********************************TABINP .WORD $AAAA ;TABLE POINTERTABINS .WORD $AAAA ;TABLE STARTTABINE .WORD $AAAA ;TABLE END;*$AA   ;SYMBOL OPTIONSYMBOP .WORD $AAAA ;TABLE POINTERSYMBOS .WORD $AAAA ;TABLE STARTSYMBOE .WORD $AAAA ;TABLE END;*********************************; UNDEFINED SYMBOL TABLE;*********************************UYMBOP .WORD $AAAA ;TABLE POINTERUYMBOS .$AAAA ;TWO BYTE OPSAVEE .WORD $AAAA ;TWO BYTE OP;*********************************; OTHER VARIABLES;*********************************ADRS .WORD $AAAATEMP .BYTE $AASAVA .BYTE $AASAVX .BYTE $AASAVY .BYTE $AA;*********************************; PR	*********BUF = * .BYTE 0,0,0,0,0,0,0,0,0,0 .BYTE 0,0,0,0,0,0,0,0,0,0 .BYTE 0,0,0,0,0,0,0,0,0,0 .BYTE 0,0,0,0,0,0,0,0,0,0 .BYTE 0,0,0,0,0,0,0,0,0,0 .BYTE 0,0,0,0,0,0,0,0,0,0 .BYTE 0,0,0,0,0,0,0,0,0,0 .BYTE 0,0,0,0,0,0,0,0,0,0 .BYTE 0,0,0,0,0,0,0********************;; BASIC FORMAT PROGRAM;; 10 SYS(4111);;*********************************.IFN BSTUB <;.IF  BSTUB == 1 .WORD BASIC ;NEXT LINE POINTER .BYTE $0A,$00 ;LINE NUMBER .BYTE $9E ;SYS COMMAND .BYTE '(4111)' ;ASCII (4111) .BYTE 0 ;A                                                                                                 PLUS 4 DISASS2A  PDISASS64.ASM         M   PDISASS64.OBJ         Q   XRLL0000             XRFF0000         #    XRFF0001            PDISASS64         *                                                                 KKKKKKKKKKKKKKKKK
;1810010D100A009E2834313131290000004C21123131323334AAAA04D4;181019AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1031;181031AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1049;181049AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA00000000000D0F;1810610000000AAAAAAAAAAAAAAAAAAAAAAAAAAA0FEF;1810D9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA10F1;0110F1AA01AC;1811F20D50415353000D1220504155534520920D004552524F525306B8;18120A203D2000454E44204F4620444953415353454D424C5900A2063F;181222FF9AD8206D13206222A93C20851A20E1FF0799;18129AF05720E4FFF0EEC920D0EAAD191048A9038D1910A9F8A0110D61;1812B220BB1B688D191020E4FFF0FBD0CFEE1210AD1210CD1510900BDE;1812CA1FD020AD1B10F018AD2A108D1E10AD2B108D1F10AD2C108D089F;1812E22010AD2D108D21104C3012202321205120AD19102908F0100820481CA90420C3FF20CCFF20081D4C7E86A9038D19100972;181372A9008D1A10A9B4A01720BB1BA901A01820BB1B201C1BD0030889;18138A4CC514A200BD5218995C10C8E8E004D0F48C521020AB14200AED;1813A28514A20820C6FF20CFFF8D1E1020CFFF8D1F10204E21A9000A80;1813BA8D4F108D501020CFF08D231038AD2210ED0859;1814321E108D24108D4510AD2310ED1F108D25108D4610A9ADA01807DE;18144A20BB1B20C22020F320208514A20820C6FF20CFFF20CFFF200AE5;181462CFFFAE221086DDAE231086DEA00091DD20232120B7FFF0E70D03;18147AA90820C3FF20CCFF4C0715AD5210A25CA01020BDFFA90293A01820BB1B202B1BAD4F108D2410AD50108D2510A9C0A0096A;18150A1820BB1B20901BB030A971A01820BB1B202B1BAD4F108D2A07E1;18152210AD50108D2B10A983A01820BB1B202B1BAD4F108D2C10AD07F6;18153A50108D2D10A9FF3002A9008D1B10AD1E108D2610AD1F108D07D3;1815522710AD20108D28E8E004D0F498A010A2C40DAF;1815CA20BDFFA908AAA820BAFF20C0FF20C41A900FA90820C3FF200CDE;1815E2CCFF686868684C7E8660A958A01820BB1B20831BB026A9000B16;1815FA20BDFFA904A204A00020BAFF20C0FFA20420C9FF20B7FF290D3B;181612800820CCFF283004A904D002A9030D1A108D1A1028168A03A208A00320BAFF20C0FF20C41AB01BA20320C6FFA000200AD3;1816A2CFFF8DE910F00C20CFFF99F110C820B7FFF0F4A90320C3FF0FB8;1816BA20CCFFADE9108DE710A0008C541020F320A2058E5310AC540B58;1816D210B9F11020A51B200521EE5410CE5310D0ECCEE710D0DF4C0BEF;1816EA8917A989A0E4FFF0FBC930F014C931F0100D47;181762C932F00CC933F008C934F004C953D0E320D2FFAC541099F10DC7;18177A10EEE710ADE710CDE910F0034C0617A945A01A20BB1B20830AA5;1817921BB004A901D002A9008D1710A965A01A20BB1B20831BB0040899;1817AAA900F002A9FF8D1C10600D0D43424D2052455 1;18182252414D20414444524553533A2024000D454449544F5236340614;18183A2046494C4520284352204F52204E414D45293A002C532C5705EE;1818522C502C5249300D4841524420434F50592028592F4352204F0650;18186A52204E293F20000D53544152542041444452455353203A240621;181882000D4000000000000000000000000000000000000000000089;18107900000000000000000000000000000000000000000000000000A1;18109100000000000000000000000000000000000000000000000000B9;1810A90000000000000000000000000000000000000000000000AA017B;1810C1AAAAAA303AAAAAAAAAAAA18D1210204E21A9008DE710A9F209E1;18123AA01120BB1BAD121020111C20F320AD1210CD1510F00ECD1407FA;18125210D03A20812220352B4C8F12A9018D58108D5510A9008D5907E6;18126A108D56108D57108D5A108D5B108DC0108DC110AD1A108D1908B2;18128210207A1C209615203B2020402C207D1DB0266E;1812FAA90820C3FFAD1A1029078D1A108D1910AD1A1009038D1A1007C5;1813128D191020FE1A20FE1AA904A01220BB1BAE5A10AD5B1020D708DF;18132A1BAD19102904F013A9048D1A108D1910203324A9078D1910066D;1813428D1A1020FE1A20FE1AA90EA01220BB1B20FE1AAD19102904082E;18135AF00F20B7FFD00D202321EE4F10D003EE500B21;1813D210D0EBAD22108D2010AD23108D2110A90820C3FF20CCFFA90B29;1813EA1DA01820BB1BAD1E108D4510AD1F108D461020C220A92D200854;181402111C20D02020B62020F320A9008D2210A9808D23102042210768;18141A38AD2210ED4F108D2210AD2310ED5018A80B7E;181492AA20BAFF20C0FF20C41A900CA90820C3FF686868684C7E860C3D;1814AA60A902A018A25620BDFFA90FA208A00F20BAFF20C0FFA90F0BEE;1814C24CC3FFA971A01820BB1B202B1BAD4F108D1E10AD50108D1F09AA;1814DA10A983A01820BB1B202B1BAD4F108D2010AD50108D2110A90893;1814F810AD21108D2910A931A01820BB1BA9008D07BA;18156AC310201C1BF01AA9308DC2108CC310A200BD5C109DC410E80A86;181582ECC310D0F4A908D002A9000D1A108D1A104CEC15ACC310F00B08;18159A0320AB1420F81CACC310F045ADC210C930F007ADC21099C40BDC;1815B210C8EEC210A200BD4E1899C410C0C02AA907DB;18162ADCA01820BB1B20831B9004A901D002A9008D1810204237AD0854;1816423D108DEB108DED108DEF1085DDAD3E108DEC108DEE108DF00C49;18165A1085DEA96AA01920BB1B201C1BD0034CEC16984820AB1468095C;181672A8A200BD292E995C10C8E8E004D0F498A010A25C20BDFFA90D26;101920BB1B202B1BAD4F108DE910D0034C8917A909F9;181702008DE710ADE7100A0A186DE7108D5410A9ABA01920BB1B2008FD;18171A2B1BAC5410AD4F1099F110C8AD501099F110C88C5410A9C30AD8;181732A01920BB1B202B1BAC5410AD4F1099F110C8AD501099F110099B;18174AC88C5410A9D9A01920BB1B2	34944454E54089F;1817C220444953415353454D424C455220563038303238320D284306B1;1817DA29203139383220425920434F4D4D4F444F5245204255534906F9;1817F24E455353204D414348494E45530D000D50524F4752414D200714;18180A46494C4520284352204F52204E414D45293A000D50524F4705E
54E442041444452455353203A24000D41444452455305FA;18189A53204F464653455420284F52204352293A24000D414444520651;1818B2455353204F4646534554203A24000D57494E444F57204F5506DB;1818CA545055542859204F52204E2F4352293F20000D52454C415406C8;1818E2495645204252414E4344202432340D0D4504B2;18195A4E5445522042495420434F44453A20000D444154412054410634;181972424C452046494C4520284352204F52204E414D45293A000D0605;18198A4E554D424552204F462044415441205441424C455320284F06E5;1819A25220435229203A24000D5441424C4520535441525420414B495020414444524553532052414E47450D454E54455220068E;181A32444953415353454D424C5920434F44453A20000D4C41424C0661;181A4A452047454E45524154494F4E2028592F4352204F52204E29068A;181A623F20000D464F524D41544544204C495354494E472028592F065C;181A7A4352204F52204E20D2FF6820D2FF20A5FF0E9D;181AF220D2FFC90DD0F620ABFF3860EE5810D003EE5910EEC010D00E21;181B0A03EEC11020F320AD19102904F003206D1C60A00020CFFF990958;181B225C10C8C90DD0F58860A9008D4F108D5010201C1B8830152008D2;181B3A4F1BAD51108D4F10883009204F1BAD51108D501060BBB2290FA8B9111D4C111C85DD84DEA000B1DDF00620111CC8D00AF2;181BCAF66086DD85DEA2038E5310D00986DD85DEA2048E5310AE530CE6;181BE210A030D001C838A5DDFD211D85DDA5DEFD261D85DEB0EEA50E4E;181BFADD7D211D85DDA5DE7D261D85DE9820111CCE531010D060480B6B;181C12AD19102908F4F03B206A1CA9048D1910A90834;181C8A2BA01D20BB1BAE5510AD561020CC1B206A1C206A1CA9048D084F;181CA21910A946A01D20BB1B206A1CEE5510D003EE5610206A1C200887;181CBA6A1C60205B1CEE5710AD5710C93CD01D20481C20BD1CA963094F;181CD2A01D20BB1B20BD1C20BD1CA970A01D20BB1B20B;181D4A23204C4F43202020434F444520202020202020204C494E450543;181D620053594D424F4C205441424C450053594D424F4C2056414C06CE;181D7A55450020A924303DAD6F37F00D202C21C924F034C92CF05509AB;181D92D000202C21AE1210EC1510F0062071274CBF1D206427208A0810;181DAA202005234C941DAD1210CD1510D09F20610B81;181E2220200522209221208A20200521A95BA02120BB1B202C212005EA;181E3AA51BA963A02120BB1B20FE1A2067204CBC1DEA202321202C0891;181E52218D4510A9008D4610AD1210CD1310F054CD1410F052205C08C9;181E6A2BB050203C22900620D0204C7B1E208020A6F3;181EE2052120CB20A92720111C6820111CA92720111C200521A021063F;181EFAA97E4CBB1BA9414C111C202321AE1210EC1510D02AA923200907;181F12111C20D020202C214820A51B68203426B0154820F82020CB072D;181F2A20A92720111C6820111CA92720111C60EA4C4D1E204D1E4C0648;181F42DF2 120D520203E1F4CDA2020D520204D1E070B;181FBA20DA204CE920202321AD1210CD1410F044AD22108D4510AD0926;181FD223108D4610EE4510D003EE4610202C21C9001003CE46101807FE;181FEA6D45109003EE46108D4510AD1210CD1310F00F205C2BB00D08BE;182002AD1810C901F0074CBF204CB32260202820544F204C4142454C2028592F43071A;1818FA52204F52204E293F20000D42495420494E535452554354490704;1819124F4E20434F44494E470D0D302F4352205354414E444152440633;18192A0D312020202020243243204142530D3220202020202432340431;181942205A500D33202020202024324320414E440649;1819BA4452455353203A24000D5441424C4520454E4420414444520691;1819D2455353203A24000D0D444953415353454D424C59204F505406D9;1819EA494F4E530D0D302041534349490D3120425954450D322057066F;181A024F52440D332044425954450D3420574F52442D310D53205305BF;181A1A493F2000AD1210CD1510D036AD1910290806C6;181A92F02F38ADC010E9208D5110ADC110E9030D5110901CEAEAEA0BD1;181AAA205120A90820C3FF20A115A9008DC0108DC110203B2020610936;181AC22060A90885BA20B4FFA96F85B92096FF20A5FFC930D00C200CFB;181ADAA5FFC90DD0F920ABFF186048A90D295C10079C;181B52206C1B8D5110883010B95C10206C1B0A0A0A0A0D51108D510622;181B6A106038E930900EC90A900CE907C910B004C90AB002386018091D;181B826020CFFFC959F011C90DF00DD00D20CFFFC94EF006C90DF00D97;181B9A0218603860489820A51B68484A4A4A4AA8B9111D20111C6807BB;18100DA20820C9FF684820D2FF20CCFFAD1910290A67;181C2A04F00DA20420C9FF684820D2FF20CCFFAD19102903F005680AD8;181C424820D2FF6860205B1CEE5710AD5710C942D0F3A9008D57100AE2;181C5A60A9048D191020F320AD1A108D191060205B1CEE5710AD570861;181C7210C93CD04520481CAD1910290D1C60AD5709D4;181CEA10C935B00620BD1C4CBD1C4C481CAD19102904F008AD11D00939;181D0229EF8D11D060AD11D009108D11D0603031323334353637380866;181D1A39414243444546010A64E81000000003274449534153534505BA;181D324D424C455236342E2E2E2E2E2E2E5041474520004C494E4505EA1202C21482045272005216820792720FE1A4C0A2105A3;181DC2AD6F372902F0CB202321202C214820422168C910F040C918091E;181DDAF03CC930F038C938F0344C941DAD6F372901F0A6202321200B15;181DF22C214820422168C9A1F01BC9A2F017C9A9F013C965F00FC90CF9;181E0A85F00BC9B1F007C9E6F00D45104CA51BEA088C;181E82202321202C218D4510202321202C218D4610AD1210CD131005DE;181E9AF01BCD1410F019205C2BB017203C22900620D0204CB41E2008A5;181EB280204CC2204CB3224C5C2B60EE5A10D003EE5B10A027A92C0A2A;181ECA20BB1B20D020202C214820A51B20052168203426B01848200	0204D1E4CE920EA20821E204221204221202C214820230700;181F5A2120232168C94CD00C20FE1A2023212067202042216020820737;181F721E4CDF2020821E4CE920202C21F009C960F005C940F001600A05;181F8A20FE1A2023212067204C422120D52020821E20DA2020FE1A07DA;181FA22023212067204C422
C21483007A971A0210843;18201A4C2120A975A02120BB1B6818690210051849FF690120A51B075E;18203220F82020CB204CBF20202922A92A20111CA93D20111C20D00786;18204A2020B6204CFE1A206120202922A979A02120BB1B4CFE1A200865;18206267204CFE1A20292220CB20AD1C10D003A0202CA010A92AA9294C111CA92C20111CA9584C111CA92C20111CA9594C11077A;1820F21CA90D4C111CA9058D5110200521CE5110D0F8A9204C111C0890;18210AAD2310CD2110900AD00DAD2210CD2010B005202321186038073D;18212260EE2210D003EE23106018AD22106D241085DDAD23106D25089B;18213A1085DEA000B1D1202C2120A51B2005212007BC;1821B22321202C2120A51BAD1C10F003A9042CA90620FA20204221078D;1821CA4CFE21202C2120A51B200521202321202C2120A51B20052105F8;1821E2202321202C2120A51BAD1C10F003A9012CA90320FA20204207B6;1821FA21204221AD1A108D191060AD191029078D1910AD1822723310AD30108D2E10AD31108D2F1060AD30108D4B10AD31100784;18228A8D4C10AD32108D4D10AD33108D4E1060AD4B108D3010AD4C088F;1822A2108D3110AD4D108D3210AD4E108D33106038AD3010ED32100822;1822BA8D5110AD3110ED33100D5110F005201E23B023AD321085DD08E8;1822D2AD331085DD47100D5110F01720FA22AD2F08C9;18234A10CD331090D1D008AD2E10CD321090C718603860207422AD09A2;18236230108D34108D3610AD31108D35108D37102003238D5110200669;18237AFA222003238D521020FA22AD2E108D3610AD2F108D37102007E0;18239203238D451020FA22AD2F10CD3310900DD008AB;18240A8D34108D2E10AD351069008D35108D2F10AD3510CD331090076D;1824220AD00BAD3410CD3210B0034C73234C742238AD3010ED3210080E;18243A8D5110AD3110ED33100D5110D0016020E81C205E23A9038D081F;18245252102003238D451020FA222003238D4610200521205C2B9005FA;18246A0B20F038AD4710ED22108D5110AD4810ED0A8C;1824E223100D5110F005EEE710D0CAC8B9F1108DE410C8B9F1108D0D45;1824FAE510C8B9F1108DE610C953D023AD1210CD1510D01BADE4100C8C;1825128D2210ADE5108D2310202321203B202042212061204C9625067A;18252AAD1210CD1410D00FADE4108D2210ADE51009D9;1825A20BC933F00AC932F0034CB4254C70264C4026AD1210CD15100948;1825BAD020209221208A20A027A92C20BB1BADE610C930F00F20D00AA1;1825D220202C2120A51B20FE1A4C1327A9008D5110202C2120342606B8;1825EAB039A92720111C202C21203426B02420111C202C21C927D00762;1826020020FE1A4C1327AD1210CD1510D00D20A8082B;18267A21208A20A027A93420BB1B202C218D45108D36102023212006E3;1826922C218D46108D3710ADE610C934F02AAD1210CD1310F016CD0A20;1826AA1410F017205C2BB05A20D02020C22020FE1A4C132720B3220889;1826C24C1327205C2B4C132718AD4510690 F524405C6;18273A2000202E44425954452000A2038E5110AABDC028AABDE82708D8;182752F0098E531020111CAE5310E8CE5110D0EC604820052268A809AB;18276AA994A2274C7E27A8A9B0A2274C7E27A8A9CCA22785DD86DE0D07;182782B9C029A8B1DD8D4F10C8B1DD8D50106C4F1092219221A8210BC2;182A200836;18207A111C88D0F860A95820111CA9584C111C20482BB01FAD1710088D;182092F010201223B00BAD1C10F0034C05214CF82020802020B6200832;1820AAEAEAEA60AD1C10D0FA4CF92BAD2210AC23104C9F1B2080200B97;1820C2AD4510AC46104C9F1BA93B4C111CA9244C111CA9284C111C07F1;1820DD60AD2210D003CE2310CE221060AD1E108D09EF;1821522210AD1F108D2310602E42595445202400203B424954205A0613;18216A5020534B4950002A2B24002A2D24002E454E44003B3F3F3F053B;18218220494C4C4547414C204F50434F444500202C2120A51BAD1C06C5;18219A10F003A9072CA90920FA204CFE2C10D00F0738;182212AD5910AE581020D71B20052120052120B620A9014CFA2020073C;18222A0522AD1C10F003A9092CA90B20FA204CFE21AD4610CD29100897;182242900AD01AAD4510CD2810B012AD4610CD2710900AAD4510CD0939;18225A2610900218603860ADEF108D30108D3210ADF0108D31108D08BC;1EA000AD451091DDC8AD461091DD20CB2020C2200BB5;1822EA20F2224CF2221860EE3210D003EE3310EE2E10D003EE2F100A90;18230260AD2E1085DDAD2F1085DEA000B1DD60AD22108D4510AD230A58;18231A108D46102074222003238D471020FA222003238D481038AD0674;1823324610ED48108D5110AD4510ED2E10CD3210087C;1823AA90034C04242003238D4610CD5210900DD008AD4510CD511007E9;1823C290034C8223AD341085DDAD351085DEA000AD451091DDC8AD0BAE;1823DA461091DDAD361085DDAD371085DEA000AD511091DDC8AD520C68;1823F21091DDAD34108D2E10AD35108D2F104C732318AD3410690208792BA90220FA204C7B24A90820FA2020C22020FA22AD099B;1824822F10CD3310900AD015AD2E10CD3210B00DCE5210300BA9020859;18249A20FA204C54244CBD1C20BD1C4C4F24ADE910F007A9008DE70A6B;1824B210F0034C9925ADE710CDE910F0F50A0A186DE710A8B9F1100C3C;1824CA8D4710C8B9F1108D48108D23104C9625AD097C;1825421210CD1510D00E206120AD1210CD1510D003200522209C2506CE;18255AB02920E1FFF02420E4FFF0E6C920D0E2AD191048A9038D190D68;18257210A9F8A01120BB1B688D191020E4FFF0FBD0C7AD1210CD150C5B;18258A10D009202321206120204221A9FF60A90060ADE610C934F320111C201327B00DEE5110AD5110C928F0084CF125201D078C;18261A263860A92720111C4CFE1A20D020202C2120A51B20FE1A4C0778;1826321327C9203006C960B00218603860AD1210CD1510D02520A80832;18264A21208A20A027A93C20BB1B202C218D4610202321202C218D06C3;182662451020D02020C22	18D4510AD461069008D0712;1826DA4610AD1210CD1310F0DBCD1410F0DC205C2B900DA92D20110A00;1826F21CA93120111C4C0D2720D020AD36108D4510AD37108D461007AF;18270A20C22020FE1A4C1327AD2310CDE510900AD00DAD2210CDE409B2;18272210B00520232118603860202E425954452000202E574
79AA821A821A821CD21CD21CD219221A821A821A821CD21891F0AA2;1827B2891F041F4D1E4D1E4D1E821E821E821E891FC01F4D1E4D1E073A;1827CA821EBE1EFF1E041F3B1F3E1F441F4B1F701F761F7C1FC01F07E7;1827E2AB1FB41F961F000000414443414E4441534C424343424353078E;1827FA424551424952544952545353424353454307DE;1828725345445345495354415354585354595441585441595453580830;18288A54584154585354594141534F524C414C5345525241415853081B;1828A24C415844434D494E53414C524152524F414C5341584E4F5007FE;1828BA534B42534B5721690000006909006F690900006;182932000000037B008D03000000037B0000900000969093004500048D;18294AA200969093000C90000096909300A890A50000900000605A0862;1829625D00605A5D009C5A9900605A5D000F5A0000605A5D00335A06CA;18297A9F00605A5D003C3600003C363F00513642003C363F001B36055F;182992000000300E0E001216000000060600120401CB;182A0A02000C0C0C00141800000008080012100000000E0E0012160114;182A22000000060600120402001A0C0C00141800000008080012100118;182A3A0000000E0E000016000006060600120012000C0C0C0014180134;182A52000008080A0012101200000E0000041604049A;182ACA9008A9008D38104C1D2BA9018D3810A9708D3B108D3910A908A5;182AE2378D3C108D3A10A951A02E20BB1B20901BB028A995A02E200998;182AFABB1B20901BB00AA9F38D3910A9388D3A1020B02CB00DAD390A60;182B12108D3D10AD3A108D3E1060A9F38D3D10A9388D3E1060AD3B08EB;182B2A108D1210CD1510F018CD1610F03A203C220863;182BA2903F20282C20312CC920F0034CB3226020282C20312CC92007DC;182BBAD01D38AD3910E90948AD3A10E900A86820E42BA92B20111C0992;182BD2A93120111C3860AD3910AC3A1020E42B386085DD84DEA00009EB;182BEAB1DDF00AC920F00620111CC8D0F260B02F07AB;182C6220BB1B20FE1A2061202003238D451020FA222003238D46100702;182C7A202922205C2BB00320BF20A93D20111CA92420111C20C22006D1;182C9220FE1A20FA22AD2F10CD331090CBD008AD2E10CD321090C10AC4;182CAA2061204C9A22A977A02E20BB1B20E4FFF0FBC930F004C9310C50;182CC00520B7FFF0EDA90320C3FF20CCFF20F3200D0F;182D3AAD39108D3D10AD3A108D3E10A9F5A02E20BB1B1860A9032008C7;182D52C3FF20CCFFA90CA02F20BB1B3860A20320C6FFA00220CFFF0C70;182D6A99DA1020D2FFC820CFFF99DA1020D2FFC8C008D0F2A900990EE1;182D82DA1020052120D020ADE610C930F91069090CDB;182DFA8D3910AD3A1069008D3A1060EE5110A903CD5110F005A92E09A1;182E124CD2FFA9008D5110A90D4CD2FF303A58524C4C303030302C0977;182E2A532C520D53594D424F4C494320444953415353454D424C590710;182E422028592F4352204F52204E293F20000D4C4F41442055534505DE;1 F4C205441424C45284352204F5220443A4E414D0756;182ED245293A20000D0D52454144494E472053594D424F4C205441069F;182EEA424C452046494C450D0D000D53594D424F4C205441424C4506C8;182F02204C4F414445440D0D000D53594D424F4C205441424C452005B7;182F1A4E4F54204C4F414445440D04424D49424E4542504C42524B4256434256530820;182812434C43434C44434C49434C56434D504350584350594445430737;18282A444558444559454F52494E43494E58494E594A4D504A535207A2;1828424C44414C44584C44594C53524E4F504F524150484150485007A5;18285A504C41504C50524F4C524F525909001E6905A5;1828D20000006909002A690000006909005706000015067800750603F4;1828EA780015067800180600000006780087060000000678007E4804A2;1829020000004863006C48630054486300244800000048630030480493;18291A0000004863008103000000037B0072037B0054037B00270303F463F002D36000000363F003984000039844B004E8404B7;1829AA660039844B001284000000844B008A84000000844B00121605C3;1829C200000006060012040200000C0C0014180000000808001210019D;1829DA0000000E0E000C16000006060600120402000C0C0C00141801D3;1829F200000008080012100000000606060012040136;182A6A12000C0C0C001418000008080A00121012000E0E1000041601A2;182A82000006060600120412000C0C0C00141800000008080012100180;182A9A0000000E0E000416000006060600120412000C0C0C001418019C;182AB200000008080012100000000E0E00A92DA02E20BB1B20831B0D3910AD3C108D3A1060AD32108D2E108D3010AD33108D0787;182B422F108D311060AD3810F043AD22108D4510AD23108D46104C07EA;182B5A612BAD3810F02F20282B20312C8D481020282C20312C8D4706D7;182B721038AD4710ED45108D5110AD4810ED46100D5110F00A20040805;182B8A2CB0034C642B1860A1DDF0FB20111CC84C0DA5;182C02F92B18AD391069088D3910AD3A1069008D3A10CD3E10900A07AB;182C1AD00AAD3910CD3D10B00218603860EE3910D003EE3A1060AD0959;182C32391085DDAD3A1085DEA000B1DD6038AD3010ED32108D51100A4B;182C4AAD3110ED33100D5110F055205E23206120202922A927A2D0F320D2FF8DE610A9B9A02E20BB1B201C1BF020984820AB0C75;182CDA1468A8A200BD292E995C10C8E8E004D0F498A010A25C20BD0C78;182CF2FF4CFF2CA90EA02EA21F20BDFFA903A208A00320BAFF20C00C80;182D0AFF20C41AB03FA9D7A02E20BB1BA9008D511020602D20DE2D09EE;182D2220062E20E1FFF02FA00020A02DC820A02D0A04;182D9A20CFFF4CCCFF20CFFF20D2FF206C1B0A0A0A0A99DA1020CF0C04;182DB2FF20D2FF206C1B19DA1099DA1060A00020CFFF99DA108C540C65;182DCA1020A51BAC5410C820CFFF99DA1020A51B4CCCFFA000AD390BC5;182DE21085DDAD3A1085DEB9DA1091DDC8C009D0F618AD3	82E5A522053594D424F4C205441424C45202859204F52204E2F4306B2;182E7252293F20000D464F524D415420303D5354414E44415244200666;182E8A313D4153434949203A20000D415050454E44204445464155066B;182EA24C54205441424C45202859204F52204E2F4352293F20000D0639;182EBA53594D424
D003B2045585445524E414C200613;102F324144445245535320455155415445530004AF;183742A904A01920BB1B20E4FFF0FBC930F012C931F00EC932F00A0CC3;18375AC933F006C90DD0E7A9304820D2FF6849308D6F3760AAFF800CD7;18377249444259544500FF8143494E54202000FF84494F494E495408BF0FFA843494F55542000FFAB554E544C4B2000FFAE0A4F;183802554E4C534E2000FFB14C495354454E00FFB454414C4B202008A0;18381A00FFB752454144535400FFBA5345544C465300FFBD5345540A15;1838324E414D00FFC04F50454E202000FFC3434C4F53452000FFC609AC;18384A43484B494E2000FFC9434 000FFED5343520AC8;1838C245454E00FFF0504C4F54202000FFF3494F4241534500FFFA0AF6;1838DA4E4D4956454300FFFC52455356454300FFFE4952515645430A76;0238F20000012C;0001570058;1838324E414D00FFC04F50454E202000FFC3434C4F53452000FFC609AC;18384A43484B494E2000FFC9434ABSBITJABSEXToABSLUTKABSX  pABSY  vAC0   %AC1   %ACC   ACHECK%ADRS  OAFILE uAGET  AGET1 ALINE %ALOP  %AOP   AAOP1  AOP2  0AOP3  UAOPX  ASC   rASCCCC%*ASCI1 %WASCII %LASCIIQ%ASCKK %AB0000 BASIC BINARYlBITFLG7oBITOPT7BBOP   RT uDATABEDATABPDATABSDATAO1$DATAO2$DATAOP$DATUT %DBYTES&@DBYTEX&mDECSL !BDEVICEDISA  0DISASS!DISB  ^DISC  DISERRDISFULDISL  DISL1 DLOOA DLOOC DLOOE DLOOP DOLLAR DONE  dDONED EDOP   mDOP2  9DOP3  ;DSLINE}EA     EAGFILE0{HEADERzHEADESHEADFXHEADOKHEADSYHEXA  ILLEGLILLMSG!~ILLOP ']IMEXIT9IMMEDTIMPLI1IMPLID|IMPONEINCC  ,(INCI  "INCIE "INCSL !#INDRCTINDX  INDY  INEND NINENX kINIT  VINITD INITIN"bINSTN1INSTNGINTCH #!INTCHA#INTCHKHT+MATEXT+MATONE+MBYTE ',MCODES(MDBYTE'<MEMSIZ 7MNAMES'MNEMON'EMNLOOP'OMODES )MPASS MSA1  MSA2  MSA3  MSAOP jMSB1  MSB4  EMSB5  eMSD1  qMSD2  MSD4  MSD4A MSD5  MSF1  MSF2  MSG   MSG1  1MSG2  XMSG5  MSGBIT![MSGBZP!cMSNOPRT NOTABSNPRAD  NPRAD1 OFFSET$OFILE OFILE1OFILE2OFILE3OFILE4OFILEDONEBITLONEBX {ONEBY xONEBYTMOPCPUTOPCSYMOPEN  OPERN1'qOPERND'yORGIN  ;OUFILE`OUTPUTP1     PAGECTUPAGER1PASS  PAUS1 %~PAUSE PCHAR PEXIT FPFILE0NE!PRTOT1"4PRTOTH")PRTPAGPRTTH1!PRTTHE!PRTTW1!PRTTWO!PSELEC PUIT  "PUT   -PUTC  -PUTI  "PWORK  PWORKD Q00000&QUITS QUITX -/QUITXX-OQUTERR
RANG  "NRANGE "<READS -`READSTREADX -READXF,READXX,READY -qRELATVRELND RELNEG RELP   /RESLOK  !SMALL #SMALLP6SMALLS4SOP   *SOP1  *SOP2  ,SOP3  ,SOP4  +SORT  #^SORT1 #sSORT2 #SORT3 $SORT4 $0SORTOK$-SOUT  SPAC   SPAC6  SPACE !SPACM  SPASS SSET  +(STABLE7pSTARTDSTARTSSTDREF-STOP  STRPNTSTRSY1+STRSYM+SUBP  'SUBS  ;18378A00FF8752414D54415300FF8A524553544F5200FF8D56454309F9;1837A2544F5200FF905345544D534700FF935345434F4E4400FF960A2B;1837BA544B5341202000FF994D454D544F5000FF9C4D454D424F540945;1837D200FF9F53434E4B455900FFA2534554544D4F00FFA54143500A81;1837EA545220084B4F555400FFCC434C5243484E0942;18386200FFCF434852494E2000FFD24348524F555400FFD54C4F410A6A;18387A44202000FFD853415645202000FFDB53455454494D00FFDE0A21;183892524454494D2000FFE153544F50202000FFE4474554494E200962;1838AA00FFE7434C414C4C2000FFEA554454494D2'SUBS1 'SY    +SYEXIT+SYM   +HSYM1  +aSYM2  +dSYMBOE=SYMBOL8SYMBOP9SYMBOS;SYMBUFSYMEND+SYMOP +\SYTAB *T2    #TABINE2TABINP.TABINS0TDATA TEMP  QTEXTERTWOB  TWOBITTWOBX TWOBY TWOBYTUTABLE8UYMBOECUYMBOP?UYMBOSAVERSONVICRlBOP0  7IBSC   7dBSTUB  BUF   \BYABITBYTES %BYTESX%BYTT  BYZBITCASCII&4CDATA CHKIN CHKOUTCHRIN CHROUTCLOSE CLRCHNCOK   ,$COMENT aCOMET  gCOMOPTCOMPT  wCONST0!CONST1&CPASS CRLF   CRLFPR[CRNO  CRNO1 CRYS  CRYS1 CSHOGOL (EAOUT ,EAS   EASCI1&EASCII&EFILE  QENDAX $ENDDAT%EPASS EQUATE/'EQUEND,EQUINT+5EQUOP ,kEQUOP1,EQUPRT,@ERRCT ZFILE  FILEOKFINAL FINISHHFIXSYM+FOP1  FOP2  FOROPTFORWRDGETBYTOGETC  ,1GETI  #GETIN GETOPE'~GETSL !,GETWRD+#INTEND#ZINTEXT"INTMAT#\INTOUT$IINTPR $TINTPRM${INTPRS$vINTPRT$3INTSA !NINTSET"tIPASS ISKIP LARGE #LINECKLINECOLINECTXLINEFLLINEOKLINES .LISTCTWLOADC .LOADE /LOADF .LOADM .LOOP1 $OLOOP2 $LPAREN LTITLEFLTITLSpMATCH +MATCHS+MATCGDISMSGEND!yMSGERRMSR1  MSS1  .-MSS2  .QMSS3  .wMSS4  .MWORD '4NAME  .NAMS  .)NASCII&%NBUF  NCHARSNCOK  ,&NDATA NEGREL!uNEWEXTNEWLINNEXLINmNEXPTRjNEXPTSNEXTBY'NEXTC ,NEXTP NEXTSL!
NOASC &>NOBINC'*NOFILENOHEX NOID  NOINC !!PFILE1PMSG  POSREL!qPOVER  PRAD   PRBYT PRBYTSPREND $PRFILEPRIN  &PRINT  PRLA   PRO2RDaPROGEDPROGM RPROGOKPROGRDPRTASS'dPRTDAF"!PRTDALPRTDASPRTDAT"PRTEST!PRTGETPRTNEXPRTNU1PRTNU2PRTNU3PRTNUMPRTOK $PRTON1!PRTO	LPC  RELPM  !RELPUT RELSYM REOPEN,RESET .RESINT"ROPT  ROUT  "`RPAREN S3    #SA    SAGOL &SAOUT *SAVA  RSAVEE MSAVEP ISAVES KSAVINT"SAVX  SSAVY  TSBLOK '%SCREN :SCRNO1SCROFFSCRON SELECT"SEMIC  SETLFSSETNAMSEXIT SKIPER%2
" 	 "     $ F . G + H - I { J 0 K L TM zN yO P , Q / R W  \ a e L e i  j g k 8 l m o dp J q r s v t 4 u hy ^ z w{ | i} _ ~ j `                m n l 	   k p qM{ V V J "J %&'(J *+{ +,V - //08 1P 2N 34P 5j9h:j;h<` =^ >` ?^ @P BK BN C Cd DMFJ FPH/ JKMJ NPRRTJ U V W X YZn [n \:]J _Y acJ d eJ ghY i EGWIND1 CWIND2 EWINDOPWINDOWWORD1 &WORDM &WORDPT&WORDS &pWORDS2&WORDS3'WORDSX&WORDSY&WORDXX'WORKEDEWORKERGWREADY~WRITE NXFILE1,XGET  -XINDEX XOP0  XOP1  XOP2  XOPT  XTITLE+XTITLScYINDEX YSHEX ZERBIT:ZEROPG;ZEROUR ZEKW E9 wwI w	 ww	 wwhwh  K9 &+ - - *- ww  T*/ 0 	
&k# # zyO -/ -! % & 'z(y,-/ /    #    p o  o 5    u     zyO / 0 5  =  zy, T0  ( (:#;<q=p>1?* @6AC G G HI~ J	 K L MN O* P T* T* XqY [ \]~ ^q_	 `a	 cdqf j j kl~ mqn	 op	 rsqu y z{ |{ | }       . q* *  T KU LU NT U. W. YS Z. [S ] d d f g i9 jJ k m n o u v- v# w z~ 	 	   x 	  x 	  x #   #       = - > > < ; - < < > 3r :: : ; <r > @: EJ F9 GHJ I N: N O O P Rr S WJ W Y ZJ \]^_cd@e f gJ i j kl mqrst t u v |: | } ~ r            '} (I * . 0 2 5 8 ; >Q @ DE8 F' G2 K3M=N"OP Q RS} U#V X YZ \3 ^q `	os s} tuwx yzg {|RW 
)
# }  }   	   I I }      3 I   ##$ (() -} - . 0 2 3 4 4 53 6I 7 ; ;<f= > ?3 @I A E EFfG K KLfMNYR RSg T`UwWXwYZ[]}       n  #          a   *    A  B  @          L  Z     K    *         9   8  M  g  V  o j  V M    	n 
n   J  m V ]   i j k lm nJ oX qr r/ tX v0 vvwxZ J      ,# k &+ - h- h 	 	 .- T+ 	 	 .+w^ w^ / 0   hh ROX >ZEROY D  +SYEXIT+SYM   +HSYM1  +aSYM2  +dSYMBOE=SYMBOL8SYMBOP9SYMBOS;SYMBUFSYMEND+SYMOP +\SYTAB *T2    #TABINE2TABINP.TABINS0TDATA TEMP  QTEXTERTWOB  TWOBITTWOBX TWOBY TWOBYTUTABLE8UYMBOECUYMBOP?UYMBOSAVERSONVICR3 3 45~ 6	 7h8	 9h: > ?@~ A	 B^ C	 D^ E I JK~ L	 MN	 OPT T UV; WX Y Z[~ \	 ]j^	 _j` a bc~ d	 e` f	 g` hjkllhpiqhris^ t_ u^ v_ w{ { |}   = [ \ [ \ d  A B @ A B @         	
  # 
 # # zyO  + - $ % & '- '(T* + ,/ -0 .22 2* 3q5669 6p819q9   =   = t u t u v     ,                 ""8 # $J % ' ,. /1 2d 6/ 89 ; <=2 > ?O C< $##  {{@p7:p7 p 9896 7 	
86 7 p7J ', . "0 #'$J $s&, (. +0 ,s-J -/. 2    r uJ ttv 6 7   ] E '  Q } ( $ Q Q } 8 R ' R /"}  q  '  (  Q 	 } I     Q $   !Q #	g RW )KI n n   W } #)  x      8  W } #)  x 
_w abw cdZefZggi j_km`ndp]rJt_vIw`y]}} }[  ^[  ^\\#xJ?W E d 2 ?   2 3  3 ?xv ? ? 5 5 )$ %}& & ) .w.w0} 5w678w9:;=I BwBwDwE JhJwKhLwM R S T U V W=[} [#\v ]<^<ab4cDg} g#hi j} k#lv mCnCqrI s4tBx} x#yz {} |#}~ } #v lcnnllI 				F	 	 	F				
							x	K	 	 	 	  	 	"	 &	&	(	z -	-	.	/	0	2	 7	w7	8	w9	:	 <	 <	 =	z =	>	 ?	z @	A	C	D	E	F																																	 	 							 	 	 		 	k	 	z 		 	z 				 	s 		 	 		 	K	 		A
 B
|C
a C
wD
a E
wF
F G
 K
K
8 L
 M
2 N
 O
O
8 P
 Q
3R
 S
 S
 T
V
 W
{ X
 Y
 [
J \
J _
`
a
b
J d
e
{ e
f
 g
 i
i
8 j
F k
 l
2 m
I n
F r
f t
 y
y
 {
 }
 
% 
 

 
G 
% 

8 
& 
=
"
 
 



8 

D
"
 
 


} 


 
} 





  g W 	K
  I    g !"&')+,.W ./012K34 45 5 9  Y       Y     &   =   ;   ;  W_ ` d dy e gilprt xxyz }s s  1   1   y m i 2 ?	O O " #$'U+S+H, -.N/T0U1N5/ 60 79 8<=>? C DEOK/ L0 M N OPSV+ W- YZ. [X]- ]^. _XbdfW giknp- q0 rt- t. u v{- |. } ~-  q#q- #0 HGG b. b.           h      {   ! ! ! !   ! .    .V  zay" v !!)E v  s Eww$J)K$xW  f 	9  w^  }! "w#^ AAI I 4J 3J J v 0  :0E?3v >>4R_ Qe_ eQieiee @ @  onnlG	H	 I	 K	L	M	 N	 O	P	Q	 R	 T	 V	[	 [	\	]	^	_	`	a	e	z e	f	 g	z h	i	n	 n	o	p	q	r	z s	t	 u	v	w	x	gy	z	{	|	g}	}	~	z ~			~	 			~	 		~								;	%			%	;	k	 		 	%	 	 	 	 	E 
 
e 
* 
C 
e 
f 
C 	
* 	
 

e 
* 





w


w

D 
* 
C 
D #
$
a %
'
a (
*
+
 -
1
8 2
 3
a 4
w5
a 6
w7
 8
9
I :
2 ;
F <
 @
@
g 
 
W 
} 
#
 
& 
 
 

} 
) 
 

 
} 
) 
c 

} 
L

L
 
b 


c 
 
b 
c 
c 

 
 
W 
} 
#
 
 
) 
 
 
 
G 

8 
H 
D
"
 
 

} 

 
} 

W 
K
 
H 
 
w9a :r; <w=a > ?r@ @ C F G H cd f h h jplmpn ps t/y3z}~| | |  	 	 	 ==DDDDBBB=DDDB  j $$%&'()../w01w234889==>y >? @y ABEFGHIJ K LMNO TT8 U VW XRY Z [y \ ^Ih h  2 k z  z ?l Jl K  k i k i 2 cW  { .    V    # # # z	a
V  zay                                                                                                                                                                                                                                                              
 (4111)   L!11234                                                                                                    0:PAUSE  ERRORS =  END OF DISASSEMBLY  m b"1 N!     : " 5+LXU YVWZ[ z  ;  @, },  W  H h  *+, -!L0 #! Q )F  -        "# B!8"O"#P#8"$E#%F          "#  #!   LR\     hhhhL~`V   Lq  +OP  +O P! &       ) (0 *    B7=>j  LH h ).\\            T  ST  !TSL USINESS MACHINES PROGRAM FILE (CR OR NAME): PROGRAM ADDRESS: $ EDITOR64 FILE (CR OR NAME): ,S,W,P,RI0HARD COPY (Y/CR OR N)?  START ADDRESS :$ END ADDRESS :$ ADDRESS OFFSET (OR CR):$ ADDRESS OFFSET :$ WINDOW OUTPUT(Y OR N/CR)?  RELATIVE BRANCH ONS0 ASCII1 BYTE2 WORD3 DBYTE4 WORD-1S SKIP ADDRESS RANGEENTER DISASSEMBLY CODE:  LABLE GENERATION (Y/CR OR N)?  FORMATED LISTING (Y/CR OR N)?  6)/8 QQ Q     ;  a ` o  0  `H 8!&}!}& S`H) hH  ) hH  )hH h` [WWB W`  ` [WW<E H); j+ UV  j jF  jUV j j` [WW< H c   p  	4Lo7) #! ,!H B!heL a  " !   ![!  ,! c!   g L #! ,!E FTR \+P <"  L{  EL #! ,!E #! ,!F \+ <"  L  L L"L\+`Z[',    ,!H  !h 4&H
 !  ' h '  !!~LAL #!*#    ,!H h 4&H    ' h ' `LM ML  ML   B! B! ,!H #! #!hL  #! g  B!` L  L  ,!	`@`  #! g LB!       #! g LB!   >L    M  L  #!D"E#FEF ,! FmEFE \+L L"` ,!H0q!L! u! hiIi     L  )"* =     L a  )"y! L g L )"   ,* `X XL H+ #L!L     `L+"#L  EFL;L$L(L)LPASS   )	   Z[ ) 3$    ) H   L~    L R\R      N! OP   #!OP" #!   E  +O$P%  0q  +O*P+  +O,P-0 &' (!)1   0 \ L  E0 N      hhhhL~`X  +OL 

mT  +TOPT  +TOPT  01234S TLE   e   `CBM RESIDENT DISASSEMBLER V080282(C) 1982 BY COMMODORE BTO LABEL (Y/CR OR N)?  BIT INSTRUCTION CODING0/CR STANDARD1     $2C ABS2     $24 ZP3     $2C AND $24ENTER BIT CODE:  DATA TABLE FILE (CR OR NAME): NUMBER OF DATA TABLES (OR CR) :$ TABLE START ADDRESS :$ TABLE END ADDRESS :$ DISASSEMBLY OPTIh    8`XY  ) m`  \` OP 0 OQO0	 OQP`\ lQ0\ l



QQ`80

8`` Y N`8`H hHJJJJ h)L  `S	SS0`W5 LLH))`	`0123456789ABCDEF
d   'DISASSEMBLER64.......PAGE  LINE# LOC   CODE        LINE SYMBOL TABLE SYMBOL VALUE  $0=o7 ,!$4,U  ,! q'L d'   ! ,!H E' !h y' L
!o7) #! ,!H B!h@<088
, XL, YLLQ !Q L#!
"  #!`8`"#`"m$#m% `"#"`"#`.BYTE $  ;BIT ZP SKIP *+$ *-$ .END ;??? ILLEGAL OPCODE  ,! ,	  L! ,!  ! #! ,! ,   B!L! ,!  ! #! ,EF     "L"`23./`./ `"E#F t" #G " #H8FHQEGQ "/3.2`8` t"046157 #Q " #R ".6/7 #E "/3.2L$ #FREQL#45 EG"QH#QS#"# #! ;  B! a L%"#L% a  " %) $  H h 	 #! a  B!` `43
2L%Lp&L@&  !  ', 0  EFi F \+- 1 L'  6E7F   L'#
" #!`8` .BYTE   .WORD   .DBYTE  Q('	S SQ`H "h'L~''L~'')OPlO!!!!!!!!!!!!!!MMMMMi	 i   i	 *i   i	 W  x ux x    x    x ~H   Hc lHc THc $H   Hc 0H   Hc    { r{ T{ '   {    {     E          `Z] `Z] Z `Z] Z  `Z] 3Z `Z] <6  <6? Q6B <6? 6   6? -6   6? 9  9K Nf 9K    K    K      8L+8p;97<:Q.  (.  
98: ,9=:>`=8>`;9<:`2.03/1`8C"E#FLa+8/ (+ 1,H (, 1,G8GEQHFQ
 ,Ld+`: <"? (, 1, L"` (, 1, 89	H:.   H h ).\\ L,.    ?.  Q `- - .      9=:>. `  / 8`       !  0/  - - L   l



   l`   TABLE(CR OR D:NAME):  READING SYMBOL TABLE FILE SYMBOL TABLE LOADED SYMBOL TABLE NOT LOADED ; EXTERNAL ADDRESS EQUATES  	!  ! #! ,! ,   B! B!`)YX  ! !  L  "	,  L!F)
E(F'
E&`8`02130.1/`0K1L2M3N`K0L1M2N3`802Q13Q ##23 F67 QR4.5/Ls#4i4.5i 5/53
42Ls#Lt"802Q13Q`  ^#R #E " #F ! \+ +  L{$     "/3
.2R0  LT$L LO$ L%

mGH8 ,!  L' Q ,! 4&9'  ,! 4&$  ,!'  'QQ(L% &8`' L   ,!  L' 0``8`% !  '<  ,!F #! ,!E     L' !  '4  ,!E6 #! ,!F74* \+Z     L' "L' \+L'Ei;>DKpv|   ADCANDASLBCCBCSBEQBITBMIBNEBPLBRKBVCBVSCLCCLDCLICLVCMPCPXCPYDECDEXDEYEORINCINXINYJMPJSRLDALDXLDYLSRNOPORAPHAPHPPLAPLPROLRORRTIRTSSBCSECSEDSEISTASTXSTYTAXTAYTSXTXATXSTYAASORLALSERRAAXSLAXDCMINSALRARROALSAXNOPSKBSKW!i   i	 oi	                                                               
           
                             -.   h ++ 1 8`9: +8` 
  ` L+9i9:i :>

9=`8`9:`9: `802Q13QU ^# a  )"'/   a  #E " #F )" \+  = $     "/3.2 a L"w.  01 T T  L 9:	9i	9:i :`QQ.L QL0:XRLL0000,S,RSYMBOLIC DISASSEMBLY (Y/CR OR N)?  LOAD USER SYMBOL TABLE (Y OR N/CR)?  FORMAT 0=STANDARD 1=ASCII :  APPEND DEFAULT TABLE (Y OR N/CR)?  SYMBOL 
  012
30H hI0o7`IDBYTE CINT   IOINIT RAMTAS RESTOR VECTOR SETMSG  HCLALL  UDTIM  SCREEN PLOT   IOBASE NMIVEC RESVEC IRQVEC    012
30H hI0o7`IDBYTE CINT   IOINIT RAMTAS RESTOR VECTOR SETMSG KKKKKKSECOND TKSA   MEMTOP MEMBOT SCNKEY SETTMO ACPTR  CIOUT  UNTLK  UNLSN  LISTEN TALK   READST SETLFS SETNAM OPEN   CLOSE  CHKIN  CHKOUT CLRCHN CHRIN  CHROUT LOAD   SAVE   SETTIM RDTIM  STOP   GETIN  KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK